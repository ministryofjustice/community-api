create sequence COURT_REPORT_TRANSFER_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REGISTRATION_CATEGORY_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REGISTRATION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REGISTRATION_LEVEL_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REGISTRATION_REVIEW_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence RELEASE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REPORT_MANAGER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence RESTRICTION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence RISK_ASSESSMENT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence RQMNT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence RQMNT_MANAGER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence RQMNT_TERMIN_REASON_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence RQMNT_TRANSFER_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence RQMNT_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence RQMNT_TYPE_MAIN_CATEGORY_IDSEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SAR_CONTACT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SC_PROVIDER_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence STAFF_ID_SEQ
    minvalue 2600000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence STANDARD_REFERENCE_LIST_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SUBJECT_ACCESS_REPORT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence TEAM_ID_SEQ
    minvalue 2600000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence TRAINING_SESSION_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence TRAINING_SESSION_PASSWORDIDSEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence TRANSFER_REASON_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence TRIGGER_OFFENCE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence UPW_ADJUSTMENT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence UPW_ADJUSTMENT_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence UPW_ALLOCATION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence UPW_APPOINTMENT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence UPW_COMMISSIONING_SOURCE_IDSEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence UPW_DAY_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence UPW_DETAILS_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence UPW_PROJECT_AVAILABILITY_IDSEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence UPW_PROJECT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence UPW_PROVIDER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence USER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence AD_RQMNT_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence AD_RQMNT_TYPE_MAIN_CAT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ADDITIONAL_IDENTIFIER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ADDITIONAL_OFFENCE_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ADDITIONAL_SENTENCE_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ADDRESS_ASSESSMENT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ADDRESS_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ALIAS_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence AP_AUDIT_REGISTER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence AP_REFERRAL_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence AP_RESIDENCE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence APPROVED_PREMISES_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ASSESSMENT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ASSESSMENT_OUTCOME_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence AUDITED_INTERACTION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence BOROUGH_ID_SEQ
    minvalue 2600000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence BUSINESS_INTERACTION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CIRCUMSTANCE_SUB_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CIRCUMSTANCE_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CJALICENCE_COND_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CJALICENCE_CONDITIONTYPEID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CONDITION_MAIN_CATEGORY_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CONDITIONTYPESUBCATEGORY_D_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CONTACT_ALERT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CONTACT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CONTACT_OUTCOME_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CONTACT_SUSPENSION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CONTACT_TYPE_ICON_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CONTACT_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence COURT_APPEARANCE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence COURT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence COURT_REPORT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence COURT_REPORT_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CUSTODIAL_ESTABLISHMENT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CUSTODY_CONTACT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CUSTODY_CONTACT_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CUSTODY_HISTORY_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence CUSTODY_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DEREGISTRATION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DISABILITY_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DISPOSAL_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence TRAINING_PROVIDER_USER_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence TRAINING_TABLE_ROWS_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence COHORT_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence INSTITUTIONAL_REP_TRANS_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence PSS_RQMNT_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence COHORT_HISTORY_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence PSS_RQMNT_MANAGER_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence PSS_RQMNT_TRANSFER_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence PSS_RQMNT_TYPE_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence PSS_RQMNT_TYPE_MAIN_CAT_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence PSS_RQMNT_TYPE_SUB_CAT_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence MERGE_HISTORY_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence MERGE_OFFENDER_VALUES_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence MOVE_ON_CATEGORY_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ND_PARAMETER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence NSI_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence NSI_MANAGER_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence NSI_STATUS_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence NSI_TRANSFER_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence NSI_TYPE_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence NSI_TYPE_STATUS_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence OASYS_ASSESSMENT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OASYS_SENTENCE_PLAN_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OBJECT_TYPE_DOC_TEMP_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OFFENCE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OFFENDER_ADDRESS_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OFFENDER_CRN_SEQ
    minvalue 1000
    maxvalue 900000000000000000
    ;

create sequence OFFENDER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OFFENDER_ID_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OFFENDER_MANAGER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OFFENDER_TRANSFER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OFFICE_LOCATION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OFFLOC_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OGRS_ASSESSMENT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ORDER_MANAGER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ORDER_TRANSFER_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence ORGANISATION_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence PARTITION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PERSONAL_CIRCUMSTANCE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PERSONAL_CONTACT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PNC_NUMBER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence POST_CJA_LIC_COND_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PROBATION_AREA_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PROPOSAL_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PROPOSED_RQMNT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PROVIDER_EMPLOYEE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PROVIDER_LOCATION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PROVIDER_TEAM_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PROVISION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence RECALL_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence RECALL_REASON_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REFERENCE_DATA_MASTER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REFERRAL_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REFERRAL_OUTCOME_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REFERRAL_SOURCE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REFERRAL_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REGISTER_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DISPOSAL_TERMIN_REASON_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DISPOSAL_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DISTRICT_ID_SEQ
    minvalue 2600000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DOCUMENT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DOCUMENT_TEMPLATE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DOCUMENT_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DPA_REPORT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DRUG_TEST_PROFILE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DRUG_TEST_RESULT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DRUG_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DRUG_USAGE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DRUGS_TEST_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ENFORCEMENT_ACTION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence ENFORCEMENT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence EVENT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence EXCLUSION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence EXPLANATION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence EXTERNAL_PROVIDER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence FORM_20_30_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence IAPS_MESSAGE_LOG_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence INSTITUTION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence INSTITUTIONAL_REPORT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence INTERACTION_ID_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence LIC_COND_TYPE_MAIN_CAT_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence LIC_CONDITION_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence LIC_CONDITION_MANAGER_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence LIC_CONDITION_TRANSFER_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence LIC_CONDITION_TYPE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence LIC_TERMIN_REASON_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence LOCAL_DELIVERY_UNIT_ID_SEQ
    minvalue 2600000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence LOST_BEDS_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence MAIN_OFFENCE_ID_SEQ
    minvalue 2500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence MERGE_DUPLICATES_ID_SEQ
    maxvalue 900000000000000000
    ;

create sequence SPG_NOTIFICATION_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SPG_INBOUND_INDEX_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence KEY_DATE_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CASE_ALLOCATION_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CASE_ALLOCATION_QUEST_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence MASTER_TRANSFER_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence OFFENDER_CRC_EXPORT_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SPG_SEARCH_OFFENDER_ID_SEQ
    ;

create sequence DSS_SEARCH_OFFENDER_ID_SEQ
    ;

create sequence PROVIDER_LAO_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SPG_SEARCH_REQUEST_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DSS_SEARCH_REQUEST_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SPG_EXCEPTION_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SPG_ERROR_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SPG_ERROR_ELEMENT_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SPG_ERROR_DETAIL_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REGISTER_GROUP_ID_SEQ
    minvalue 1500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REGISTER_TYPE_DUP_GRP_SEQ
    minvalue 1500000000
    maxvalue 900000000000000000
    cache 500
    ;

create sequence REJECTED_TRANSFER_DIARY_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence HOST_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence HOST_AT_RELEASE_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence TIER_ALLOCATION_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence TIER_ALLOCATION_QUEST_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PRISON_OFFENDER_MANAGER_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence RESPONSIBLE_OFFICER_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    start with 2602412109
    ;

create sequence PRECON_HISTORY_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PRECON_TRANSACTION_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence TIER_ALLOC_QUESTION_TIER_IDSEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence NOMIS_TYPE_NSI_TYPE_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CONTACT_ALERT_CLEAR_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SPG_DOCUMENT_REQUEST_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence NOMIS_CASE_NOTE_ERROR_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence SPG_ERROR_CLEAR_REQUEST_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence CRC_INACTIVE_OFFENDER_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DATA_SCRIPT_MESSAGE_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence DYNAMIC_RSR_HISTORY_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence PROCESSING_CRN_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence AP_PREFERRED_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence AP_REFERRAL_DELTA_ERROR_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;

create sequence AP_REFERRAL_DELTA_ID_SEQ
    maxvalue 900000000000000000
    cache 500
    ;


create table IAPS_EVENT
(
    EVENT_ID            NUMBER not null
        constraint XPKIAPS_EVENT
            primary key,
    IAPS_FLAG           NUMBER not null,
    TRAINING_SESSION_ID NUMBER
)
    ;

create table IAPS_LIC_CONDITION
(
    LIC_CONDITION_ID    NUMBER not null
        constraint XPKIAPS_LIC_CONDITION
            primary key,
    IAPS_FLAG           NUMBER not null,
    TRAINING_SESSION_ID NUMBER
)
    ;

create table TRAINING_SESSION
(
    TRAINING_SESSION_ID NUMBER       not null
        constraint XPKTRAINING_SESSION
            primary key,
    NAME                VARCHAR2(50) not null,
    SESSION_PASSWORD    VARCHAR2(50) not null,
    constraint XAK1TRAINING_SESSION
        unique (NAME, TRAINING_SESSION_ID)
)
    ;

create table UPW_DAY
(
    UPW_DAY_ID          NUMBER           not null
        constraint XPKUPW_DAY
            primary key,
    WEEK_DAY            VARCHAR2(20)     not null,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION
)
    ;

create table R_CIRCUMSTANCE_SUB_TYPE
(
    CIRCUMSTANCE_SUB_TYPE_ID NUMBER           not null
        constraint XPKR_CIRCUMSTANCE_SUB_TYPE
            primary key,
    CODE_VALUE               VARCHAR2(100)    not null,
    CODE_DESCRIPTION         VARCHAR2(500)    not null,
    SELECTABLE               CHAR             not null,
    ACTIVE_DUPLICATES        CHAR             not null
        constraint YES_OR_NO_ONLY36
            check (ACTIVE_DUPLICATES IN ('Y', 'N')),
    ROW_VERSION              NUMBER default 0 not null,
    CREATED_BY_USER_ID       NUMBER           not null,
    CREATED_DATETIME         DATE             not null,
    LAST_UPDATED_USER_ID     NUMBER           not null,
    LAST_UPDATED_DATETIME    DATE             not null,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION,
    QUALIFICATION_1_ID       NUMBER,
    QUALIFICATION_2_ID       NUMBER,
    QUALIFICATION_3_ID       NUMBER,
    constraint XAK1R_CIRCUMSTANCE_SUB_TYPE
        unique (CODE_VALUE, TRAINING_SESSION_ID, CIRCUMSTANCE_SUB_TYPE_ID)
)
    ;

create table DISTRICT
(
    DISTRICT_ID           NUMBER           not null
        constraint XPKDISTRICT
            primary key,
    CODE                  VARCHAR2(20)     not null,
    DESCRIPTION           VARCHAR2(30)     not null,
    SELECTABLE            CHAR             not null
        constraint YES_OR_NO3
            check (SELECTABLE IN ('N', 'Y')),
    BOROUGH_ID            NUMBER           not null,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XAK1DISTRICT
        unique (CODE, TRAINING_SESSION_ID, DISTRICT_ID)
)
    ;

create table TRAINING_SESSION_PASSWORD
(
    TRAINING_SESSION_PASSWORD_ID NUMBER       not null
        constraint XPKTRAINING_SESSION_PASSWORD
            primary key,
    WEEK_IDENTIFIER              VARCHAR2(50) not null,
    START_DATE                   DATE,
    END_DATE                     DATE,
    WEEK_SESSION_PASSWORD        VARCHAR2(50) not null,
    TRAINING_SESSION_ID          NUMBER       not null
        references TRAINING_SESSION
)
    ;

create table TEAM
(
    TEAM_ID                  NUMBER           not null
        constraint XPKTEAM
            primary key,
    CODE                     CHAR(6)          not null,
    DESCRIPTION              VARCHAR2(50)     not null,
    DISTRICT_ID              NUMBER           not null
        references DISTRICT,
    LOCAL_DELIVERY_UNIT_ID   NUMBER           not null,
    TELEPHONE                VARCHAR2(35),
    UNPAID_WORK_TEAM         CHAR             not null
        constraint YES_OR_NO_OR_UNKNOWN8
            check (UNPAID_WORK_TEAM IN ('N', 'Y', 'U')),
    ROW_VERSION              NUMBER default 0 not null,
    FAX_NUMBER               VARCHAR2(35),
    CONTACT_NAME             VARCHAR2(200),
    START_DATE               DATE             not null,
    END_DATE                 DATE,
    CREATED_DATETIME         DATE             not null,
    CREATED_BY_USER_ID       NUMBER           not null,
    LAST_UPDATED_DATETIME    DATE             not null,
    LAST_UPDATED_USER_ID     NUMBER           not null,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION,
    PROBATION_AREA_ID        NUMBER           not null,
    PRIVATE                  NUMBER           not null
        constraint TRUE_OR_FALSE_924858398
            check (PRIVATE IN (0, 1)),
    SC_PROVIDER_ID           NUMBER,
    DESIGNATED_TRANSFER_TEAM NUMBER default 0
        constraint TRUE_OR_FALSE_871680176
            check (DESIGNATED_TRANSFER_TEAM IN (0, 1)),
    constraint XAK2TEAM
        unique (CODE, TRAINING_SESSION_ID, TEAM_ID),
    constraint PROVIDER_LOCATION_DATE_VALID8
        check ( (
                (START_DATE <= END_DATE) OR (END_DATE IS NULL)
            ) )
)
    ;

create table BUSINESS_INTERACTION
(
    BUSINESS_INTERACTION_ID     NUMBER           not null
        constraint XPKBUSINESS_INTERACTION
            primary key,
    BUSINESS_INTERACTION_CODE   VARCHAR2(20)     not null,
    DESCRIPTION                 VARCHAR2(500)    not null,
    ENABLED_DATE                DATE,
    AUDIT_INTERACTION_PARAMETER DATE,
    ROW_VERSION                 NUMBER default 0 not null
)
    ;

create table AUDITED_INTERACTION
(
    DATE_TIME               DATE   not null,
    OUTCOME                 CHAR   not null,
    INTERACTION_PARAMETERS  VARCHAR2(4000),
    USER_ID                 NUMBER not null,
    BUSINESS_INTERACTION_ID NUMBER not null,
    SPG_USERNAME            VARCHAR2(80)
)
    ;

create table IAPS_CONTACT
(
    CONTACT_ID          NUMBER not null
        constraint XPKIAPS_CONTACT
            primary key,
    IAPS_FLAG           NUMBER not null,
    TRAINING_SESSION_ID NUMBER
)
    ;

create table ND_PARAMETER
(
    ND_PARAMETER_ID     NUMBER        not null
        constraint XPKND_PARAMETER
            primary key,
    ND_PARAMETER        VARCHAR2(500) not null,
    ND_VALUE            NUMBER        not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    ND_VALUE_STRING     VARCHAR2(1000),
    constraint XAK1ND_PARAMETER
        unique (ND_PARAMETER, ND_PARAMETER_ID)
)
    ;

create table R_DRUG_TYPE
(
    DRUG_TYPE_ID          NUMBER           not null
        constraint XPKR_DRUG_TYPE
            primary key,
    CODE                  VARCHAR2(10)     not null,
    DESCRIPTION           VARCHAR2(50)     not null,
    SELECTABLE            CHAR             not null
        constraint YES_OR_NO4
            check (SELECTABLE IN ('N', 'Y')),
    CAN_BE_INJECTED       CHAR             not null
        constraint YES_OR_NO_OR_UNKNOWN6
            check (CAN_BE_INJECTED IN ('N', 'Y', 'U')),
    QUANTITY_LABEL        VARCHAR2(100)    not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    constraint XAK1R_DRUG_TYPE
        unique (CODE, TRAINING_SESSION_ID, DRUG_TYPE_ID)
)
    ;

create table R_TRANSFER_REASON
(
    TRANSFER_REASON_ID    NUMBER           not null
        constraint XPKR_TRANSFER_REASON
            primary key,
    CODE                  VARCHAR2(100)    not null,
    DESCRIPTION           VARCHAR2(500)    not null,
    SELECTABLE            CHAR             not null
        constraint YES_OR_NO26
            check (SELECTABLE IN ('N', 'Y')),
    TYPE                  VARCHAR2(20)     not null,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XAK1R_TRANSFER_REASON
        unique (CODE, TRAINING_SESSION_ID, TRANSFER_REASON_ID)
)
    ;

create table R_PSS_RQMNT_TYPE_SUB_CATEGORY
(
    PSS_RQMNT_TYPE_SUB_CAT_ID NUMBER(22)           not null
        constraint XPKR_PSS_RQMNT_TYPE_SUB_CATEGO
            primary key,
    CODE                      VARCHAR2(20)         not null,
    DESCRIPTION               VARCHAR2(200)        not null,
    SELECTABLE                CHAR                 not null
        constraint SELECTABLE_1265392886
            check (SELECTABLE IN ('N', 'Y')),
    EXPECTED_SECTOR           VARCHAR2(10),
    ALLOW_DUPLICATES          CHAR
        constraint YES_OR_NO_ONLY_1406907081
            check (ALLOW_DUPLICATES IN ('Y', 'N')),
    INACTIVE_DUPLICATES       CHAR
        constraint YES_OR_NO_ONLY_1716387023
            check (INACTIVE_DUPLICATES IN ('Y', 'N')),
    ROW_VERSION               NUMBER(22) default 0 not null,
    CREATED_BY_USER_ID        NUMBER(22)           not null,
    CREATED_DATETIME          DATE                 not null,
    LAST_UPDATED_USER_ID      NUMBER(22)           not null,
    LAST_UPDATED_DATETIME     DATE                 not null
)
    ;

create table R_CONTACT_OUTCOME_TYPE
(
    CONTACT_OUTCOME_TYPE_ID      NUMBER           not null
        constraint XPKR_CONTACT_OUTCOME_TYPE
            primary key,
    CODE                         VARCHAR2(10)     not null,
    DESCRIPTION                  VARCHAR2(50)     not null,
    OUTCOME_ATTENDANCE           CHAR,
    SELECTABLE                   CHAR             not null,
    OUTCOME_COMPLIANT_ACCEPTABLE CHAR
        constraint YES_OR_NO_427
            check (OUTCOME_COMPLIANT_ACCEPTABLE IN ('Y', 'N')),
    ENFORCEABLE                  CHAR
        constraint YES_OR_NO_428
            check (ENFORCEABLE IN ('Y', 'N')),
    CREATED_DATETIME             DATE             not null,
    ACTION_REQUIRED              CHAR             not null,
    CREATED_BY_USER_ID           NUMBER           not null,
    LAST_UPDATED_USER_ID         NUMBER           not null,
    LAST_UPDATED_DATETIME        DATE             not null,
    ROW_VERSION                  NUMBER default 0 not null,
    TRAINING_SESSION_ID          NUMBER
        references TRAINING_SESSION
)
    ;

create table R_EXPLANATION
(
    EXPLANATION_ID        NUMBER           not null
        constraint XPKR_EXPLANATION
            primary key,
    CODE                  VARCHAR2(10)     not null,
    DESCRIPTION           VARCHAR2(100)    not null,
    SELECTABLE            CHAR             not null
        constraint YES_OR_NO20
            check (SELECTABLE IN ('N', 'Y')),
    ACCEPTABLE            CHAR             not null
        constraint YES_OR_NO_ONLY37
            check (ACCEPTABLE IN ('Y', 'N')),
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XAK1R_EXPLANATION
        unique (CODE, TRAINING_SESSION_ID, EXPLANATION_ID)
)
    ;

create table PARTITION_AREA
(
    PARTITION_AREA_ID   NUMBER           not null
        constraint XPKPARTITION_AREA
            primary key,
    AREA                VARCHAR2(30)     not null,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION
)
    ;

create table ADDRESS
(
    ADDRESS_ID            NUMBER           not null
        constraint XPKADDRESS
            primary key,
    BUILDING_NAME         VARCHAR2(35),
    ADDRESS_NUMBER        VARCHAR2(35),
    STREET_NAME           VARCHAR2(35),
    DISTRICT              VARCHAR2(35),
    TOWN_CITY             VARCHAR2(35),
    POSTCODE              VARCHAR2(8),
    COUNTY                VARCHAR2(35),
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE39
            check (SOFT_DELETED IN (0, 1)),
    TELEPHONE_NUMBER      VARCHAR2(35),
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION
)
    ;

create table R_ASSESSMENT_OUTCOME
(
    ASSESSMENT_OUTCOME_ID   NUMBER           not null
        constraint XPKR_ASSESSMENT_OUTCOME
            primary key,
    CODE                    VARCHAR2(10)     not null,
    DESCRIPTION             VARCHAR2(50)     not null,
    SELECTABLE              CHAR             not null
        constraint YES_OR_NO17
            check (SELECTABLE IN ('N', 'Y')),
    ASSESSMENT_OPEN_TO_EDIT CHAR             not null
        constraint YES_OR_NO_ONLY34
            check (ASSESSMENT_OPEN_TO_EDIT IN ('Y', 'N')),
    CREATED_BY_USER_ID      NUMBER           not null,
    TRAINING_SESSION_ID     NUMBER
        references TRAINING_SESSION,
    LAST_UPDATED_USER_ID    NUMBER           not null,
    ROW_VERSION             NUMBER default 0 not null,
    CREATED_DATETIME        DATE             not null,
    LAST_UPDATED_DATETIME   DATE             not null,
    SPG_OVERRIDE            NUMBER
        constraint TRUE_OR_FALSE_1531610057
            check (SPG_OVERRIDE IN (0, 1)),
    constraint XAK1R_ASSESSMENT_OUTCOME
        unique (CODE, TRAINING_SESSION_ID, ASSESSMENT_OUTCOME_ID)
)
    ;

create table R_CIRCUMSTANCE_TYPE
(
    CIRCUMSTANCE_TYPE_ID  NUMBER           not null
        constraint XPKR_CIRCUMSTANCE_TYPE
            primary key,
    CODE_VALUE            VARCHAR2(100)    not null,
    CODE_DESCRIPTION      VARCHAR2(500)    not null,
    SELECTABLE            CHAR             not null
        constraint YES_OR_NO8
            check (SELECTABLE IN ('N', 'Y')),
    ACTIVE_DUPLICATES     CHAR             not null
        constraint YES_OR_NO_ONLY28
            check (ACTIVE_DUPLICATES IN ('Y', 'N')),
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    ENQUIRY               NUMBER(22)
        constraint TRUE_OR_FALSE_1423364334
            check (ENQUIRY IN (0, 1)),
    SPG_INTEREST          NUMBER
        constraint TRUE_OR_FALSE_1534029671
            check (SPG_INTEREST IN (0, 1)),
    constraint XAK1R_CIRCUMSTANCE_TYPE
        unique (CODE_VALUE, TRAINING_SESSION_ID, CIRCUMSTANCE_TYPE_ID)
)
    ;

create table R_COURT_REPORT_TYPE
(
    COURT_REPORT_TYPE_ID  NUMBER           not null
        constraint XPKR_COURT_REPORT_TYPE
            primary key,
    CODE                  VARCHAR2(20)     not null,
    DESCRIPTION           VARCHAR2(50)     not null,
    SELECTABLE            CHAR             not null
        constraint YES_OR_NO1
            check (SELECTABLE IN ('N', 'Y')),
    DELIVERED             CHAR
        constraint YES_OR_NO_ONLY17
            check (DELIVERED IN ('Y', 'N')),
    ROW_VERSION           NUMBER default 0 not null,
    REQUESTED             CHAR
        constraint YES_OR_NO_ONLY18
            check (REQUESTED IN ('Y', 'N')),
    FORM_30_CODE          VARCHAR2(20),
    PSR                   CHAR
        constraint YES_OR_NO_ONLY19
            check (PSR IN ('Y', 'N')),
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    PRIVATE_TRANSFER      CHAR             not null
        constraint YES_OR_NO_ONLY_1294020556
            check (PRIVATE_TRANSFER IN ('Y', 'N')),
    constraint XAK1R_COURT_REPORT_TYPE
        unique (CODE, TRAINING_SESSION_ID, COURT_REPORT_TYPE_ID),
    constraint XAK2R_COURT_REPORT_TYPE
        unique (FORM_30_CODE, TRAINING_SESSION_ID, COURT_REPORT_TYPE_ID)
)
    ;

create table R_MOVE_ON_CATEGORY
(
    MOVE_ON_CATEGORY_ID      NUMBER           not null
        constraint XPKR_MOVE_ON_CATEGORY
            primary key,
    CODE                     VARCHAR2(20)     not null,
    DESCRIPTION              VARCHAR2(50)     not null,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION,
    SELECTABLE               CHAR             not null
        constraint YES_OR_NO21
            check (SELECTABLE IN ('N', 'Y')),
    DESTINATION_DETAILS_FLAG CHAR             not null
        constraint YES_OR_NO_ONLY38
            check (DESTINATION_DETAILS_FLAG IN ('Y', 'N')),
    CREATED_BY_USER_ID       NUMBER           not null,
    LAST_UPDATED_USER_ID     NUMBER           not null,
    ROW_VERSION              NUMBER default 0 not null,
    CREATED_DATETIME         DATE             not null,
    LAST_UPDATED_DATETIME    DATE             not null,
    constraint XAK1R_MOVE_ON_CATEGORY
        unique (CODE, TRAINING_SESSION_ID, MOVE_ON_CATEGORY_ID)
)
    ;

create table R_CIRCUMSTANCE_TYPE_SUBTYPE
(
    CIRCUMSTANCE_TYPE_ID     NUMBER           not null
        references R_CIRCUMSTANCE_TYPE,
    CIRCUMSTANCE_SUB_TYPE_ID NUMBER           not null
        references R_CIRCUMSTANCE_SUB_TYPE,
    ROW_VERSION              NUMBER default 0 not null,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION,
    constraint XPKR_CIRCUMSTANCE_TYPE_SUBTYPE
        primary key (CIRCUMSTANCE_TYPE_ID, CIRCUMSTANCE_SUB_TYPE_ID)
)
    ;

create table ORGANISATION
(
    ORGANISATION_ID       NUMBER           not null
        constraint XPKORGANISATION
            primary key,
    CODE                  VARCHAR2(20)     not null,
    DESCRIPTION           VARCHAR2(200)    not null,
    CONTACT_NAME          VARCHAR2(200),
    ADDRESS_ID            NUMBER           not null
        constraint R_886
            references ADDRESS,
    PRIVATE               NUMBER           not null
        constraint TRUE_OR_FALSE_1719627878
            check (PRIVATE IN (0, 1)),
    START_DATE            DATE             not null,
    END_DATE              DATE,
    ACTIVE_FLAG           NUMBER           not null,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        constraint R_887
            references TRAINING_SESSION,
    constraint ACTIVE_FLAG_END_DAT_1597930852
        check ( (ACTIVE_FLAG = 0 AND END_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND END_DATE IS NULL)
            )
)
    ;

create table IAPS_RQMNT
(
    RQMNT_ID            NUMBER not null
        constraint XPKIAPS_RQMNT
            primary key,
    IAPS_FLAG           NUMBER not null,
    TRAINING_SESSION_ID NUMBER
)
    ;

create table IAPS_OFFENDER
(
    OFFENDER_ID         NUMBER not null
        constraint XPKIAPS_OFFENDER
            primary key,
    IAPS_FLAG           NUMBER not null,
    TRAINING_SESSION_ID NUMBER
)
    ;

create table EXTERNAL_PROVIDER
(
    EXTERNAL_PROVIDER_ID  NUMBER           not null
        constraint XPKEXTERNAL_PROVIDER
            primary key,
    CODE                  VARCHAR2(20)     not null,
    DESCRIPTION           VARCHAR2(50)     not null,
    CONTACT_NAME          VARCHAR2(200),
    FAX_NUMBER            VARCHAR2(35),
    ROW_VERSION           NUMBER default 0 not null,
    ADDRESS_ID            NUMBER
        references ADDRESS,
    START_DATE            DATE             not null,
    END_DATE              DATE,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XAK1EXTERNAL_PROVIDER
        unique (CODE, TRAINING_SESSION_ID, EXTERNAL_PROVIDER_ID),
    constraint PROVIDER_LOCATION_DATE_VALID5
        check ( (
                (START_DATE <= END_DATE) OR (END_DATE IS NULL)
            ) )
)
    ;

create table R_REFERENCE_DATA_MASTER
(
    REFERENCE_DATA_MASTER_ID NUMBER           not null
        constraint XPKR_REFERENCE_DATA_MASTER
            primary key,
    CODE_SET_NAME            VARCHAR2(100)    not null,
    DESCRIPTION              VARCHAR2(500)    not null,
    LIST_SEQUENCE            CHAR             not null,
    ROW_VERSION              NUMBER default 0 not null,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION,
    constraint XAK1R_REFERENCE_DATA_MASTER
        unique (CODE_SET_NAME, TRAINING_SESSION_ID, REFERENCE_DATA_MASTER_ID)
)
    ;

create table R_STANDARD_REFERENCE_LIST
(
    STANDARD_REFERENCE_LIST_ID NUMBER           not null
        constraint XPKR_STANDARD_REFERENCE_LIST
            primary key,
    CODE_VALUE                 VARCHAR2(100)    not null,
    CODE_DESCRIPTION           VARCHAR2(500)    not null,
    SELECTABLE                 CHAR             not null
        constraint YES_OR_NO27
            check (SELECTABLE IN ('N', 'Y')),
    CREATED_BY_USER_ID         NUMBER           not null,
    CREATED_DATETIME           DATE             not null,
    LAST_UPDATED_USER_ID       NUMBER           not null,
    LAST_UPDATED_DATETIME      DATE             not null,
    REFERENCE_DATA_MASTER_ID   NUMBER           not null
        references R_REFERENCE_DATA_MASTER,
    ROW_VERSION                NUMBER default 0 not null,
    TRAINING_SESSION_ID        NUMBER
        references TRAINING_SESSION,
    SPG_INTEREST               NUMBER
        constraint TRUE_OR_FALSE_1883892480
            check (SPG_INTEREST IN (0, 1)),
    SPG_OVERRIDE               NUMBER
        constraint TRUE_OR_FALSE_1684532474
            check (SPG_OVERRIDE IN (0, 1)),
    constraint XAK1R_STANDARD_REFERENCE_LIST
        unique (CODE_VALUE, REFERENCE_DATA_MASTER_ID, STANDARD_REFERENCE_LIST_ID)
)
    ;

create table R_COURT_REJECTION_REASON
(
    COURT_REPORT_TYPE_ID NUMBER           not null
        constraint R_1037
            references R_COURT_REPORT_TYPE,
    REJECTION_REASON_ID  NUMBER           not null
        constraint R_1038
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION          NUMBER default 0 not null,
    constraint XPKR_COURT_REJECTION_REASON
        primary key (COURT_REPORT_TYPE_ID, REJECTION_REASON_ID)
)
    ;

create table R_COURT_TRANSFER_REASON
(
    COURT_REPORT_TYPE_ID NUMBER           not null
        constraint R_1035
            references R_COURT_REPORT_TYPE,
    TRANSFER_REASON_ID   NUMBER           not null
        constraint R_1036
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION          NUMBER default 0 not null,
    constraint XPKR_COURT_TRANSFER_REASON
        primary key (COURT_REPORT_TYPE_ID, TRANSFER_REASON_ID)
)
    ;

create table R_PSS_RQMNT_TYPE_MAIN_CATEGORY
(
    PSS_RQMNT_TYPE_MAIN_CAT_ID NUMBER(22)           not null
        constraint XPKR_PSS_RQMNT_TYPE_MAIN_CATEG
            primary key,
    CODE                       VARCHAR2(20)         not null,
    DESCRIPTION                VARCHAR2(200)        not null,
    SELECTABLE                 CHAR                 not null
        constraint SELECTABLE_2088104937
            check (SELECTABLE IN ('N', 'Y')),
    UNITS_ID                   NUMBER(22)
        constraint R_937
            references R_STANDARD_REFERENCE_LIST,
    AUTO_START                 CHAR                 not null
        constraint YES_OR_NO_ONLY_136087698
            check (AUTO_START IN ('Y', 'N')),
    ALLOW_DUPLICATES           CHAR
        constraint YES_OR_NO_ONLY_1125613121
            check (ALLOW_DUPLICATES IN ('Y', 'N')),
    INACTIVE_DUPLICATES        CHAR
        constraint YES_OR_NO_ONLY_1877274624
            check (INACTIVE_DUPLICATES IN ('Y', 'N')),
    MINIMUM_LENGTH             NUMBER(22),
    MAXIMUM_LENGTH             NUMBER(22),
    EXPECTED_SECTOR            VARCHAR2(10),
    ROW_VERSION                NUMBER(22) default 0 not null,
    CREATED_BY_USER_ID         NUMBER(22)           not null,
    CREATED_DATETIME           DATE                 not null,
    LAST_UPDATED_USER_ID       NUMBER(22)           not null,
    LAST_UPDATED_DATETIME      DATE                 not null,
    TERM_COUNT                 CHAR
        constraint TERM_COUNT_D_S_367500932
            check (TERM_COUNT IN ('D', 'S'))
)
    ;

create table R_PSS_RQMNT_TRANSFER_REASON
(
    PSS_RQMNT_TYPE_MAIN_CAT_ID NUMBER(22)           not null
        constraint R_989
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY,
    TRANSFER_REASON_ID         NUMBER(22)           not null
        constraint R_1010
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                NUMBER(22) default 0 not null,
    constraint XPKR_PSS_RQMNT_TRANSFER_REASON
        primary key (PSS_RQMNT_TYPE_MAIN_CAT_ID, TRANSFER_REASON_ID)
)
    ;

create table R_INSTITUTION
(
    INSTITUTION_ID             NUMBER           not null,
    ESTABLISHMENT              CHAR             not null
        constraint YES_OR_NO_ONLY30
            check (ESTABLISHMENT IN ('Y', 'N')),
    CODE                       CHAR(6)          not null,
    DESCRIPTION                VARCHAR2(100)    not null,
    SELECTABLE                 CHAR             not null
        constraint YES_OR_NO10
            check (SELECTABLE IN ('N', 'Y')),
    INSTITUTION_NAME           VARCHAR2(100),
    FAX_NUMBER                 VARCHAR2(35),
    ADDRESS_ID                 NUMBER
        references ADDRESS,
    ROW_VERSION                NUMBER default 0 not null,
    CREATED_DATETIME           DATE             not null,
    CREATED_BY_USER_ID         NUMBER           not null,
    LAST_UPDATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID       NUMBER           not null,
    TRAINING_SESSION_ID        NUMBER
        references TRAINING_SESSION,
    ESTABLISHMENT_TYPE_ID      NUMBER
        references R_STANDARD_REFERENCE_LIST,
    IMMIGRATION_REMOVAL_CENTRE CHAR
        constraint YES_OR_NO_ONLY_567802777
            check (IMMIGRATION_REMOVAL_CENTRE IN ('Y', 'N')),
    NOMIS_CDE_CODE             VARCHAR2(50),
    PRIVATE                    NUMBER
        constraint TRUE_OR_FALSE_2088138974
            check (PRIVATE IN (0, 1)),
    constraint XPKR_INSTITUTION
        primary key (INSTITUTION_ID, ESTABLISHMENT),
    constraint XAK1R_INSTITUTION
        unique (CODE, TRAINING_SESSION_ID, INSTITUTION_ID, ESTABLISHMENT)
)
    ;

create table R_PSS_RQMNT_TYPE
(
    PSS_RQMNT_TYPE_ID          NUMBER(22)           not null
        constraint XPKR_PSS_RQMNT_TYPE
            primary key,
    PSS_RQMNT_TYPE_SUB_CAT_ID  NUMBER(22)           not null
        constraint R_963
            references R_PSS_RQMNT_TYPE_SUB_CATEGORY,
    PSS_RQMNT_TYPE_MAIN_CAT_ID NUMBER(22)           not null
        constraint R_964
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY,
    ROW_VERSION                NUMBER(22) default 0 not null
)
    ;

create table PROPOSAL_TYPE_COURTREPORT_TYPE
(
    PROPOSAL_TYPE_ID      NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    COURT_REPORT_TYPE_ID  NUMBER           not null
        references R_COURT_REPORT_TYPE,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_DATETIME      DATE             not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XPKPROPOSAL_TYPE_COURTREPORT_T
        primary key (PROPOSAL_TYPE_ID, COURT_REPORT_TYPE_ID)
)
    ;

create table OFFICER
(
    TRUST_PROVIDER_FLAG NUMBER           not null
        constraint TRUE_OR_FALSE69
            check (TRUST_PROVIDER_FLAG IN (0, 1)),
    STAFF_EMPLOYEE_ID   NUMBER           not null,
    SURNAME             VARCHAR2(35)     not null,
    FORENAME            VARCHAR2(35)     not null,
    FORENAME2           VARCHAR2(35),
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    STAFF_GRADE_ID      NUMBER
        references R_STANDARD_REFERENCE_LIST,
    START_DATE          DATE             not null,
    END_DATE            DATE             not null,
    constraint XPKOFFICER
        primary key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID)
)
    ;

create table R_RQMNT_TYPE_MAIN_CATEGORY
(
    RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER           not null
        constraint XPKR_RQMNT_TYPE_MAIN_CATEGORY
            primary key,
    CODE                        VARCHAR2(20)     not null,
    DESCRIPTION                 VARCHAR2(200)    not null,
    SELECTABLE                  CHAR             not null
        constraint YES_OR_NO25
            check (SELECTABLE IN ('N', 'Y')),
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    UNITS_ID                    NUMBER
        references R_STANDARD_REFERENCE_LIST,
    AUTO_START                  CHAR             not null
        constraint YES_OR_NO_ONLY39
            check (AUTO_START IN ('Y', 'N')),
    ALLOW_DUPLICATES            CHAR
        constraint YES_OR_NO_432
            check (ALLOW_DUPLICATES IN ('Y', 'N')),
    MINIMUM_LENGTH              NUMBER,
    MAXIMUM_LENGTH              NUMBER,
    FORM_20_CODE                VARCHAR2(50),
    CREATED_BY_USER_ID          NUMBER           not null,
    LAST_UPDATED_USER_ID        NUMBER           not null,
    ROW_VERSION                 NUMBER default 0 not null,
    CREATED_DATETIME            DATE             not null,
    LAST_UPDATED_DATETIME       DATE             not null,
    TERM_COUNT                  CHAR
        constraint TERM_COUNT_D_S_980137180
            check (TERM_COUNT IN ('D', 'S')),
    SUB_TYPE_CHANGE             CHAR   default 'N'
        constraint YES_OR_NO_ONLY_191134824
            check (SUB_TYPE_CHANGE IN ('Y', 'N')),
    RESTRICTIVE                 CHAR
        constraint YES_OR_NO_ONLY_1222623488
            check (RESTRICTIVE IN ('Y', 'N')),
    constraint XAK1R_RQMNT_TYPE_MAIN_CATEGORY
        unique (CODE, TRAINING_SESSION_ID, RQMNT_TYPE_MAIN_CATEGORY_ID)
)
    ;

create table R_RQMNT_TYPE_TERMINATION
(
    RQMNT_TERMINATION_REASON_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER           not null
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    ROW_VERSION                 NUMBER default 0 not null,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    constraint XPKR_RQMNT_TYPE_TERMINATION
        primary key (RQMNT_TERMINATION_REASON_ID, RQMNT_TYPE_MAIN_CATEGORY_ID)
)
    ;

create table R_RQMNT_REJECTION_REASON
(
    RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER(22)           not null
        constraint R_993
            references R_RQMNT_TYPE_MAIN_CATEGORY,
    REJECTION_REASON_ID         NUMBER(22)           not null
        constraint R_994
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                 NUMBER(22) default 0 not null,
    constraint XPKR_RQMNT_REJECTION_REASON
        primary key (RQMNT_TYPE_MAIN_CATEGORY_ID, REJECTION_REASON_ID)
)
    ;

create table DISABILITY_PROVISION_TYPE
(
    DISABILITY_TYPE_ID  NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    PROVISION_TYPE_ID   NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    constraint XPKDISABILITY_PROVISION_TYPE
        primary key (DISABILITY_TYPE_ID, PROVISION_TYPE_ID)
)
    ;

create table R_RQMNT_TRANSFER_REASON
(
    RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER(22)           not null
        constraint R_985
            references R_RQMNT_TYPE_MAIN_CATEGORY,
    TRANSFER_REASON_ID          NUMBER(22)           not null
        constraint R_1007
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                 NUMBER(22) default 0 not null,
    constraint XPKR_RQMNT_TRANSFER_REASON
        primary key (RQMNT_TYPE_MAIN_CATEGORY_ID, TRANSFER_REASON_ID)
)
    ;

create table R_PSS_RQMNT_TYPE_TERMINATION
(
    PSS_RQMNT_TERM_REASON_ID   NUMBER(22)           not null
        constraint R_966
            references R_STANDARD_REFERENCE_LIST,
    PSS_RQMNT_TYPE_MAIN_CAT_ID NUMBER(22)           not null
        constraint R_967
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY,
    ROW_VERSION                NUMBER(22) default 0 not null,
    constraint XPKR_PSS_RQMNT_TYPE_TERMINATIO
        primary key (PSS_RQMNT_TERM_REASON_ID, PSS_RQMNT_TYPE_MAIN_CAT_ID)
)
    ;

create table R_PSS_RQMNT_REJECTION_REASON
(
    PSS_RQMNT_TYPE_MAIN_CAT_ID NUMBER(22)           not null
        constraint R_997
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY,
    REJECTION_REASON_ID        NUMBER(22)           not null
        constraint R_998
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                NUMBER(22) default 0 not null,
    constraint XPKR_PSS_RQMNT_REJECTION_REASO
        primary key (PSS_RQMNT_TYPE_MAIN_CAT_ID, REJECTION_REASON_ID)
)
    ;

create table R_OFFENCE
(
    OFFENCE_ID                 NUMBER           not null
        constraint XPKR_OFFENCE
            primary key,
    CODE                       CHAR(5)          not null,
    DESCRIPTION                VARCHAR2(300)    not null,
    ABBREVIATION               VARCHAR2(50),
    MAIN_CATEGORY_CODE         CHAR(3)          not null,
    SELECTABLE                 CHAR             not null
        constraint YES_OR_NO12
            check (SELECTABLE IN ('N', 'Y')),
    MAIN_CATEGORY_DESCRIPTION  VARCHAR2(200)    not null,
    ROW_VERSION                NUMBER default 0 not null,
    MAIN_CATEGORY_ABBREVIATION VARCHAR2(50)     not null,
    OGRS_OFFENCE_CATEGORY_ID   NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    SUB_CATEGORY_CODE          CHAR(2)          not null,
    SUB_CATEGORY_DESCRIPTION   VARCHAR2(200)    not null,
    FORM_20_CODE               VARCHAR2(50),
    SUB_CATEGORY_ABBREVIATION  VARCHAR2(50),
    TRAINING_SESSION_ID        NUMBER
        references TRAINING_SESSION,
    CJIT_CODE                  VARCHAR2(6),
    CREATED_BY_USER_ID         NUMBER(22)       not null,
    CREATED_DATETIME           DATE             not null,
    LAST_UPDATED_USER_ID       NUMBER(22)       not null,
    LAST_UPDATED_DATETIME      DATE             not null,
    constraint XAK1R_OFFENCE
        unique (CODE, TRAINING_SESSION_ID, OFFENCE_ID)
)
    ;

create table R_RECALL_REASON
(
    RECALL_REASON_ID          NUMBER           not null
        constraint XPKR_RECALL_REASON
            primary key,
    CODE                      VARCHAR2(10)     not null,
    DESCRIPTION               VARCHAR2(50)     not null,
    SELECTABLE                CHAR             not null
        constraint YES_OR_NO23
            check (SELECTABLE IN ('N', 'Y')),
    TERMINATION_REASON_OPTION CHAR
        constraint YES_OR_NO_431
            check (TERMINATION_REASON_OPTION IN ('Y', 'N')),
    ROW_VERSION               NUMBER default 0 not null,
    CREATED_BY_USER_ID        NUMBER           not null,
    TRAINING_SESSION_ID       NUMBER
        references TRAINING_SESSION,
    LAST_UPDATED_USER_ID      NUMBER           not null,
    CREATED_DATETIME          DATE             not null,
    LAST_UPDATED_DATETIME     DATE             not null,
    TERMINATION_REASON_ID     NUMBER
        references R_STANDARD_REFERENCE_LIST,
    constraint XAK1R_RECALL_REASON
        unique (CODE, TRAINING_SESSION_ID, RECALL_REASON_ID)
)
    ;

create table R_AD_RQMNT_TYPE_MAIN_CATEGORY
(
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER           not null
        constraint XPKR_AD_RQMNT_TYPE_MAIN_CATEGO
            primary key,
    CODE                           VARCHAR2(20)     not null,
    DESCRIPTION                    VARCHAR2(200)    not null,
    SELECTABLE                     CHAR             not null
        constraint YES_OR_NO16
            check (SELECTABLE IN ('N', 'Y')),
    UNITS_ID                       NUMBER
        references R_STANDARD_REFERENCE_LIST,
    ALLOW_DUPLICATES               CHAR
        constraint YES_OR_NO_423
            check (ALLOW_DUPLICATES IN ('Y', 'N')),
    CREATED_BY_USER_ID             NUMBER           not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    ROW_VERSION                    NUMBER default 0 not null,
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    TERM_COUNT                     CHAR
        constraint TERM_COUNT_D_S_617954679
            check (TERM_COUNT IN ('D', 'S')),
    constraint XAK1R_AD_RQMNT_TYPE_MAIN_CATEG
        unique (CODE, TRAINING_SESSION_ID, AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
)
    ;

create table R_AD_RQMNT_TYPE_TERMINATION
(
    RQMNT_TERMINATION_REASON_ID    NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER           not null
        references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    ROW_VERSION                    NUMBER default 0 not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    constraint XPKR_AD_RQMNT_TYPE_TERMINATION
        primary key (RQMNT_TERMINATION_REASON_ID, AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
)
    ;

create table R_RQMNT_TYPE
(
    RQMNT_TYPE_ID               NUMBER           not null
        constraint XPKR_RQMNT_TYPE
            primary key,
    ROW_VERSION                 NUMBER default 0 not null,
    RQMNT_TYPE_SUB_CATEGORY_ID  NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER           not null
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    constraint XAK1R_RQMNT_TYPE
        unique (TRAINING_SESSION_ID, RQMNT_TYPE_MAIN_CATEGORY_ID, RQMNT_TYPE_SUB_CATEGORY_ID, RQMNT_TYPE_ID)
)
    ;

create table R_REFERRAL_SOURCE
(
    REFERRAL_SOURCE_ID  NUMBER           not null
        constraint XPKR_REFERRAL_SOURCE
            primary key,
    CODE                VARCHAR2(10)     not null,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    DESCRIPTION         VARCHAR2(50)     not null,
    SELECTABLE          CHAR             not null
        constraint YES_OR_NO14
            check (SELECTABLE IN ('N', 'Y')),
    SOURCE_TYPE_ID      NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    constraint XAK1R_REFERRAL_SOURCE
        unique (CODE, TRAINING_SESSION_ID, REFERRAL_SOURCE_ID)
)
    ;

create table R_AD_RQMNT_TYPE
(
    AD_RQMNT_TYPE_ID               NUMBER           not null
        constraint XPKR_AD_RQMNT_TYPE
            primary key,
    ROW_VERSION                    NUMBER default 0 not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    AD_RQMNT_TYPE_SUB_CATEGORY_ID  NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER           not null
        references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    constraint XAK1R_AD_RQMNT_TYPE
        unique (TRAINING_SESSION_ID, AD_RQMNT_TYPE_MAIN_CATEGORY_ID, AD_RQMNT_TYPE_SUB_CATEGORY_ID, AD_RQMNT_TYPE_ID)
)
    ;

create table R_NSI_TYPE
(
    NSI_TYPE_ID                    NUMBER              not null
        constraint XPKR_NSI_TYPE
            primary key,
    CODE                           VARCHAR2(20)        not null,
    DESCRIPTION                    VARCHAR2(200)       not null,
    OFFENDER_LEVEL                 NUMBER              not null
        constraint TRUE_OR_FALSE_723990533
            check (OFFENDER_LEVEL IN (0, 1)),
    EVENT_LEVEL                    NUMBER              not null
        constraint TRUE_OR_FALSE_1973141974
            check (EVENT_LEVEL IN (0, 1)),
    ALLOW_ACTIVE_DUPLICATES        NUMBER              not null
        constraint TRUE_OR_FALSE_1919464364
            check (ALLOW_ACTIVE_DUPLICATES IN (0, 1)),
    ALLOW_INACTIVE_DUPLICATES      NUMBER              not null
        constraint TRUE_OR_FALSE_1196312911
            check (ALLOW_INACTIVE_DUPLICATES IN (0, 1)),
    MINIMUM_LENGTH                 NUMBER,
    MAXIMUM_LENGTH                 NUMBER,
    UNITS_ID                       NUMBER
        constraint R_804
            references R_STANDARD_REFERENCE_LIST,
    ENFORCEMENT_TYPE               NUMBER default 0    not null,
    SELECTABLE                     CHAR                not null
        constraint SELECTABLE_320035946
            check (SELECTABLE IN ('N', 'Y')),
    CREATED_BY_USER_ID             NUMBER              not null,
    CREATED_DATETIME               DATE                not null,
    LAST_UPDATED_USER_ID           NUMBER              not null,
    LAST_UPDATED_DATETIME          DATE                not null,
    ROW_VERSION                    NUMBER default 0    not null,
    TRAINING_SESSION_ID            NUMBER
        constraint R_805
            references TRAINING_SESSION,
    TERM_COUNT                     CHAR
        constraint TERM_COUNT_D_S_1519325482
            check (TERM_COUNT IN ('D', 'S')),
    RATE_CARD_FLAG                 CHAR   default 'N'  not null
        constraint YES_OR_NO_ONLY_606860233
            check (RATE_CARD_FLAG IN ('Y', 'N')),
    CRC_WORK_REQUESTS_DIARY_FLAG   CHAR   default 'N'  not null
        constraint YES_OR_NO_ONLY_79687373
            check (CRC_WORK_REQUESTS_DIARY_FLAG IN ('Y', 'N')),
    NSI_PURPOSE_ID                 NUMBER default NULL not null
        constraint R_1232
            references R_STANDARD_REFERENCE_LIST,
    NSI_TRANSFER_TYPE_ID           NUMBER
        constraint R_1235
            references R_STANDARD_REFERENCE_LIST,
    ADDITIONAL_IDENTIFIER_TYPE1_ID NUMBER
        constraint R_1250
            references R_STANDARD_REFERENCE_LIST,
    ADDITIONAL_IDENTIFIER_TYPE2_ID NUMBER
        constraint R_1251
            references R_STANDARD_REFERENCE_LIST
)
    ;

create table R_RQMNT_NSI_TYPE
(
    RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER           not null
        constraint R_1040
            references R_RQMNT_TYPE_MAIN_CATEGORY,
    NSI_TYPE_ID                 NUMBER           not null
        constraint R_1041
            references R_NSI_TYPE,
    ROW_VERSION                 NUMBER default 0 not null,
    constraint XPKR_RQMNT_NSI_TYPE
        primary key (RQMNT_TYPE_MAIN_CATEGORY_ID, NSI_TYPE_ID)
)
    ;

create table R_NSI_TYPE_SUB_TYPE
(
    NSI_TYPE_ID         NUMBER           not null
        constraint R_808
            references R_NSI_TYPE,
    NSI_SUB_TYPE_ID     NUMBER           not null
        constraint R_809
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        constraint R_810
            references TRAINING_SESSION,
    constraint XPKR_NSI_TYPE_SUB_TYPE
        primary key (NSI_TYPE_ID, NSI_SUB_TYPE_ID)
)
    ;

create table R_NSI_TRANSFER_REASON
(
    NSI_TYPE_ID        NUMBER(22)           not null
        constraint R_991
            references R_NSI_TYPE,
    TRANSFER_REASON_ID NUMBER(22)           not null
        constraint R_1009
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION        NUMBER(22) default 0 not null,
    constraint XPKR_NSI_TRANSFER_REASON
        primary key (NSI_TYPE_ID, TRANSFER_REASON_ID)
)
    ;

create table R_NSI_REJECTION_REASON
(
    NSI_TYPE_ID         NUMBER(22)           not null
        constraint R_999
            references R_NSI_TYPE,
    REJECTION_REASON_ID NUMBER(22)           not null
        constraint R_1000
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION         NUMBER(22) default 0 not null,
    constraint XPKR_NSI_REJECTION_REASON
        primary key (NSI_TYPE_ID, REJECTION_REASON_ID)
)
    ;

create table R_NSI_TYPE_OUTCOME
(
    NSI_TYPE_ID         NUMBER           not null
        constraint R_811
            references R_NSI_TYPE,
    NSI_OUTCOME_ID      NUMBER           not null
        constraint R_812
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        constraint R_813
            references TRAINING_SESSION,
    constraint XPKR_NSI_TYPE_OUTCOME
        primary key (NSI_TYPE_ID, NSI_OUTCOME_ID)
)
    ;

create table R_LINKED_LIST
(
    STANDARD_REFERENCE_DATA1 NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    STANDARD_REFERENCE_DATA2 NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION              NUMBER default 0 not null,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION,
    constraint XPKR_LINKED_LIST
        primary key (STANDARD_REFERENCE_DATA1, STANDARD_REFERENCE_DATA2)
)
    ;

create table R_LIC_COND_TYPE_MAIN_CAT
(
    LIC_COND_TYPE_MAIN_CAT_ID NUMBER           not null
        constraint XPKR_LIC_COND_TYPE_MAIN_CAT
            primary key,
    CODE                      VARCHAR2(100)    not null,
    DESCRIPTION               VARCHAR2(200),
    SELECTABLE                CHAR             not null
        constraint YES_OR_NO22
            check (SELECTABLE IN ('N', 'Y')),
    UNITS_ID                  NUMBER
        references R_STANDARD_REFERENCE_LIST,
    ALLOW_DUPLICATES          CHAR
        constraint YES_OR_NO_430
            check (ALLOW_DUPLICATES IN ('Y', 'N')),
    FORM_20_CODE              VARCHAR2(50),
    CREATED_BY_USER_ID        NUMBER           not null,
    ROW_VERSION               NUMBER default 0 not null,
    LAST_UPDATED_USER_ID      NUMBER           not null,
    TRAINING_SESSION_ID       NUMBER
        references TRAINING_SESSION,
    CREATED_DATETIME          DATE             not null,
    LAST_UPDATED_DATETIME     DATE             not null,
    TERM_COUNT                CHAR
        constraint TERM_COUNT_D_S_325336639
            check (TERM_COUNT IN ('D', 'S')),
    constraint XAK1R_LIC_COND_TYPE_MAIN_CAT
        unique (CODE, TRAINING_SESSION_ID, LIC_COND_TYPE_MAIN_CAT_ID)
)
    ;

create table R_LIC_COND_REJECTION_REASON
(
    LIC_COND_TYPE_MAIN_CAT_ID NUMBER(22)         not null
        constraint R_995
            references R_LIC_COND_TYPE_MAIN_CAT,
    REJECTION_REASON_ID       NUMBER(22)         not null
        constraint R_996
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION               CHAR(18) default 0 not null,
    constraint XPKR_LIC_COND_REJECTION_REASON
        primary key (LIC_COND_TYPE_MAIN_CAT_ID, REJECTION_REASON_ID)
)
    ;

create table R_POST_CJA_LIC_CONDITION_TYPE
(
    POST_CJA_LIC_CONDITION_TYPE_ID NUMBER           not null
        constraint XPKR_POST_CJA_LIC_CONDITION_TY
            primary key,
    ROW_VERSION                    NUMBER default 0 not null,
    LIC_COND_TYPE_SUB_CAT_ID       NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    LIC_COND_TYPE_MAIN_CAT_ID      NUMBER           not null
        references R_LIC_COND_TYPE_MAIN_CAT,
    constraint XAK1R_POST_CJA_LIC_CONDITION_T
        unique (TRAINING_SESSION_ID, LIC_COND_TYPE_MAIN_CAT_ID, LIC_COND_TYPE_SUB_CAT_ID,
                POST_CJA_LIC_CONDITION_TYPE_ID)
)
    ;

create table R_LIC_COND_TRANSFER_REASON
(
    LIC_COND_TYPE_MAIN_CAT_ID NUMBER(22)           not null
        constraint R_987
            references R_LIC_COND_TYPE_MAIN_CAT,
    TRANSFER_REASON_ID        NUMBER(22)           not null
        constraint R_1008
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION               NUMBER(22) default 0 not null,
    constraint XPKR_LIC_COND_TRANSFER_REASON
        primary key (LIC_COND_TYPE_MAIN_CAT_ID, TRANSFER_REASON_ID)
)
    ;

create table R_DISPOSAL_TYPE
(
    DISPOSAL_TYPE_ID              NUMBER           not null
        constraint XPKR_DISPOSAL_TYPE
            primary key,
    DISPOSAL_TYPE_CODE            VARCHAR2(30)     not null,
    DESCRIPTION                   VARCHAR2(128)    not null,
    SELECTABLE                    CHAR             not null
        constraint YES_OR_NO2
            check (SELECTABLE IN ('N', 'Y')),
    AUTO_TERMINATE                CHAR             not null,
    MINIMUM_LENGTH                NUMBER,
    MAXIMUM_LENGTH                NUMBER,
    CUSTODIAL_ORDER               CHAR             not null
        constraint YES_OR_NO_OR_UNKNOWN4
            check (CUSTODIAL_ORDER IN ('N', 'Y', 'U')),
    ROW_VERSION                   NUMBER default 0 not null,
    ORDER_ABBREVIATED_DESCRIPTION VARCHAR2(200),
    PROPOSAL                      CHAR
        constraint YES_OR_NO_ONLY20
            check (PROPOSAL IN ('Y', 'N')),
    OUTCOME_ID                    NUMBER
        references R_STANDARD_REFERENCE_LIST,
    CJA2003                       CHAR
        constraint YES_OR_NO_ONLY21
            check (CJA2003 IN ('Y', 'N')),
    PRE_CJA2003                   CHAR
        constraint YES_OR_NO_ONLY22
            check (PRE_CJA2003 IN ('Y', 'N')),
    FORM_20_CODE                  VARCHAR2(20),
    SENTENCE_TYPE                 VARCHAR2(50),
    REQUIRED_INFORMATION          VARCHAR2(4000),
    MINIMUM_AGE                   NUMBER
        constraint GREATER_THAN_01
            check (MINIMUM_AGE > 0),
    MAXIMUM_AGE                   NUMBER
        constraint GREATER_THAN_02
            check (MAXIMUM_AGE > 0),
    CREATED_DATETIME              DATE             not null,
    LAST_UPDATED_DATETIME         DATE             not null,
    TRAINING_SESSION_ID           NUMBER
        references TRAINING_SESSION,
    UNITS_ID                      NUMBER
        references R_STANDARD_REFERENCE_LIST,
    TURNOUT_FLAG                  CHAR,
    CREATED_BY_USER_ID            NUMBER           not null,
    COMPLIANCE_FLAG               CHAR,
    LAST_UPDATED_USER_ID          NUMBER           not null,
    ENFORCEABLE_FLAG              CHAR,
    ACTION_FLAG                   CHAR,
    FTC_LIMIT                     NUMBER,
    OUTCOME_WARNING               NUMBER default 0 not null,
    OUTCOME_MESSAGE               VARCHAR2(500),
    COHORT                        CHAR
        constraint COHORT_818730454
            check (COHORT IN ('S', 'R', 'T')),
    PSS_RQMNT                     CHAR
        constraint YES_OR_NO_ONLY_404477636
            check (PSS_RQMNT IN ('Y', 'N')),
    constraint XAK1R_DISPOSAL_TYPE
        unique (DISPOSAL_TYPE_CODE, TRAINING_SESSION_ID, DISPOSAL_TYPE_ID)
)
    ;

create table DISPOSAL_TYPE_AD_RQMNT_TYPE
(
    DISPOSAL_TYPE_ID               NUMBER           not null
        references R_DISPOSAL_TYPE,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER           not null
        references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    ROW_VERSION                    NUMBER default 0 not null,
    CREATED_BY_USER_ID             NUMBER           not null,
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    constraint XPKDISPOSAL_TYPE_AD_RQMNT_TYPE
        primary key (DISPOSAL_TYPE_ID, AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
)
    ;

create table DISPOSAL_TYPE_LIC_COND_TYPE
(
    DISPOSAL_TYPE_ID          NUMBER           not null
        references R_DISPOSAL_TYPE,
    LIC_COND_TYPE_MAIN_CAT_ID NUMBER           not null
        references R_LIC_COND_TYPE_MAIN_CAT,
    ROW_VERSION               NUMBER default 0 not null,
    CREATED_BY_USER_ID        NUMBER           not null,
    CREATED_DATETIME          DATE             not null,
    LAST_UPDATED_USER_ID      NUMBER           not null,
    LAST_UPDATED_DATETIME     DATE             not null,
    TRAINING_SESSION_ID       NUMBER
        references TRAINING_SESSION,
    constraint XPKDISPOSAL_TYPE_LIC_COND_TYPE
        primary key (DISPOSAL_TYPE_ID, LIC_COND_TYPE_MAIN_CAT_ID)
)
    ;

create table R_DISPOSAL_TYPE_TERMINATION
(
    DISPOSAL_TYPE_ID               NUMBER           not null
        references R_DISPOSAL_TYPE,
    DISPOSAL_TERMINATION_REASON_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                    NUMBER default 0 not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    constraint XPKR_DISPOSAL_TYPE_TERMINATION
        primary key (DISPOSAL_TYPE_ID, DISPOSAL_TERMINATION_REASON_ID)
)
    ;

create table DISPOSAL_TYPE_AD_SENT_TYPE
(
    DISPOSAL_TYPE_ID            NUMBER           not null
        references R_DISPOSAL_TYPE,
    ADDITIONAL_SENTENCE_TYPE_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                 NUMBER default 0 not null,
    CREATED_BY_USER_ID          NUMBER           not null,
    CREATED_DATETIME            DATE             not null,
    LAST_UPDATED_USER_ID        NUMBER           not null,
    LAST_UPDATED_DATETIME       DATE             not null,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    constraint XPKDISPOSAL_TYPE_AD_SENT_TYPE
        primary key (DISPOSAL_TYPE_ID, ADDITIONAL_SENTENCE_TYPE_ID)
)
    ;

create table DISPOSAL_TYPE_RQMNT_TYPE
(
    DISPOSAL_TYPE_ID            NUMBER           not null
        references R_DISPOSAL_TYPE,
    RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER           not null
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    ROW_VERSION                 NUMBER default 0 not null,
    CREATED_BY_USER_ID          NUMBER           not null,
    CREATED_DATETIME            DATE             not null,
    LAST_UPDATED_USER_ID        NUMBER           not null,
    LAST_UPDATED_DATETIME       DATE             not null,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    constraint XPKDISPOSAL_TYPE_RQMNT_TYPE
        primary key (DISPOSAL_TYPE_ID, RQMNT_TYPE_MAIN_CATEGORY_ID)
)
    ;

create table PROBATION_AREA
(
    PROBATION_AREA_ID            NUMBER           not null
        constraint XPKPROBATION_AREA
            primary key,
    CODE                         CHAR(3)          not null,
    DESCRIPTION                  VARCHAR2(60)     not null,
    SELECTABLE                   CHAR             not null
        constraint YES_OR_NO13
            check (SELECTABLE IN ('N', 'Y')),
    ROW_VERSION                  NUMBER default 0 not null,
    FORM_20_CODE                 VARCHAR2(20),
    MIGRATED_DATE                DATE,
    HO_AREA_CODE                 VARCHAR2(20),
    CREATED_BY_USER_ID           NUMBER           not null,
    CREATED_DATETIME             DATE             not null,
    LAST_UPDATED_USER_ID         NUMBER           not null,
    LAST_UPDATED_DATETIME        DATE             not null,
    TRAINING_SESSION_ID          NUMBER
        references TRAINING_SESSION,
    TRUST_CODE                   CHAR(3),
    TRUST_DIVISION_ID            NUMBER,
    TRUST_CPA_ID                 NUMBER,
    PRIVATE                      NUMBER           not null
        constraint TRUE_OR_FALSE_1316924380
            check (PRIVATE IN (0, 1)),
    DIVISION_ID                  NUMBER,
    ORGANISATION_ID              NUMBER           not null
        constraint R_898
            references ORGANISATION,
    CONTACT_NAME                 VARCHAR2(200),
    ADDRESS_ID                   NUMBER           not null
        constraint R_899
            references ADDRESS,
    START_DATE                   DATE             not null,
    END_DATE                     DATE,
    SPG_ACTIVE_ID                NUMBER           not null
        constraint R_1050
            references R_STANDARD_REFERENCE_LIST,
    INSTITUTION_ID               NUMBER,
    ESTABLISHMENT                CHAR,
    BROADCAST_REF_DATA           NUMBER,
    BROADCAST_OFFENDER_DATA      NUMBER,
    DEFAULT_TRANSFER_TEAM_ID     NUMBER
        constraint R_1221
            references TEAM,
    ALLOCATE_DOCUMENT_LIST       NUMBER default 0 not null
        constraint TRUE_OR_FALSE_1716605211
            check (ALLOCATE_DOCUMENT_LIST IN (0, 1)),
    QUEUE_SPG_TRANSFER_REQUEST   NUMBER default 1 not null
        constraint TRUE_OR_FALSE_3459496
            check (QUEUE_SPG_TRANSFER_REQUEST IN (0, 1)),
    TRANSITION_TRANSFER_MESSAGES NUMBER default 1 not null
        constraint TRUE_OR_FALSE_1001946058
            check (TRANSITION_TRANSFER_MESSAGES IN (0, 1)),
    DEFAULT_COURT_TEAM_ID        NUMBER
        constraint R_1236
            references TEAM,
    DEFAULT_POSTCODE_TEAM_ID     NUMBER
        constraint R_1237
            references TEAM,
    constraint XAK1PROBATION_AREA
        unique (CODE, TRAINING_SESSION_ID, PROBATION_AREA_ID),
    constraint XAK2PROBATION_AREA
        unique (HO_AREA_CODE, TRAINING_SESSION_ID, PROBATION_AREA_ID),
    constraint XAK3PROBATION_AREA
        unique (FORM_20_CODE, TRAINING_SESSION_ID, PROBATION_AREA_ID),
    constraint R_1194
        foreign key (INSTITUTION_ID, ESTABLISHMENT) references R_INSTITUTION,
    constraint PRIVATE_DIVISION_ID_1805490531
        check ( (PRIVATE = 0 AND DIVISION_ID IS NULL)
            OR
                (PRIVATE = 1 AND DIVISION_ID IS NOT NULL)
            )
)
    ;

create table R_NSI_TYPE_PROBATION_AREA
(
    NSI_TYPE_ID       NUMBER(22)           not null
        constraint R_935
            references R_NSI_TYPE,
    PROBATION_AREA_ID NUMBER(22)           not null
        constraint R_936
            references PROBATION_AREA,
    ROW_VERSION       NUMBER(22) default 0 not null,
    constraint XPKR_NSI_TYPE_PROBATION_AREA
        primary key (NSI_TYPE_ID, PROBATION_AREA_ID)
)
    ;

create table TRAINING_PROVIDER_USER
(
    TRAINING_PROVIDER_USER_ID NUMBER(22)   not null
        constraint XPKTRAINING_PROVIDER_USER
            primary key,
    PROBATION_AREA_ID         NUMBER(22)   not null
        constraint R_1011
            references PROBATION_AREA,
    INSTRUCTOR_COUNT          NUMBER(22)   not null,
    LEARNER_COUNT             NUMBER(22)   not null,
    SUPERUSER_COUNT           NUMBER(22)   not null,
    USER_PASSWORD             VARCHAR2(10) not null
)
    ;

create table PROVIDER_TEAM
(
    PROVIDER_TEAM_ID      NUMBER           not null
        constraint XPKPROVIDER_TEAM
            primary key,
    CODE                  CHAR(6)          not null,
    NAME                  VARCHAR2(50)     not null,
    EXTERNAL_PROVIDER_ID  NUMBER           not null
        references EXTERNAL_PROVIDER,
    START_DATE            DATE,
    END_DATE              DATE,
    UNPAID_WORK           CHAR
        constraint YES_OR_NO_ONLY10
            check (UNPAID_WORK IN ('Y', 'N')),
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_DATETIME      DATE             not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    PROBATION_AREA_ID     NUMBER           not null
        references PROBATION_AREA,
    constraint XAK1PROVIDER_TEAM
        unique (CODE, TRAINING_SESSION_ID, PROVIDER_TEAM_ID),
    constraint PROVIDER_LOCATION_DATE_VALID3
        check ( (
                (START_DATE <= END_DATE) OR (END_DATE IS NULL)
            ) )
)
    ;

alter table TEAM
    add foreign key (PROBATION_AREA_ID) references PROBATION_AREA
    ;

create table ALL_TEAM
(
    TRUST_PROVIDER_FLAG    NUMBER           not null
        constraint TRUE_OR_FALSE40
            check (TRUST_PROVIDER_FLAG IN (0, 1)),
    TRUST_PROVIDER_TEAM_ID NUMBER           not null,
    PROBATION_AREA_ID      NUMBER
        references PROBATION_AREA,
    ROW_VERSION            NUMBER default 0 not null,
    TRAINING_SESSION_ID    NUMBER
        references TRAINING_SESSION,
    DESCRIPTION            VARCHAR2(500),
    TELEPHONE              VARCHAR2(35),
    DISTRICT_ID            NUMBER
        references DISTRICT,
    START_DATE             DATE             not null,
    END_DATE               DATE             not null,
    constraint XPKALL_TEAM
        primary key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID)
)
    ;

create table BOROUGH
(
    BOROUGH_ID            NUMBER           not null
        constraint XPKBOROUGH
            primary key,
    CODE                  VARCHAR2(20)     not null,
    DESCRIPTION           VARCHAR2(30)     not null,
    SELECTABLE            CHAR             not null
        constraint YES_OR_NO7
            check (SELECTABLE IN ('N', 'Y')),
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_DATETIME      DATE             not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    PROBATION_AREA_ID     NUMBER           not null
        references PROBATION_AREA,
    constraint XAK1BOROUGH
        unique (CODE, TRAINING_SESSION_ID, BOROUGH_ID)
)
    ;

create table DPA_REPORT
(
    DPA_REPORT_ID       NUMBER           not null
        constraint XPKDPA_REPORT
            primary key,
    REPORT_DATE         DATE,
    TEAM_ID             NUMBER
        references TEAM,
    PROVIDER_TEAM_ID    NUMBER
        references PROVIDER_TEAM,
    ROW_VERSION         NUMBER default 0 not null,
    PARTITION_AREA_ID   NUMBER           not null
        references PARTITION_AREA,
    DISTRICT_ID         NUMBER
        references DISTRICT,
    BOROUGH_ID          NUMBER
        references BOROUGH,
    PROBATION_AREA_ID   NUMBER
        references PROBATION_AREA,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION
)
    ;

alter table DISTRICT
    add foreign key (BOROUGH_ID) references BOROUGH
    ;

create table FORM_20_30
(
    FORM_20_30_ID       NUMBER           not null
        constraint XPKFORM_20_30
            primary key,
    ROW_VERSION         NUMBER default 0 not null,
    PROBATION_AREA_ID   NUMBER           not null
        references PROBATION_AREA,
    FORM_TYPE           VARCHAR2(20)     not null
        constraint FORM_TYPE
            check (FORM_TYPE IN ('FORM 20', 'FORM 30')),
    START_DATE          DATE             not null,
    END_DATE            DATE             not null,
    SUBMITTED           CHAR             not null
        constraint YES_OR_NO_ONLY29
            check (SUBMITTED IN ('Y', 'N')),
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    constraint XAK1FORM_20_30
        unique (PROBATION_AREA_ID, FORM_TYPE, START_DATE, END_DATE, SUBMITTED, FORM_20_30_ID)
)
    ;

create table COURT
(
    COURT_ID              NUMBER           not null
        constraint XPKCOURT
            primary key,
    CODE                  CHAR(6)          not null,
    SELECTABLE            CHAR             not null
        constraint YES_OR_NO
            check (SELECTABLE IN ('N', 'Y')),
    COURT_NAME            VARCHAR2(80),
    TELEPHONE_NUMBER      VARCHAR2(35),
    FAX                   VARCHAR2(35),
    BUILDING_NAME         VARCHAR2(35),
    STREET                VARCHAR2(35),
    LOCALITY              VARCHAR2(35),
    TOWN                  VARCHAR2(35),
    COUNTY                VARCHAR2(35),
    POSTCODE              VARCHAR2(8),
    COUNTRY               VARCHAR2(16),
    ROW_VERSION           NUMBER default 0 not null,
    COURT_TYPE_ID         NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    CREATED_DATETIME      DATE             not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    PROBATION_AREA_ID     NUMBER           not null
        references PROBATION_AREA,
    SECURE_EMAIL_ADDRESS  VARCHAR2(255),
    constraint XAK1COURT
        unique (CODE, TRAINING_SESSION_ID, COURT_ID)
)
    ;

create table IAPS_MESSAGE_LOG
(
    IAPS_MESSAGE_LOG_ID       NUMBER not null
        constraint XPKIAPS_MESSAGE_LOG
            primary key,
    IAPS_GENERATED_MESSAGE_ID NUMBER not null
        constraint IAPS_MESSAGE_LOG_CONTRAINT_AK1
            unique,
    RECEIVED_DATETIME         DATE   not null,
    SENT_DATETIME             DATE,
    RECORD_ID                 NUMBER,
    CRN                       CHAR(7),
    PROBATION_AREA_ID         NUMBER
        references PROBATION_AREA,
    IAPS_BUSINES_OPERATION_ID NUMBER not null
        references R_STANDARD_REFERENCE_LIST,
    TRAINING_SESSION_ID       NUMBER
)
    ;

create table LOCAL_DELIVERY_UNIT
(
    LOCAL_DELIVERY_UNIT_ID NUMBER           not null
        constraint XPKLOCAL_DELIVERY_UNIT
            primary key,
    CODE                   VARCHAR2(10)     not null,
    DESCRIPTION            VARCHAR2(50)     not null,
    SELECTABLE             CHAR             not null
        constraint YES_OR_NO11
            check (SELECTABLE IN ('N', 'Y')),
    ROW_VERSION            NUMBER default 0 not null,
    CREATED_DATETIME       DATE             not null,
    CREATED_BY_USER_ID     NUMBER           not null,
    LAST_UPDATED_DATETIME  DATE             not null,
    LAST_UPDATED_USER_ID   NUMBER           not null,
    TRAINING_SESSION_ID    NUMBER
        references TRAINING_SESSION,
    PROBATION_AREA_ID      NUMBER           not null
        references PROBATION_AREA,
    constraint XAK1LOCAL_DELIVERY_UNIT
        unique (CODE, TRAINING_SESSION_ID, LOCAL_DELIVERY_UNIT_ID)
)
    ;

alter table TEAM
    add foreign key (LOCAL_DELIVERY_UNIT_ID) references LOCAL_DELIVERY_UNIT
    ;

create table PROVIDER_EMPLOYEE
(
    PROVIDER_EMPLOYEE_ID  NUMBER           not null
        constraint XPKPROVIDER_EMPLOYEE
            primary key,
    CODE                  CHAR(7)          not null,
    SURNAME               VARCHAR2(35)     not null,
    START_DATE            DATE             not null,
    FORENAME              VARCHAR2(35)     not null,
    END_DATE              DATE,
    FORENAME2             VARCHAR2(35),
    ROW_VERSION           NUMBER default 0 not null,
    EXTERNAL_PROVIDER_ID  NUMBER           not null
        references EXTERNAL_PROVIDER,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    PROBATION_AREA_ID     NUMBER
        references PROBATION_AREA,
    constraint XAK1PROVIDER_EMPLOYEE
        unique (CODE, TRAINING_SESSION_ID, PROVIDER_EMPLOYEE_ID),
    constraint PROVIDER_LOCATION_DATE_VALID1
        check ( (
                (START_DATE <= END_DATE) OR (END_DATE IS NULL)
            ) )
)
    ;

create table PROVIDER_TEAM_EMPLOYEE
(
    PROVIDER_TEAM_ID      NUMBER           not null
        references PROVIDER_TEAM,
    PROVIDER_EMPLOYEE_ID  NUMBER           not null
        references PROVIDER_EMPLOYEE,
    START_DATE            DATE             not null,
    END_DATE              DATE,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XPKPROVIDER_TEAM_EMPLOYEE
        primary key (PROVIDER_TEAM_ID, PROVIDER_EMPLOYEE_ID),
    constraint PROVIDER_LOCATION_DATE_VALID4
        check ( (
                (START_DATE <= END_DATE) OR (END_DATE IS NULL)
            ) )
)
    ;

create table R_CJALICENCE_COND_TERMINATION
(
    LIC_TERMINATION_REASON_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    LIC_COND_TYPE_MAIN_CAT_ID NUMBER           not null
        references R_LIC_COND_TYPE_MAIN_CAT,
    ROW_VERSION               NUMBER default 0 not null,
    TRAINING_SESSION_ID       NUMBER
        references TRAINING_SESSION,
    constraint XPKR_CJALICENCE_COND_TERMINATI
        primary key (LIC_TERMINATION_REASON_ID, LIC_COND_TYPE_MAIN_CAT_ID)
)
    ;

create table CONTACT_TYPE_ICON
(
    CONTACT_TYPE_ICON_ID NUMBER         not null
        constraint XPKCONTACT_TYPE_ICON
            primary key,
    ROW_VERSION          NUMBER default 0,
    ICON_NAME            VARCHAR2(100)  not null,
    ICON_PATH            VARCHAR2(4000) not null,
    TRAINING_SESSION_ID  NUMBER
        references TRAINING_SESSION,
    constraint XAK1CONTACT_TYPE_ICON
        unique (ICON_NAME, TRAINING_SESSION_ID, CONTACT_TYPE_ICON_ID)
)
    ;

create table R_CONTACT_TYPE
(
    CONTACT_TYPE_ID                NUMBER           not null
        constraint XPKR_CONTACT_TYPE
            primary key,
    CODE                           VARCHAR2(10)     not null,
    DESCRIPTION                    VARCHAR2(4000)   not null,
    SHORT_DESCRIPTION              VARCHAR2(500),
    SELECTABLE                     CHAR             not null
        constraint YES_OR_NO9
            check (SELECTABLE IN ('N', 'Y')),
    NATIONAL_STANDARDS_CONTACT     CHAR
        constraint YES_OR_NO_409
            check (NATIONAL_STANDARDS_CONTACT IN ('Y', 'N')),
    ATTENDANCE_CONTACT             CHAR
        constraint YES_OR_NO_410
            check (ATTENDANCE_CONTACT IN ('Y', 'N')),
    RECORDED_HOURS_CREDITED        CHAR
        constraint YES_OR_NO_411
            check (RECORDED_HOURS_CREDITED IN ('Y', 'N')),
    SENSITIVE_CONTACT              CHAR
        constraint YES_OR_NO_412
            check (SENSITIVE_CONTACT IN ('Y', 'N')),
    OFFENDER_LEVEL_CONTACT         CHAR
        constraint YES_OR_NO_413
            check (OFFENDER_LEVEL_CONTACT IN ('Y', 'N')),
    ROW_VERSION                    NUMBER default 0 not null,
    CREATED_DATETIME               DATE             not null,
    APPEARS_IN_LIST_OF_CONTACTS    CHAR,
    SMS_MESSAGE_TEXT               CHAR
        constraint YES_OR_NO_414
            check (SMS_MESSAGE_TEXT IN ('Y', 'N')),
    OFFENDER_EVENT_0               CHAR
        constraint YES_OR_NO_415
            check (OFFENDER_EVENT_0 IN ('Y', 'N')),
    LEGACY_ORDERS                  CHAR
        constraint YES_OR_NO_416
            check (LEGACY_ORDERS IN ('Y', 'N')),
    LAST_UPDATED_DATETIME          DATE             not null,
    CJA_ORDERS                     CHAR
        constraint YES_OR_NO_417
            check (CJA_ORDERS IN ('Y', 'N')),
    DPA_EXCLUDE                    CHAR
        constraint YES_OR_NO_418
            check (DPA_EXCLUDE IN ('Y', 'N')),
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    CONTACT_OUTCOME_FLAG           CHAR             not null
        constraint YES_OR_NO_OR_BOTH_ONLY
            check (CONTACT_OUTCOME_FLAG IN ('Y', 'N', 'B')),
    CONTACT_LOCATION_FLAG          CHAR             not null
        constraint YES_OR_NO_OR_BOTH_ONLY1
            check (CONTACT_LOCATION_FLAG IN ('Y', 'N', 'B')),
    CREATED_BY_USER_ID             NUMBER           not null,
    CONTACT_ALERT_FLAG             CHAR             not null,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    FUTURE_SCHEDULED_CONTACTS_FLAG CHAR,
    CONTACT_TYPE_ICON_ID           NUMBER
        references CONTACT_TYPE_ICON,
    EDITABLE                       CHAR,
    DEFAULT_HEADINGS               CLOB,
    PSS_RQMNT                      CHAR
        constraint YES_OR_NO_ONLY_130798902
            check (PSS_RQMNT IN ('Y', 'N')),
    RAR_ACTIVITY                   CHAR
        constraint YES_OR_NO_ONLY_1112934154
            check (RAR_ACTIVITY IN ('Y', 'N')),
    SPG_OVERRIDE                   NUMBER
        constraint TRUE_OR_FALSE_1089845492
            check (SPG_OVERRIDE IN (0, 1)),
    NOMIS_CONTACT_TYPE             VARCHAR2(4000),
    SPG_INTEREST                   NUMBER default 1
        constraint TRUE_OR_FALSE_1289205498
            check (SPG_INTEREST IN (0, 1)),
    SGC_FLAG                       NUMBER default 0
        constraint TRUE_OR_FALSE_1656616625
            check (SGC_FLAG IN (0, 1)),
    constraint XAK1R_CONTACT_TYPE
        unique (CODE, TRAINING_SESSION_ID, CONTACT_TYPE_ID)
)
    ;

create table R_ENFORCEMENT_ACTION
(
    ENFORCEMENT_ACTION_ID      NUMBER           not null
        constraint XPKR_ENFORCEMENT_ACTION
            primary key,
    CODE                       VARCHAR2(10)     not null,
    DESCRIPTION                VARCHAR2(50)     not null,
    SELECTABLE                 CHAR
        constraint YES_OR_NO19
            check (SELECTABLE IN ('N', 'Y')),
    CONTACT_TYPE_ID            NUMBER           not null
        references R_CONTACT_TYPE,
    OUTSTANDING_CONTACT_ACTION CHAR
        constraint YES_OR_429
            check (OUTSTANDING_CONTACT_ACTION IN ('Y', 'N')),
    CREATED_BY_USER_ID         NUMBER           not null,
    ROW_VERSION                NUMBER default 0 not null,
    LAST_UPDATED_USER_ID       NUMBER           not null,
    CREATED_DATETIME           DATE             not null,
    LAST_UPDATED_DATETIME      DATE             not null,
    TRAINING_SESSION_ID        NUMBER
        references TRAINING_SESSION,
    RESPONSE_BY_PERIOD         NUMBER,
    SPG_OVERRIDE               NUMBER
        constraint TRUE_OR_FALSE_1999790266
            check (SPG_OVERRIDE IN (0, 1))
)
    ;

create table R_CONTACT_TYPE_OUTCOME
(
    CONTACT_TYPE_ID         NUMBER           not null
        references R_CONTACT_TYPE,
    CONTACT_OUTCOME_TYPE_ID NUMBER           not null
        references R_CONTACT_OUTCOME_TYPE,
    ROW_VERSION             NUMBER default 0 not null,
    TRAINING_SESSION_ID     NUMBER
        references TRAINING_SESSION,
    constraint XPKR_CONTACT_TYPE_OUTCOME
        primary key (CONTACT_TYPE_ID, CONTACT_OUTCOME_TYPE_ID)
)
    ;

create table R_CONTACT_TYPE_DISPOSAL_TYPE
(
    CONTACT_TYPE_ID     NUMBER           not null
        references R_CONTACT_TYPE,
    DISPOSAL_TYPE_ID    NUMBER           not null
        references R_DISPOSAL_TYPE,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    constraint XPKR_CONTACT_TYPE_DISPOSAL_TYP
        primary key (CONTACT_TYPE_ID, DISPOSAL_TYPE_ID)
)
    ;

create table R_ENF_ACT_CONTACT_OUT_TYPE
(
    ENFORCEMENT_ACTION_ID   NUMBER not null
        references R_ENFORCEMENT_ACTION,
    CONTACT_OUTCOME_TYPE_ID NUMBER not null
        references R_CONTACT_OUTCOME_TYPE,
    ROW_VERSION             NUMBER default 0,
    TRAINING_SESSION_ID     NUMBER
        references TRAINING_SESSION,
    constraint XPKR_ENF_ACT_CONTACT_OUT_TYPE
        primary key (ENFORCEMENT_ACTION_ID, CONTACT_OUTCOME_TYPE_ID)
)
    ;

create table R_ASSESSMENT_TYPE
(
    ASSESSMENT_TYPE_ID       NUMBER           not null
        constraint XPKR_ASSESSMENT_TYPE
            primary key,
    ROW_VERSION              NUMBER default 0 not null,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION,
    CODE                     VARCHAR2(10)     not null,
    DESCRIPTION              VARCHAR2(50)     not null,
    SELECTABLE               CHAR             not null
        constraint YES_OR_NO18
            check (SELECTABLE IN ('N', 'Y')),
    ASSESSMENT_OUTCOME_FLAG  CHAR
        constraint YES_OR_NO_424
            check (ASSESSMENT_OUTCOME_FLAG IN ('Y', 'N')),
    DURATION_FLAG            CHAR
        constraint YES_OR_NO_425
            check (DURATION_FLAG IN ('Y', 'N')),
    SCORE_FLAG               CHAR
        constraint YES_OR_NO_426
            check (SCORE_FLAG IN ('Y', 'N')),
    OFFENDERS_AGREEMENT_FLAG CHAR             not null
        constraint YES_OR_NO_ONLY35
            check (OFFENDERS_AGREEMENT_FLAG IN ('Y', 'N')),
    CREATED_BY_USER_ID       NUMBER           not null,
    CONTACT_TYPE_ID          NUMBER
        references R_CONTACT_TYPE,
    LAST_UPDATED_USER_ID     NUMBER           not null,
    CREATED_DATETIME         DATE             not null,
    LAST_UPDATED_DATETIME    DATE             not null,
    constraint XAK1R_ASSESSMENT_TYPE
        unique (CODE, TRAINING_SESSION_ID, ASSESSMENT_TYPE_ID)
)
    ;

create table R_CONTACT_TYPE_NSI_TYPE
(
    CONTACT_TYPE_ID     NUMBER           not null
        constraint R_817
            references R_CONTACT_TYPE,
    NSI_TYPE_ID         NUMBER           not null
        constraint R_818
            references R_NSI_TYPE,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        constraint R_819
            references TRAINING_SESSION,
    constraint XPKR_CONTACT_TYPE_NSI_TYPE
        primary key (CONTACT_TYPE_ID, NSI_TYPE_ID)
)
    ;

create table R_NSI_STATUS
(
    NSI_STATUS_ID         NUMBER           not null
        constraint XPKR_NSI_STATUS
            primary key,
    CODE                  VARCHAR2(20)     not null,
    DESCRIPTION           VARCHAR2(200)    not null,
    CONTACT_TYPE_ID       NUMBER           not null
        constraint R_806
            references R_CONTACT_TYPE,
    SELECTABLE            CHAR             not null
        constraint SELECTABLE_1299801953
            check (SELECTABLE IN ('N', 'Y')),
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    ROW_VERSION           NUMBER default 0 not null,
    TRAINING_SESSION_ID   NUMBER
        constraint R_807
            references TRAINING_SESSION
)
    ;

create table R_CON_TYPE_AD_REQ_TYPE_MAINCAT
(
    CONTACT_TYPE_ID                NUMBER           not null
        references R_CONTACT_TYPE,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER           not null
        references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    ROW_VERSION                    NUMBER default 0 not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    constraint XPKR_CON_TYPE_AD_REQ_TYPE_MAIN
        primary key (CONTACT_TYPE_ID, AD_RQMNT_TYPE_MAIN_CATEGORY_ID)
)
    ;

create table R_CON_OUT_TYPE_CONTACT_TYPE
(
    CONTACT_OUTCOME_TYPE_ID NUMBER           not null
        references R_CONTACT_OUTCOME_TYPE,
    CONTACT_TYPE_ID         NUMBER           not null
        references R_CONTACT_TYPE,
    ROW_VERSION             NUMBER default 0 not null,
    TRAINING_SESSION_ID     NUMBER
        references TRAINING_SESSION,
    constraint XPKR_CON_OUT_TYPE_CONTACT_TYPE
        primary key (CONTACT_OUTCOME_TYPE_ID, CONTACT_TYPE_ID)
)
    ;

create table R_CON_TYPE_LIC_CON_TYPEMAINCAT
(
    CONTACT_TYPE_ID           NUMBER           not null
        references R_CONTACT_TYPE,
    LIC_COND_TYPE_MAIN_CAT_ID NUMBER           not null
        references R_LIC_COND_TYPE_MAIN_CAT,
    ROW_VERSION               NUMBER default 0 not null,
    TRAINING_SESSION_ID       NUMBER
        references TRAINING_SESSION,
    constraint XPKR_CON_TYPE_LIC_CON_TYPEMAIN
        primary key (CONTACT_TYPE_ID, LIC_COND_TYPE_MAIN_CAT_ID)
)
    ;

create table R_ASSMNT_TYPE_ASSMNT_OUTCOME
(
    ASSESSMENT_TYPE_ID    NUMBER           not null
        references R_ASSESSMENT_TYPE,
    ASSESSMENT_OUTCOME_ID NUMBER           not null
        references R_ASSESSMENT_OUTCOME,
    ROW_VERSION           NUMBER default 0 not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XPKR_ASSMNT_TYPE_ASSMNT_OUTCOM
        primary key (ASSESSMENT_TYPE_ID, ASSESSMENT_OUTCOME_ID)
)
    ;

create table R_CONTACT_TYPECONTACT_CATEGORY
(
    CONTACT_TYPE_ID            NUMBER           not null
        references R_CONTACT_TYPE,
    STANDARD_REFERENCE_LIST_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                NUMBER default 0 not null,
    TRAINING_SESSION_ID        NUMBER
        references TRAINING_SESSION,
    constraint XPKR_CONTACT_TYPECONTACT_CATEG
        primary key (CONTACT_TYPE_ID, STANDARD_REFERENCE_LIST_ID)
)
    ;

create table R_CON_TYPE_REQ_TYPE_MAINCAT
(
    CONTACT_TYPE_ID             NUMBER           not null
        references R_CONTACT_TYPE,
    RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER           not null
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    ROW_VERSION                 NUMBER default 0 not null,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    constraint XPKR_CON_TYPE_REQ_TYPE_MAINCAT
        primary key (CONTACT_TYPE_ID, RQMNT_TYPE_MAIN_CATEGORY_ID)
)
    ;

create table R_NSI_TYPE_STATUS
(
    NSI_TYPE_STATUS_ID  NUMBER           not null
        constraint XPKR_NSI_TYPE_STATUS
            primary key,
    NSI_TYPE_ID         NUMBER           not null
        constraint R_814
            references R_NSI_TYPE,
    NSI_STATUS_ID       NUMBER           not null
        constraint R_815
            references R_NSI_STATUS,
    SEQUENCE_NO         NUMBER           not null,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        constraint R_816
            references TRAINING_SESSION
)
    ;

create table R_REFERRAL_TYPE
(
    REFERRAL_TYPE_ID      NUMBER           not null
        constraint XPKR_REFERRAL_TYPE
            primary key,
    CODE                  VARCHAR2(10)     not null,
    DESCRIPTION           VARCHAR2(50)     not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    ROW_VERSION           NUMBER default 0 not null,
    SELECTABLE            CHAR             not null
        constraint YES_OR_NO24
            check (SELECTABLE IN ('N', 'Y')),
    CREATED_BY_USER_ID    NUMBER           not null,
    CONTACT_TYPE_ID       NUMBER
        references R_CONTACT_TYPE,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    SPG_OVERRIDE          NUMBER
        constraint TRUE_OR_FALSE_101070880
            check (SPG_OVERRIDE IN (0, 1)),
    constraint XAK1R_REFERRAL_TYPE
        unique (CODE, TRAINING_SESSION_ID, REFERRAL_TYPE_ID)
)
    ;

create table R_GEN_REF_OUTCOME_REF_TYPE
(
    GENERIC_REFERRAL_OUTCOME_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    REFERRAL_TYPE_ID            NUMBER           not null
        references R_REFERRAL_TYPE,
    ROW_VERSION                 NUMBER default 0 not null,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    constraint XPKR_GEN_REF_OUTCOME_REF_TYPE
        primary key (GENERIC_REFERRAL_OUTCOME_ID, REFERRAL_TYPE_ID)
)
    ;

create table R_ASSMNT_TYPE_REFERRAL_TYPE
(
    ASSESSMENT_TYPE_ID  NUMBER           not null
        references R_ASSESSMENT_TYPE,
    REFERRAL_TYPE_ID    NUMBER           not null
        references R_REFERRAL_TYPE,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    constraint XPKR_ASSMNT_TYPE_REFERRAL_TYPE
        primary key (ASSESSMENT_TYPE_ID, REFERRAL_TYPE_ID)
)
    ;

create table R_APPROVED_PREMISES
(
    APPROVED_PREMISES_ID         NUMBER           not null
        constraint XPKR_APPROVED_PREMISES
            primary key,
    DESCRIPTION                  VARCHAR2(100)    not null,
    SELECTABLE                   CHAR             not null
        constraint YES_OR_NO6
            check (SELECTABLE IN ('N', 'Y')),
    APPROVED_PREMISES_MANAGER    VARCHAR2(200),
    ACCEPTABILITY_CRITERIA_NOTES CLOB,
    MAXIMUM_OCCUPANCY            NUMBER           not null
        constraint GREATER_THAN_05
            check (MAXIMUM_OCCUPANCY > 0),
    ADDRESS_ID                   NUMBER
        references ADDRESS,
    SECTOR                       VARCHAR2(50),
    PARTITION_AREA_ID            NUMBER default 0 not null
        references PARTITION_AREA,
    ROW_VERSION                  NUMBER default 0 not null,
    TRAINING_SESSION_ID          NUMBER
        references TRAINING_SESSION,
    APPROVED_PREMISES_TYPE_ID    NUMBER
        references R_STANDARD_REFERENCE_LIST,
    NATIONAL_HOSTEL_CODE         NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    GENDER_SUITABILITY_ID        NUMBER
        references R_STANDARD_REFERENCE_LIST,
    PROBATION_AREA_ID            NUMBER           not null
        references PROBATION_AREA,
    CREATED_BY_USER_ID           NUMBER           not null,
    LAST_UPDATED_USER_ID         NUMBER           not null,
    CREATED_DATETIME             DATE             not null,
    LAST_UPDATED_DATETIME        DATE             not null
)
    ;

create table R_AP_REFERRAL_GROUP
(
    APPROVED_PREMISES_ID       NUMBER           not null
        references R_APPROVED_PREMISES,
    STANDARD_REFERENCE_LIST_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                NUMBER default 0 not null,
    TRAINING_SESSION_ID        NUMBER
        references TRAINING_SESSION,
    constraint XPKR_AP_REFERRAL_GROUP
        primary key (APPROVED_PREMISES_ID, STANDARD_REFERENCE_LIST_ID)
)
    ;

create table R_AP_AP_PROVISION
(
    APPROVED_PREMISES_ID       NUMBER           not null
        references R_APPROVED_PREMISES,
    STANDARD_REFERENCE_LIST_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                NUMBER default 0 not null,
    TRAINING_SESSION_ID        NUMBER
        references TRAINING_SESSION,
    constraint XPKR_AP_AP_PROVISION
        primary key (APPROVED_PREMISES_ID, STANDARD_REFERENCE_LIST_ID)
)
    ;

create table R_AP_AP_TYPE
(
    APPROVED_PREMISES_ID       NUMBER           not null
        references R_APPROVED_PREMISES,
    STANDARD_REFERENCE_LIST_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                NUMBER default 0 not null,
    TRAINING_SESSION_ID        NUMBER
        references TRAINING_SESSION,
    constraint XPKR_AP_AP_TYPE
        primary key (APPROVED_PREMISES_ID, STANDARD_REFERENCE_LIST_ID)
)
    ;

create table LOST_BEDS
(
    LOST_BEDS_ID          NUMBER           not null
        constraint XPKLOST_BEDS
            primary key,
    START_DATE            DATE             not null,
    END_DATE              DATE,
    NUMBER_OF_BEDS_LOST   NUMBER           not null
        constraint GREATER_THAN_06
            check (NUMBER_OF_BEDS_LOST > 0),
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    REASON_FOR_LOSS_ID    NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    APPROVED_PREMISES_ID  NUMBER           not null
        references R_APPROVED_PREMISES,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    NOTES                 CLOB,
    EXTERNAL_REFERENCE    VARCHAR2(30)
)
    ;

create table R_REGISTER_TYPE
(
    REGISTER_TYPE_ID               NUMBER           not null
        constraint XPKR_REGISTER_TYPE
            primary key,
    CODE                           VARCHAR2(10)     not null,
    DESCRIPTION                    VARCHAR2(50)     not null,
    SELECTABLE                     CHAR             not null
        constraint YES_OR_NO15
            check (SELECTABLE IN ('N', 'Y')),
    ROW_VERSION                    NUMBER default 0 not null,
    ALERT_MESSAGE_TEXT             VARCHAR2(4000),
    RECORD_TRIGGER_OFFENCE         CHAR,
    RECORD_CATEGORY                CHAR,
    REGISTER_REVIEW_PERIOD         NUMBER,
    RECORD_LEVEL                   CHAR,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    START_DATE                     DATE             not null,
    END_DATE                       DATE,
    REGISTER_TYPE_FLAG_ID          NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ALERT_MESSAGE                  CHAR             not null
        constraint YES_OR_NO_ONLY33
            check (ALERT_MESSAGE IN ('Y', 'N')),
    DPA_EXCLUDE                    CHAR
        constraint YES_OR_NO_421
            check (DPA_EXCLUDE IN ('Y', 'N')),
    CREATED_BY_USER_ID             NUMBER           not null,
    COLOUR                         VARCHAR2(20),
    LAST_UPDATED_USER_ID           NUMBER           not null,
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    DEFAULT_HEADINGS               CLOB,
    SPG_INTEREST                   NUMBER
        constraint TRUE_OR_FALSE_13747429
            check (SPG_INTEREST IN (0, 1)),
    REGISTER_TYPE_SECTOR_ID        NUMBER
        constraint R_1103
            references R_STANDARD_REFERENCE_LIST,
    REGISTRATION_CONTACT_TYPE_ID   NUMBER
        constraint R_1105
            references R_CONTACT_TYPE,
    DEREGISTRATION_CONTACT_TYPE_ID NUMBER
        constraint R_1106
            references R_CONTACT_TYPE,
    REVIEW_CONTACT_TYPE_ID         NUMBER
        constraint R_1107
            references R_CONTACT_TYPE,
    DELETED_CONTACT_TYPE_ID        NUMBER
        constraint R_1108
            references R_CONTACT_TYPE,
    SPG_OVERRIDE                   NUMBER
        constraint TRUE_OR_FALSE_185612578
            check (SPG_OVERRIDE IN (0, 1)),
    IOM_NOMINAL_INDICATOR          NUMBER,
    SAFEGUARDING_INDICATOR         NUMBER,
    VULNERABILITY_INDICATOR        NUMBER,
    DEREGISTRATION_ADVICE          VARCHAR2(200),
    constraint XAK1R_REGISTER_TYPE
        unique (CODE, TRAINING_SESSION_ID, REGISTER_TYPE_ID)
)
    ;

create table TRIGGER_OFFENCE
(
    TRIGGER_OFFENCE_ID  NUMBER           not null
        constraint XPKTRIGGER_OFFENCE
            primary key,
    ROW_VERSION         NUMBER default 0 not null,
    REGISTER_TYPE_ID    NUMBER           not null
        references R_REGISTER_TYPE,
    OFFENCE_ID          NUMBER           not null
        references R_OFFENCE,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    constraint XAK1TRIGGER_OFFENCE
        unique (REGISTER_TYPE_ID, OFFENCE_ID, TRAINING_SESSION_ID, TRIGGER_OFFENCE_ID)
)
    ;

create table PROVIDER_LOCATION
(
    PROVIDER_LOCATION_ID  NUMBER           not null
        constraint XPKPROVIDER_LOCATION
            primary key,
    CODE                  CHAR(7)          not null,
    DESCRIPTION           VARCHAR2(50)     not null,
    FAX_NUMBER            VARCHAR2(35),
    EXTERNAL_PROVIDER_ID  NUMBER           not null
        references EXTERNAL_PROVIDER,
    ROW_VERSION           NUMBER default 0 not null,
    ADDRESS_ID            NUMBER
        references ADDRESS,
    START_DATE            DATE             not null,
    END_DATE              DATE,
    NOTES                 CLOB,
    CONTACT_NAME          VARCHAR2(107),
    CREATED_DATETIME      DATE             not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    PROBATION_AREA_ID     NUMBER
        references PROBATION_AREA,
    constraint XAK1PROVIDER_LOCATION
        unique (CODE, TRAINING_SESSION_ID, PROVIDER_LOCATION_ID),
    constraint PROVIDER_LOCATION_DATE_VALID2
        check ( (
                (START_DATE <= END_DATE) OR (END_DATE IS NULL)
            ) )
)
    ;

create table PROVIDER_TEAM_LOCATION
(
    PROVIDER_TEAM_ID      NUMBER           not null
        references PROVIDER_TEAM,
    PROVIDER_LOCATION_ID  NUMBER           not null
        references PROVIDER_LOCATION,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XPKPROVIDER_TEAM_LOCATION
        primary key (PROVIDER_TEAM_ID, PROVIDER_LOCATION_ID)
)
    ;

create table UPW_PROJECT
(
    UPW_PROJECT_ID                 NUMBER           not null
        constraint XPKUPW_PROJECT
            primary key,
    CODE                           VARCHAR2(20)     not null,
    NAME                           VARCHAR2(200)    not null,
    BENEFICIARY                    VARCHAR2(50),
    HIGH_VISIBILITY_VEST_REQUIRED  CHAR
        constraint YES_OR_NO_408
            check (HIGH_VISIBILITY_VEST_REQUIRED IN ('Y', 'N')),
    ACTUAL_START_DATE              DATE,
    COMPLETION_DATE                DATE,
    EXPECTED_END_DATE              DATE,
    BENEFICIARY_CONTACT_ADDRESS_ID NUMBER
        references ADDRESS,
    PLACEMENT_ADDRESS_ID           NUMBER
        references ADDRESS,
    BENEFICIARY_ADDRESS            VARCHAR2(1000),
    BENEFICIARY_CONTACT_NAME       VARCHAR2(200),
    SELECTABLE                     CHAR             not null
        constraint YES_OR_NO5
            check (SELECTABLE IN ('N', 'Y')),
    PARTITION_AREA_ID              NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION                    NUMBER default 0 not null,
    PROJECT_TYPE_ID                NUMBER
        references R_STANDARD_REFERENCE_LIST,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    TEAM_ID                        NUMBER
        references TEAM,
    PROVIDER_TEAM_ID               NUMBER
        references PROVIDER_TEAM,
    PROBATION_AREA_ID              NUMBER
        references PROBATION_AREA,
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    COMMISSIONING_SOURCE_1         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    COMMISSIONING_SOURCE_2         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    COMMISSIONING_SOURCE_3         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    COMMISSIONING_SOURCE_4         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    PLACEMENT_NOTES                CLOB,
    BENEFICIARY_NOTES              CLOB,
    PLACEMENT_CONTACT_NAME         VARCHAR2(200),
    COMMISSIONING_SOURCE_5         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    UPW_DIVERSITY_1                NUMBER
        references R_STANDARD_REFERENCE_LIST,
    UPW_DIVERSITY_2                NUMBER
        references R_STANDARD_REFERENCE_LIST,
    CREATED_BY_USER_ID             NUMBER           not null,
    UPW_DIVERSITY_3                NUMBER
        references R_STANDARD_REFERENCE_LIST,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    UPW_DIVERSITY_4                NUMBER
        references R_STANDARD_REFERENCE_LIST,
    UPW_DIVERSITY_5                NUMBER
        references R_STANDARD_REFERENCE_LIST,
    constraint XAK1UPW_PROJECT
        unique (NAME, TRAINING_SESSION_ID, UPW_PROJECT_ID),
    constraint UPW_PROJECT_TEAM_XOR
        check ( (
                (TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) )
)
    ;

create table UPW_PROJECT_AVAILABILITY
(
    UPW_PROJECT_AVAILABILITY_ID NUMBER           not null
        constraint XPKUPW_PROJECT_AVAILABILITY
            primary key,
    UPW_DAY_ID                  NUMBER           not null
        references UPW_DAY,
    START_TIME                  DATE             not null,
    END_TIME                    DATE             not null,
    PARTITION_AREA_ID           NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION                 NUMBER default 0 not null,
    CREATED_BY_USER_ID          NUMBER           not null,
    CREATED_DATETIME            DATE             not null,
    LAST_UPDATED_USER_ID        NUMBER           not null,
    LAST_UPDATED_DATETIME       DATE             not null,
    UPW_PROJECT_ID              NUMBER           not null
        references UPW_PROJECT,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION
)
    ;

create table UPW_PROJECT_TIMESCALES_GROUP
(
    UPW_PROJECT_ID            NUMBER           not null
            primary key
        references UPW_PROJECT,
    GENDER_SUITABILITY_ID     NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    MINIMUM_AGE               NUMBER
        constraint GREATER_THAN_013
            check (MINIMUM_AGE > 0),
    MAXIMUM_AGE               NUMBER,
    PARTITION_AREA_ID         NUMBER           not null
        references PARTITION_AREA,
    MINIMUM_NUMBER            NUMBER
        constraint GREATER_THAN_014
            check (MINIMUM_NUMBER > 0),
    MAXIMUM_NUMBER            NUMBER,
    SMOKING_SITE              CHAR
        constraint YES_OR_NO_433
            check (SMOKING_SITE IN ('Y', 'N')),
    PROJECT_VISIBLE_TO_PUBLIC CHAR
        constraint YES_OR_NO_434
            check (PROJECT_VISIBLE_TO_PUBLIC IN ('Y', 'N')),
    DATE_REQUESTED            DATE,
    DATE_JOB_EVALUATED        DATE,
    PLANNED_START_DATE        DATE,
    NOTES_UNSUITABLE_PROJECTS CLOB,
    SPARSITY_ID               NUMBER
        references R_STANDARD_REFERENCE_LIST,
    NUMBER_OF_GROUPS          NUMBER,
    CREATED_BY_USER_ID        NUMBER           not null,
    CREATED_DATETIME          DATE             not null,
    LAST_UPDATED_USER_ID      NUMBER           not null,
    LAST_UPDATED_DATETIME     DATE             not null,
    ROW_VERSION               NUMBER default 0 not null,
    TRAINING_SESSION_ID       NUMBER
        references TRAINING_SESSION
)
    ;

create table OFFICE_LOCATION
(
    OFFICE_LOCATION_ID    NUMBER           not null
        constraint XPKOFFICE_LOCATION
            primary key,
    CODE                  CHAR(7)          not null,
    DESCRIPTION           VARCHAR2(50)     not null,
    DISTRICT_ID           NUMBER           not null
        references DISTRICT,
    BUILDING_NAME         VARCHAR2(35),
    BUILDING_NUMBER       VARCHAR2(35),
    STREET_NAME           VARCHAR2(35),
    TOWN_CITY             VARCHAR2(35),
    COUNTY                VARCHAR2(35),
    POSTCODE              VARCHAR2(8),
    START_DATE            DATE             not null,
    END_DATE              DATE,
    FAX_NUMBER            VARCHAR2(35),
    TELEPHONE_NUMBER      VARCHAR2(35),
    ROW_VERSION           NUMBER default 0 not null,
    NOTES                 CLOB,
    CONTACT_NAME          VARCHAR2(200),
    CREATED_DATETIME      DATE             not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    PROBATION_AREA_ID     NUMBER           not null
        references PROBATION_AREA,
    DISTRICT              VARCHAR2(35),
    constraint XAK1OFFICE_LOCATION
        unique (CODE, TRAINING_SESSION_ID, OFFICE_LOCATION_ID),
    constraint PROVIDER_LOCATION_DATE_VALID6
        check ( (
                (START_DATE <= END_DATE) OR (END_DATE IS NULL)
            ) )
)
    ;

create table TEAM_OFFICE_LOCATION
(
    TEAM_ID               NUMBER           not null
        references TEAM,
    OFFICE_LOCATION_ID    NUMBER           not null
        references OFFICE_LOCATION,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XPKTEAM_OFFICE_LOCATION
        primary key (TEAM_ID, OFFICE_LOCATION_ID)
)
    ;

create table R_OFFICE_LOCATION_LINK
(
    LINK_FROM_OFFICE_LOCATION_ID NUMBER(22)           not null
        constraint R_968
            references OFFICE_LOCATION,
    LINK_TO_OFFICE_LOCATION_ID   NUMBER(22)           not null
        constraint R_969
            references OFFICE_LOCATION,
    ROW_VERSION                  NUMBER(22) default 0 not null,
    constraint XPKR_OFFICE_LOCATION_LINK
        primary key (LINK_FROM_OFFICE_LOCATION_ID, LINK_TO_OFFICE_LOCATION_ID)
)
    ;

create table UPW_WORK_NATURE_QUALIFICATIONS
(
    UPW_PROJECT_ID        NUMBER           not null
            primary key
        references UPW_PROJECT,
    NATURE_OF_WORK_1      NUMBER
        references R_STANDARD_REFERENCE_LIST,
    NATURE_OF_WORK_2      NUMBER
        references R_STANDARD_REFERENCE_LIST,
    NATURE_OF_WORK_3      NUMBER
        references R_STANDARD_REFERENCE_LIST,
    NATURE_OF_WORK_4      NUMBER
        references R_STANDARD_REFERENCE_LIST,
    NATURE_OF_WORK_5      NUMBER
        references R_STANDARD_REFERENCE_LIST,
    OPPORTUNITY_1         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    OPPORTUNITY_2         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    OPPORTUNITY_3         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    OPPORTUNITY_4         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    OPPORTUNITY_5         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    NOTES                 CLOB,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    CREATED_BY_USER_ID    NUMBER           not null,
    ROW_VERSION           NUMBER default 0 not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION
)
    ;

create table OFFENDER
(
    OFFENDER_ID                    NUMBER           not null
        constraint XPKOFFENDER
            primary key,
    FIRST_NAME                     VARCHAR2(35)     not null,
    CRN                            CHAR(7)          not null,
    SECOND_NAME                    VARCHAR2(35),
    PNC_NUMBER                     CHAR(13),
    THIRD_NAME                     VARCHAR2(35),
    CRO_NUMBER                     VARCHAR2(12),
    SURNAME                        VARCHAR2(35)     not null,
    NOMS_NUMBER                    CHAR(7)
-- in production this constraint is disabled there are real duplicates
--        constraint XAK2OFFENDER
--           unique
    ,
    PREVIOUS_SURNAME               VARCHAR2(35),
    ALLOW_SMS                      CHAR
        constraint YES_OR_NO_OR_UNKNOWN9
            check (ALLOW_SMS IN ('N', 'Y', 'U')),
    DATE_OF_BIRTH_DATE             DATE             not null,
    NI_NUMBER                      CHAR(9),
    NOTES                          CLOB,
    LANGUAGE_CONCERNS              VARCHAR2(4000),
    DECEASED_DATE                  DATE,
    INTERPRETER_REQUIRED           CHAR
        constraint YES_OR_NO_OR_UNKNOWN10
            check (INTERPRETER_REQUIRED IN ('N', 'Y', 'U')),
    IMMIGRATION_NUMBER             VARCHAR2(20),
    EXCLUSION_MESSAGE              VARCHAR2(200),
    RESTRICTION_MESSAGE            VARCHAR2(200),
    TELEPHONE_NUMBER               VARCHAR2(35),
    MOBILE_NUMBER                  VARCHAR2(35),
    E_MAIL_ADDRESS                 VARCHAR2(255),
    PARTITION_AREA_ID              NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED                   NUMBER           not null
        constraint TRUE_OR_FALSE65
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION                    NUMBER default 0 not null,
    TITLE_ID                       NUMBER
        references R_STANDARD_REFERENCE_LIST,
    GENDER_ID                      NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ETHNICITY_ID                   NUMBER
        references R_STANDARD_REFERENCE_LIST,
    NATIONALITY_ID                 NUMBER
        references R_STANDARD_REFERENCE_LIST,
    IMMIGRATION_STATUS_ID          NUMBER
        references R_STANDARD_REFERENCE_LIST,
    LANGUAGE_ID                    NUMBER
        references R_STANDARD_REFERENCE_LIST,
    RELIGION_ID                    NUMBER
        references R_STANDARD_REFERENCE_LIST,
    SURNAME_SOUNDEX                VARCHAR2(50)     not null,
    CREATED_DATETIME               DATE             not null,
    MOST_RECENT_PRISONER_NUMBER    VARCHAR2(10),
    LAST_UPDATED_DATETIME          DATE             not null,
    LAST_UPDATED_DATETIME_DIVERSIT DATE,
    SECOND_NATIONALITY_ID          NUMBER
        references R_STANDARD_REFERENCE_LIST,
    SEXUAL_ORIENTATION_ID          NUMBER
        references R_STANDARD_REFERENCE_LIST,
    CURRENT_EXCLUSION              NUMBER default 0 not null
        constraint CON_CURRENT_EXCLUSION
            check (CURRENT_EXCLUSION IN (0, 1)),
    CREATED_BY_USER_ID             NUMBER           not null,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    FIRST_NAME_SOUNDEX             VARCHAR2(50)     not null,
    MIDDLE_NAME_SOUNDEX            VARCHAR2(50),
    LAST_UPDATED_USER_ID_DIVERSITY NUMBER           not null,
    CURRENT_DISPOSAL               NUMBER default 0 not null
        constraint CON_CURRENT_DISPOSAL
            check (CURRENT_DISPOSAL IN (0, 1)),
    CURRENT_HIGHEST_RISK_COLOUR    VARCHAR2(10),
    CURRENT_RESTRICTION            NUMBER default 0 not null
        constraint CON_CURRENT_RESTRICTION
            check (CURRENT_RESTRICTION IN (0, 1)),
    INSTITUTION_ID                 NUMBER,
    ESTABLISHMENT                  CHAR
        constraint YES_OR_NO_ONLY32
            check (ESTABLISHMENT IN ('Y', 'N')),
    ORGANISATIONS                  ARRAY,
    CURRENT_TIER                   NUMBER
        references R_STANDARD_REFERENCE_LIST,
    PENDING_TRANSFER               NUMBER           not null
        constraint TRUE_OR_FALSE66
            check (PENDING_TRANSFER IN (0, 1)),
    OFFENDER_DETAILS               CLOB,
    PREVIOUS_CONVICTION_DATE       DATE,
    PREVIOUS_CONVICTION_DOCUMENT   BLOB,
    PREV_CONVICTION_DOCUMENT_NAME  VARCHAR2(200),
    CURRENT_REMAND_STATUS          VARCHAR2(200),
    OM_ALLOCATION_DECISION_ID      NUMBER
        constraint R_1052
            references R_STANDARD_REFERENCE_LIST,
    PREV_CON_LAST_UPDATED_USER_ID  NUMBER,
    PREV_CON_LAST_UPD_AUTH_PROV_ID NUMBER
        constraint R_1093
            references PROBATION_AREA,
    PREV_CON_CREATED_PROVIDER_ID   NUMBER
        constraint R_1094
            references PROBATION_AREA,
    PREV_CON_CREATED_BY_USER_ID    NUMBER,
    PREV_CON_CREATED_DATETIME      DATE,
    PREV_CON_ALFRESCO_DOCUMENT_ID  VARCHAR2(36)
        constraint XAK1OFFENDER
            unique,
    TRANSGENDER_CONSENT_DISCLOSE   CHAR
        constraint YES_OR_NO_ONLY_1345657105
            check (TRANSGENDER_CONSENT_DISCLOSE IN ('Y', 'N')),
    TRANSGENDER_PROCESS_ID         NUMBER
        constraint R_1113
            references R_STANDARD_REFERENCE_LIST,
    IOM_NOMINAL                    CHAR
        constraint YES_OR_NO_ONLY_1819182291
            check (IOM_NOMINAL IN ('Y', 'N')),
    SAFEGUARDING_ISSUE             CHAR
        constraint YES_OR_NO_ONLY_854915354
            check (SAFEGUARDING_ISSUE IN ('Y', 'N')),
    VULNERABILITY_ISSUE            CHAR
        constraint YES_OR_NO_ONLY_887952511
            check (VULNERABILITY_ISSUE IN ('Y', 'N')),
    DISABILITY                     CHAR
        constraint YES_OR_NO_ONLY_2054319986
            check (DISABILITY IN ('Y', 'N')),
    LEARNING                       CHAR
        constraint YES_OR_NO_ONLY_489520233
            check (LEARNING IN ('Y', 'N')),
    MENTAL_HEALTH                  CHAR
        constraint YES_OR_NO_ONLY_1967808043
            check (MENTAL_HEALTH IN ('Y', 'N')),
    CDC_CUSTODY_START_DATE         DATE,
    DYNAMIC_RSR_SCORE              NUMBER(5, 2),
    foreign key (INSTITUTION_ID, ESTABLISHMENT) references R_INSTITUTION
)
    ;

create table OFFENDER_PRISONER
(
    OFFENDER_ID         NUMBER           not null
        references OFFENDER,
    PRISONER_NUMBER     VARCHAR2(10)     not null,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    PARTITION_AREA_ID   NUMBER
        references PARTITION_AREA,
    constraint XPKOFFENDER_PRISONER
        primary key (OFFENDER_ID, PRISONER_NUMBER)
)
    ;

create table MANAGEMENT_TIER
(
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    TIER_ID               NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    DATE_CHANGED          DATE             not null,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE58
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION           NUMBER default 0 not null,
    TIER_CHANGE_REASON_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    IOM_NOMINAL           CHAR
        constraint YES_OR_NO_ONLY_235092497
            check (IOM_NOMINAL IN ('Y', 'N')),
    SAFEGUARDING_ISSUE    CHAR
        constraint YES_OR_NO_ONLY_1888914895
            check (SAFEGUARDING_ISSUE IN ('Y', 'N')),
    VULNERABILITY_ISSUE   CHAR
        constraint YES_OR_NO_ONLY_696137284
            check (VULNERABILITY_ISSUE IN ('Y', 'N')),
    constraint XPKMANAGEMENT_TIER
        primary key (OFFENDER_ID, TIER_ID, DATE_CHANGED)
)
    ;

create table SUBJECT_ACCESS_REPORT
(
    SUBJECT_ACCESS_REPORT_ID NUMBER           not null
        constraint XPKSUBJECT_ACCESS_REPORT
            primary key,
    REQUEST_DATE_TIME        DATE             not null,
    LOCKED                   CHAR,
    PARTITION_AREA_ID        NUMBER           not null
        references PARTITION_AREA,
    ROW_NUMBER               NUMBER default 0 not null,
    CREATED_DATETIME         DATE             not null,
    CREATED_BY_USER_ID       NUMBER           not null,
    LAST_UPDATED_DATETIME    DATE             not null,
    OFFENDER_ID              NUMBER           not null
        references OFFENDER,
    LAST_UPDATED_USER_ID     NUMBER           not null,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION
)
    ;

create table DPA_REPORT_OFFENDER
(
    DPA_REPORT_ID       NUMBER           not null
        references DPA_REPORT,
    OFFENDER_ID         NUMBER           not null
        references OFFENDER,
    PARTITION_AREA_ID   NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    constraint XPKDPA_REPORT_OFFENDER
        primary key (DPA_REPORT_ID, OFFENDER_ID)
)
    ;

create table ORGANISATION_OFFENDER
(
    OFFENDER_ID          NUMBER           not null
        references OFFENDER,
    PROBATION_AREA_ID    NUMBER           not null
        references PROBATION_AREA,
    PARTITION_AREA_ID    NUMBER
        references PARTITION_AREA,
    ROW_VERSION          NUMBER default 0 not null,
    TRAINING_SESSION_ID  NUMBER
        references TRAINING_SESSION,
    EXTERNAL_PROVIDER_ID NUMBER
        references EXTERNAL_PROVIDER
)
    ;

create table MERGE_OFFENDER_VALUES
(
    MERGE_OFFENDER_VALUES_ID NUMBER        not null
        constraint XPKMERGE_OFFENDER_VALUES
            primary key,
    TARGET_OFFENDER_ID       NUMBER        not null
        constraint R_798
            references OFFENDER,
    ORIGIN_OFFENDER_ID       NUMBER        not null
        constraint R_799
            references OFFENDER,
    ATTRIBUTE                VARCHAR2(400) not null,
    OLD_VALUE_STRING         VARCHAR2(4000),
    NEW_VALUE_STRING         VARCHAR2(4000),
    OLD_VALUE_NUMBER         NUMBER,
    NEW_VALUE_NUMBER         NUMBER,
    OLD_VALUE_DATE           DATE,
    NEW_VALUE_DATE           DATE,
    TRAINING_SESSION_ID      NUMBER
        constraint R_800
            references TRAINING_SESSION
)
    ;

create table MERGE_HISTORY
(
    MERGE_HISTORY_ID    NUMBER        not null
        constraint XPKMERGE_HISTORY
            primary key,
    TABLE_NAME          VARCHAR2(150) not null,
    UNIQUE_ID           NUMBER        not null,
    TARGET_OFFENDER_ID  NUMBER        not null
        constraint R_795
            references OFFENDER,
    ORIGIN_OFFENDER_ID  NUMBER        not null
        constraint R_796
            references OFFENDER,
    EXTRA_DATE_ID       DATE,
    EXTRA_NUMBER_ID     NUMBER,
    EXTRA_STRING_ID     VARCHAR2(400),
    TRAINING_SESSION_ID NUMBER
        constraint R_797
            references TRAINING_SESSION
)
    ;

create table MERGE_DUPLICATES
(
    MERGE_DUPLICATES_ID NUMBER        not null
        constraint XPKMERGE_DUPLICATES
            primary key,
    TABLE_NAME          VARCHAR2(150) not null,
    DUPLICATES          NUMBER        not null,
    TYPE_TABLE          VARCHAR2(150),
    TYPE_ID             NUMBER,
    TARGET_OFFENDER_ID  NUMBER        not null
        constraint R_791
            references OFFENDER,
    ORIGIN_OFFENDER_ID  NUMBER        not null
        constraint R_792
            references OFFENDER,
    TRAINING_SESSION_ID NUMBER
        constraint R_793
            references TRAINING_SESSION
)
    ;

create table DISABILITY
(
    DISABILITY_ID         NUMBER           not null
        constraint XPKDISABILITY
            primary key,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    START_DATE            DATE             not null,
    FINISH_DATE           DATE,
    NOTES                 CLOB,
    SOFT_DELETED          NUMBER           not null,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    DISABILITY_TYPE_ID    NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    ORGANISATIONS         ARRAY,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    constraint XAK1DISABILITY
        unique (OFFENDER_ID, DISABILITY_TYPE_ID, FINISH_DATE, DISABILITY_ID)
)
    ;

create table EVENT
(
    EVENT_ID                      NUMBER           not null
        constraint XPKEVENT
            primary key,
    CONSECUTIVE_TO_EVENT_ID       NUMBER
        constraint R_785
            references EVENT,
    CONCURRENT_WITH_EVENT_ID      NUMBER
        constraint R_784
            references EVENT,
    OFFENDER_ID                   NUMBER           not null
        references OFFENDER,
    EVENT_NUMBER                  VARCHAR2(10)     not null,
    REFERRAL_DATE                 DATE             not null,
    NOTES                         CLOB,
    SOFT_DELETED                  NUMBER           not null
        constraint TRUE_OR_FALSE52
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID             NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION                   NUMBER default 0 not null,
    CREATED_BY_USER_ID            NUMBER           not null,
    CREATED_DATETIME              DATE             not null,
    LAST_UPDATED_USER_ID          NUMBER           not null,
    LAST_UPDATED_DATETIME         DATE             not null,
    TRAINING_SESSION_ID           NUMBER
        references TRAINING_SESSION,
    ORGANISATIONS                 ARRAY,
    IN_BREACH                     NUMBER           not null
        constraint TRUE_OR_FALSE53
            check (IN_BREACH IN (0, 1)),
    ACTIVE_FLAG                   NUMBER           not null
        constraint TRUE_OR_FALSE54
            check (ACTIVE_FLAG IN (0, 1)),
    BREACH_END                    DATE,
    CPS_DATE                      DATE,
    CPS_DOCUMENT                  BLOB,
    CPS_DOCUMENT_NAME             VARCHAR2(200),
    FTC_COUNT                     NUMBER default 0 not null,
    PENDING_TRANSFER              NUMBER           not null
        constraint TRUE_OR_FALSE_1415501270
            check (PENDING_TRANSFER IN (0, 1)),
    CONVICTION_DATE               DATE,
    FIRST_RELEASE_DATE            DATE,
    PSS_RQMNT_FLAG                NUMBER(22)       not null
        constraint TRUE_OR_FALSE_1988266100
            check (PSS_RQMNT_FLAG IN (0, 1)),
    CPS_LAST_UPDATED_USER_ID      NUMBER,
    CPS_LAST_UPDATED_AUTH_PROV_ID NUMBER
        constraint R_1095
            references PROBATION_AREA,
    CPS_CREATED_PROVIDER_ID       NUMBER
        constraint R_1096
            references PROBATION_AREA,
    CPS_CREATED_BY_USER_ID        NUMBER,
    CPS_CREATED_DATETIME          DATE,
    CPS_ALFRESCO_DOCUMENT_ID      VARCHAR2(36)
        constraint XAK1EVENT
            unique,
    CPS_SOFT_DELETED              NUMBER
        constraint TRUE_OR_FALSE_1617352144
            check (CPS_SOFT_DELETED IN (0, 1)),
    COURT_ID                      NUMBER
        constraint R_1234
            references COURT
)
    ;

create table OGRS_ASSESSMENT
(
    OGRS_ASSESSMENT_ID    NUMBER                                             not null
        constraint XPKOGRS_ASSESSMENT
            primary key,
    ASSESSMENT_DATE       DATE                                               not null,
    EVENT_ID              NUMBER                                             not null
            unique
        references EVENT,
    OGRS2_SCORE           NUMBER
        constraint GREATER_THAN_010
            check (OGRS2_SCORE > 0),
    SOFT_DELETED          NUMBER                                             not null
        constraint TRUE_OR_FALSE70
            check (SOFT_DELETED IN (0, 1)),
    OGRS3_SCORE_1         NUMBER
        constraint GREATER_THAN_011
            check (OGRS3_SCORE_1 > 0),
    PARTITION_AREA_ID     NUMBER                                             not null
        references PARTITION_AREA,
    OGRS3_SCORE_2         NUMBER
        constraint GREATER_THAN_012
            check (OGRS3_SCORE_2 > 0),
    ROW_VERSION           NUMBER default 0                                   not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    CREATED_BY_USER_ID    NUMBER                                             not null,
    CREATED_DATETIME      DATE   default TO_DATE('01-01-1900', 'DD-MM-YYYY') not null,
    LAST_UPDATED_USER_ID  NUMBER                                             not null,
    LAST_UPDATED_DATETIME DATE   default TO_DATE('01-01-1900', 'DD-MM-YYYY') not null
)
    ;

create table ADDITIONAL_OFFENCE
(
    ADDITIONAL_OFFENCE_ID NUMBER           not null
        constraint XPKADDITIONAL_OFFENCE
            primary key,
    OFFENCE_DATE          DATE,
    OFFENCE_COUNT         NUMBER,
    EVENT_ID              NUMBER           not null
        references EVENT,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE37
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    OFFENCE_ID            NUMBER           not null
        references R_OFFENCE,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XAK1ADDITIONAL_OFFENCE
        unique (EVENT_ID, OFFENCE_ID, OFFENCE_DATE, ADDITIONAL_OFFENCE_ID)
)
    ;

create table DISPOSAL
(
    DISPOSAL_ID                    NUMBER           not null
        constraint XPKDISPOSAL
            primary key,
    DISPOSAL_DATE                  DATE             not null,
    VALUE                          NUMBER(16, 2),
    LENGTH                         NUMBER,
    PUNISHMENT                     CHAR
        constraint YES_OR_NO_ONLY
            check (PUNISHMENT IN ('Y', 'N')),
    REDUCTION_OF_CRIME             CHAR
        constraint YES_OR_NO_ONLY1
            check (REDUCTION_OF_CRIME IN ('Y', 'N')),
    REFORM_AND_REHABILITION        CHAR
        constraint YES_OR_NO_ONLY2
            check (REFORM_AND_REHABILITION IN ('Y', 'N')),
    PUBLIC_PROTECTION              CHAR
        constraint YES_OR_NO_ONLY3
            check (PUBLIC_PROTECTION IN ('Y', 'N')),
    REPARATION                     CHAR
        constraint YES_OR_NO_ONLY4
            check (REPARATION IN ('Y', 'N')),
    RECOMMENDATION_NOT_STATED      CHAR
        constraint YES_OR_NO_ONLY5
            check (RECOMMENDATION_NOT_STATED IN ('Y', 'N')),
    TERMINATION_DATE               DATE,
    TERMINATION_NOTES              CLOB,
    EVENT_ID                       NUMBER           not null
        references EVENT,
    PARTITION_AREA_ID              NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED                   NUMBER           not null
        constraint TRUE_OR_FALSE9
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION                    NUMBER default 0 not null,
    LEVEL_OF_SERIOUSNESS_ID        NUMBER
        references R_STANDARD_REFERENCE_LIST,
    DISPOSAL_TYPE_ID               NUMBER           not null
        references R_DISPOSAL_TYPE,
    CREATED_DATETIME               DATE             not null,
    CREATED_BY_USER_ID             NUMBER           not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    DISPOSAL_TERMINATION_REASON_ID NUMBER
        references R_STANDARD_REFERENCE_LIST,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    LENGTH_2                       NUMBER,
    OFFENDER_ID                    NUMBER           not null
        references OFFENDER,
    ORGANISATIONS                  ARRAY,
    ACTIVE_FLAG                    NUMBER           not null,
    UPW                            NUMBER           not null
        constraint TRUE_OR_FALSE10
            check (UPW IN (0, 1)),
    EFFECTIVE_LENGTH               NUMBER,
    LENGTH_IN_DAYS                 NUMBER,
    ENTRY_LENGTH_UNITS_ID          NUMBER
        constraint R_1042
            references R_STANDARD_REFERENCE_LIST,
    ENTRY_LENGTH_2_UNITS_ID        NUMBER
        constraint R_1043
            references R_STANDARD_REFERENCE_LIST,
    NOTIONAL_END_DATE              DATE,
    ENTRY_LENGTH                   NUMBER,
    USER_TERMINATION_DATE          DATE,
    ENTERED_NOTIONAL_END_DATE      DATE,
    constraint XAK1DISPOSAL
        unique (EVENT_ID, DISPOSAL_DATE, DISPOSAL_TYPE_ID, DISPOSAL_ID),
    constraint ACTIVE_FLAG_TERMINATION_DATE
        check ( (ACTIVE_FLAG = 0 AND TERMINATION_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND TERMINATION_DATE IS NULL)
            )
)
    ;

create table MAIN_OFFENCE
(
    MAIN_OFFENCE_ID       NUMBER           not null
        constraint XPKMAIN_OFFENCE
            primary key,
    OFFENCE_DATE          DATE             not null,
    OFFENCE_COUNT         NUMBER           not null
        constraint GREATER_THAN_07
            check (OFFENCE_COUNT > 0),
    EVENT_ID              NUMBER           not null
        references EVENT,
    TICS                  NUMBER,
    VERDICT               VARCHAR2(1)
        constraint VERDICT
            check (VERDICT IN ('G', 'N', 'M')),
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE57
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    OFFENCE_ID            NUMBER           not null
        references R_OFFENCE,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    ORGANISATIONS         ARRAY,
    CREATED_BY_USER_ID    NUMBER(22)       not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER(22)       not null,
    LAST_UPDATED_DATETIME DATE             not null,
    constraint XAK1MAIN_OFFENCE
        unique (EVENT_ID, OFFENCE_ID, OFFENCE_DATE, MAIN_OFFENCE_ID)
)
    ;

create table RQMNT
(
    RQMNT_ID                       NUMBER           not null
        constraint XPKRQMNT
            primary key,
    DISPOSAL_ID                    NUMBER           not null
        references DISPOSAL,
    START_DATE                     DATE             not null,
    LENGTH                         NUMBER,
    RQMNT_NOTES                    CLOB,
    COMMENCEMENT_DATE              DATE,
    TERMINATION_DATE               DATE,
    PARTITION_AREA_ID              NUMBER           not null
        references PARTITION_AREA,
    EXPECTED_START_DATE            DATE,
    SOFT_DELETED                   NUMBER           not null
        constraint TRUE_OR_FALSE12
            check (SOFT_DELETED IN (0, 1)),
    EXPECTED_END_DATE              DATE,
    ROW_VERSION                    NUMBER default 0 not null,
    RQMNT_TYPE_SUB_CATEGORY_ID     NUMBER
        references R_STANDARD_REFERENCE_LIST,
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    AD_RQMNT_TYPE_SUB_CATEGORY_ID  NUMBER
        references R_STANDARD_REFERENCE_LIST,
    RQMNT_TYPE_MAIN_CATEGORY_ID    NUMBER
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER
        references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    CREATED_BY_USER_ID             NUMBER           not null,
    RQMNT_TERMINATION_REASON_ID    NUMBER
        references R_STANDARD_REFERENCE_LIST,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID                    NUMBER           not null
        references OFFENDER,
    ORGANISATIONS                  ARRAY,
    ACTIVE_FLAG                    NUMBER           not null,
    PENDING_TRANSFER               NUMBER           not null
        constraint TRUE_OR_FALSE_1549722321
            check (PENDING_TRANSFER IN (0, 1)),
    ATTENDANCE_COUNT               NUMBER(22),
    RAR_COUNT                      NUMBER,
    constraint ACTIVE_FLAG_TERMINATION_DATE2
        check ( (ACTIVE_FLAG = 0 AND TERMINATION_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND TERMINATION_DATE IS NULL)
            ),
    constraint REQUIREMENT_TYPE
        check ( (RQMNT_TYPE_MAIN_CATEGORY_ID IS NULL AND RQMNT_TYPE_SUB_CATEGORY_ID IS NULL AND
                 AD_RQMNT_TYPE_MAIN_CATEGORY_ID IS NOT NULL)
            OR
                (AD_RQMNT_TYPE_MAIN_CATEGORY_ID IS NULL AND AD_RQMNT_TYPE_SUB_CATEGORY_ID IS NULL AND
                 RQMNT_TYPE_MAIN_CATEGORY_ID IS NOT NULL) )
)
    ;

create table OFFENDER_ADDRESS
(
    OFFENDER_ADDRESS_ID   NUMBER           not null
        constraint XPKOFFENDER_ADDRESS
            primary key,
    START_DATE            DATE             not null,
    END_DATE              DATE,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE20
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION           NUMBER default 0 not null,
    ADDRESS_STATUS_ID     NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    NO_FIXED_ABODE        CHAR
        constraint YES_OR_NO_ONLY9
            check (NO_FIXED_ABODE IN ('Y', 'N')),
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    NOTES                 CLOB,
    ADDRESS_NUMBER        VARCHAR2(35),
    STREET_NAME           VARCHAR2(35),
    DISTRICT              VARCHAR2(35),
    TOWN_CITY             VARCHAR2(35),
    CREATED_DATETIME      DATE             not null,
    COUNTY                VARCHAR2(35),
    LAST_UPDATED_DATETIME DATE             not null,
    BUILDING_NAME         VARCHAR2(35),
    POSTCODE              VARCHAR2(35),
    CREATED_BY_USER_ID    NUMBER           not null,
    TELEPHONE_NUMBER      VARCHAR2(35),
    LAST_UPDATED_USER_ID  NUMBER           not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    ORGANISATIONS         ARRAY,
    AWAITING_ASSESSMENT   NUMBER default 0
        constraint TRUE_OR_FALSE_1316444769
            check (AWAITING_ASSESSMENT IN (0, 1)),
    constraint OFFENDER_ADDRESS_START_LT_END
        check ( (
                (START_DATE <= END_DATE) OR (END_DATE IS NULL)
            ) )
)
    ;

create table ALIAS
(
    ALIAS_ID              NUMBER           not null
        constraint XPKALIAS
            primary key,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    SECOND_NAME           VARCHAR2(35),
    FIRST_NAME            VARCHAR2(35)     not null,
    THIRD_NAME            VARCHAR2(35),
    SURNAME               VARCHAR2(35)     not null,
    DATE_OF_BIRTH_DATE    DATE             not null,
    FIRST_NAME_SOUNDEX    VARCHAR2(50)     not null,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE67
            check (SOFT_DELETED IN (0, 1)),
    MIDDLE_NAME_SOUNDEX   VARCHAR2(50),
    ROW_VERSION           NUMBER default 0 not null,
    GENDER_ID             NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    SURNAME_SOUNDEX       VARCHAR2(50)     not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    ORGANISATIONS         ARRAY,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null
)
    ;

create table ADDITIONAL_SENTENCE
(
    ADDITIONAL_SENTENCE_ID      NUMBER           not null
        constraint XPKADDITIONAL_SENTENCE
            primary key,
    LENGTH                      NUMBER,
    AMOUNT                      NUMBER(16, 2),
    NOTES                       CLOB,
    EVENT_ID                    NUMBER           not null
        references EVENT,
    SOFT_DELETED                NUMBER           not null
        constraint TRUE_OR_FALSE38
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID           NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION                 NUMBER default 0 not null,
    ADDITIONAL_SENTENCE_TYPE_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    CREATED_BY_USER_ID          NUMBER           not null,
    CREATED_DATETIME            DATE             not null,
    LAST_UPDATED_USER_ID        NUMBER           not null,
    LAST_UPDATED_DATETIME       DATE             not null,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    ORGANISATIONS               ARRAY,
    OFFENDER_ID                 NUMBER           not null
        references OFFENDER
)
    ;

create table ADDITIONAL_IDENTIFIER
(
    ADDITIONAL_IDENTIFIER_ID NUMBER           not null
        constraint XPKADDITIONAL_IDENTIFIER
            primary key,
    IDENTIFIER               VARCHAR2(30)     not null,
    OFFENDER_ID              NUMBER           not null
        references OFFENDER,
    SOFT_DELETED             NUMBER           not null
        constraint TRUE_OR_FALSE68
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID        NUMBER
        references PARTITION_AREA,
    ROW_VERSION              NUMBER default 0 not null,
    IDENTIFIER_NAME_ID       NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION,
    ORGANISATIONS            ARRAY,
    CREATED_BY_USER_ID       NUMBER(22)       not null,
    CREATED_DATETIME         DATE             not null,
    LAST_UPDATED_USER_ID     NUMBER(22)       not null,
    LAST_UPDATED_DATETIME    DATE             not null,
    constraint XAK1ADDITIONAL_IDENTIFIER
        unique (IDENTIFIER, IDENTIFIER_NAME_ID, OFFENDER_ID, TRAINING_SESSION_ID, ADDITIONAL_IDENTIFIER_ID)
)
    ;

create table LIC_CONDITION
(
    LIC_CONDITION_ID          NUMBER           not null
        constraint XPKLIC_CONDITION
            primary key,
    DISPOSAL_ID               NUMBER           not null
        references DISPOSAL,
    START_DATE                DATE             not null,
    LENGTH                    NUMBER,
    LIC_CONDITION_NOTES       CLOB,
    COMMENCEMENT_DATE         DATE,
    COMMENCEMENT_NOTES        CLOB,
    TERMINATION_DATE          DATE,
    TERMINATION_NOTES         CLOB,
    PARTITION_AREA_ID         NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED              NUMBER           not null
        constraint TRUE_OR_FALSE11
            check (SOFT_DELETED IN (0, 1)),
    EXPECTED_START_DATE       DATE,
    ROW_VERSION               NUMBER default 0 not null,
    EXPECTED_END_DATE         DATE,
    LIC_COND_TYPE_SUB_CAT_ID  NUMBER
        references R_STANDARD_REFERENCE_LIST,
    CREATED_DATETIME          DATE             not null,
    LAST_UPDATED_DATETIME     DATE             not null,
    INSTITUTION_ID            NUMBER,
    ESTABLISHMENT             CHAR
        constraint YES_OR_NO_ONLY6
            check (ESTABLISHMENT IN ('Y', 'N')),
    CREATED_BY_USER_ID        NUMBER           not null,
    LIC_COND_TYPE_MAIN_CAT_ID NUMBER
        references R_LIC_COND_TYPE_MAIN_CAT,
    LAST_UPDATED_USER_ID      NUMBER           not null,
    LIC_TERMINATION_REASON_ID NUMBER
        references R_STANDARD_REFERENCE_LIST,
    TRAINING_SESSION_ID       NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID               NUMBER           not null
        references OFFENDER,
    ORGANISATIONS             ARRAY,
    ACTIVE_FLAG               NUMBER           not null,
    PENDING_TRANSFER          NUMBER           not null
        constraint TRUE_OR_FALSE_368876692
            check (PENDING_TRANSFER IN (0, 1)),
    ATTENDANCE_COUNT          NUMBER(22),
    foreign key (INSTITUTION_ID, ESTABLISHMENT) references R_INSTITUTION,
    constraint ACTIVE_FLAG_TERMINATION_DATE1
        check ( (ACTIVE_FLAG = 0 AND TERMINATION_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND TERMINATION_DATE IS NULL)
            ),
    constraint LIC_CONDITION
        check ( (
                (TERMINATION_DATE >= COMMENCEMENT_DATE) OR (COMMENCEMENT_DATE IS NULL)
            ) )
)
    ;

create table PERSONAL_CIRCUMSTANCE
(
    PERSONAL_CIRCUMSTANCE_ID NUMBER           not null
        constraint XPKPERSONAL_CIRCUMSTANCE
            primary key,
    OFFENDER_ID              NUMBER           not null
        references OFFENDER,
    START_DATE               DATE             not null,
    END_DATE                 DATE,
    SOFT_DELETED             NUMBER           not null
        constraint TRUE_OR_FALSE71
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION              NUMBER default 0 not null,
    PARTITION_AREA_ID        NUMBER           not null
        references PARTITION_AREA,
    CREATED_BY_USER_ID       NUMBER           not null,
    LAST_UPDATED_USER_ID     NUMBER           not null,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION,
    CREATED_DATETIME         DATE             not null,
    LAST_UPDATED_DATETIME    DATE             not null,
    CIRCUMSTANCE_TYPE_ID     NUMBER           not null
        references R_CIRCUMSTANCE_TYPE,
    CIRCUMSTANCE_SUB_TYPE_ID NUMBER           not null
        references R_CIRCUMSTANCE_SUB_TYPE,
    NOTES                    CLOB,
    EVIDENCED                CHAR
        constraint YES_OR_NO_ONLY_1731748197
            check (EVIDENCED IN ('Y', 'N')),
    QUALIFICATION_1_ID       NUMBER,
    QUALIFICATION_2_ID       NUMBER,
    QUALIFICATION_3_ID       NUMBER,
    OFFENDER_ADDRESS_ID      NUMBER default NULL
        constraint R_1213
            references OFFENDER_ADDRESS,
    PROBATION_AREA_ID        NUMBER
        constraint R_1220
            references PROBATION_AREA,
    constraint XAK1PERSONAL_CIRCUMSTANCE
        unique (OFFENDER_ID, START_DATE, END_DATE, PERSONAL_CIRCUMSTANCE_ID)
)
    ;

create table NSI
(
    NSI_ID                    NUMBER           not null
        constraint XPKNSI
            primary key,
    OFFENDER_ID               NUMBER           not null
        constraint R_802
            references OFFENDER,
    EVENT_ID                  NUMBER
        constraint R_803
            references EVENT,
    NSI_TYPE_ID               NUMBER           not null
        constraint R_820
            references R_NSI_TYPE,
    NSI_SUB_TYPE_ID           NUMBER
        constraint R_821
            references R_STANDARD_REFERENCE_LIST,
    LENGTH                    NUMBER,
    REFERRAL_DATE             DATE             not null,
    EXPECTED_START_DATE       DATE,
    ACTUAL_START_DATE         DATE,
    EXPECTED_END_DATE         DATE,
    ACTUAL_END_DATE           DATE,
    NSI_STATUS_ID             NUMBER           not null
        constraint R_822
            references R_NSI_STATUS,
    NSI_STATUS_DATE           DATE             not null,
    NSI_NEXT_STATUS_DATE      DATE,
    NOTES                     CLOB,
    NSI_OUTCOME_ID            NUMBER
        constraint R_823
            references R_STANDARD_REFERENCE_LIST,
    SOFT_DELETED              NUMBER           not null
        constraint TRUE_OR_FALSE_421013047
            check (SOFT_DELETED IN (0, 1)),
    CREATED_BY_USER_ID        NUMBER           not null,
    CREATED_DATETIME          DATE             not null,
    LAST_UPDATED_USER_ID      NUMBER           not null,
    LAST_UPDATED_DATETIME     DATE             not null,
    ACTIVE_FLAG               NUMBER           not null,
    ROW_VERSION               NUMBER default 0 not null,
    ORGANISATIONS             ARRAY,
    PENDING_TRANSFER          NUMBER           not null
        constraint TRUE_OR_FALSE_1566803328
            check (PENDING_TRANSFER IN (0, 1)),
    TRAINING_SESSION_ID       NUMBER
        constraint R_824
            references TRAINING_SESSION,
    ATTENDANCE_COUNT          NUMBER(22),
    RQMNT_ID                  NUMBER
        constraint R_1039
            references RQMNT,
    RAR_COUNT                 NUMBER,
    DOCUMENT_LINKED           CHAR
        constraint YES_OR_NO_ONLY_1986954636
            check (DOCUMENT_LINKED IN ('Y', 'N')),
    INTENDED_PROVIDER_ID      NUMBER
        constraint R_1090
            references PROBATION_AREA,
    ADDITIONAL_IDENTIFIER1_ID NUMBER
        constraint R_1254
            references ADDITIONAL_IDENTIFIER,
    ADDITIONAL_IDENTIFIER2_ID NUMBER
        constraint R_1255
            references ADDITIONAL_IDENTIFIER,
    constraint ACTIVE_FLAG_ACTUAL_E_385237158
        check ( (ACTIVE_FLAG = 0 AND ACTUAL_END_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND ACTUAL_END_DATE IS NULL)
            )
)
    ;

create table SC_PROVIDER
(
    SC_PROVIDER_ID        NUMBER           not null
        constraint XPKSC_PROVIDER
            primary key,
    CODE                  VARCHAR2(20)     not null,
    DESCRIPTION           VARCHAR2(200)    not null,
    PROVIDER_ID           NUMBER           not null
        constraint R_888
            references PROBATION_AREA,
    CONTACT_NAME          VARCHAR2(200),
    ADDRESS_ID            NUMBER           not null
        constraint R_889
            references ADDRESS,
    PRIVATE               NUMBER           not null
        constraint TRUE_OR_FALSE_243555997
            check (PRIVATE IN (0, 1)),
    START_DATE            DATE             not null,
    END_DATE              DATE,
    ACTIVE_FLAG           NUMBER           not null,
    NOTES                 CLOB,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        constraint R_890
            references TRAINING_SESSION,
    constraint ACTIVE_FLAG_END_DATE_121858971
        check ( (ACTIVE_FLAG = 0 AND END_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND END_DATE IS NULL)
            )
)
    ;

create table STAFF
(
    STAFF_ID              NUMBER           not null
        constraint XPKSTAFF
            primary key,
    START_DATE            DATE             not null,
    SURNAME               VARCHAR2(35)     not null,
    END_DATE              DATE,
    FORENAME              VARCHAR2(35)     not null,
    ROW_VERSION           NUMBER default 0 not null,
    FORENAME2             VARCHAR2(35),
    STAFF_GRADE_ID        NUMBER
        references R_STANDARD_REFERENCE_LIST,
    TITLE_ID              NUMBER
        references R_STANDARD_REFERENCE_LIST,
    OFFICER_CODE          CHAR(7),
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    PRIVATE               NUMBER           not null
        constraint TRUE_OR_FALSE_925119186
            check (PRIVATE IN (0, 1)),
    SC_PROVIDER_ID        NUMBER
        constraint R_894
            references SC_PROVIDER,
    PROBATION_AREA_ID     NUMBER           not null
        constraint R_917
            references PROBATION_AREA,
    constraint XAK1STAFF
        unique (OFFICER_CODE, TRAINING_SESSION_ID, STAFF_ID),
    constraint PROVIDER_LOCATION_DATE_VALID7
        check ( (
                (START_DATE <= END_DATE) OR (END_DATE IS NULL)
            ) )
)
    ;

create table R_APPROVED_PREMISES_STAFF
(
    APPROVED_PREMISES_ID NUMBER           not null
        references R_APPROVED_PREMISES,
    STAFF_ID             NUMBER           not null
        references STAFF,
    ROW_VERSION          NUMBER default 0 not null,
    TRAINING_SESSION_ID  NUMBER
        references TRAINING_SESSION,
    constraint XPKR_APPROVED_PREMISES_STAFF
        primary key (APPROVED_PREMISES_ID, STAFF_ID)
)
    ;

alter table TEAM
    add constraint R_893
        foreign key (SC_PROVIDER_ID) references SC_PROVIDER
    ;

create table STAFF_TEAM
(
    STAFF_ID              NUMBER           not null
        references STAFF,
    TEAM_ID               NUMBER           not null
        references TEAM,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XPKSTAFF_TEAM
        primary key (STAFF_ID, TEAM_ID)
)
    ;

create table COURT_APPEARANCE
(
    COURT_APPEARANCE_ID         NUMBER           not null
        constraint XPKCOURT_APPEARANCE
            primary key,
    APPEARANCE_DATE             DATE             not null,
    CROWN_COURT_CALENDAR_NUMBER VARCHAR2(20),
    BAIL_CONDITIONS             VARCHAR2(256),
    COURT_NOTES                 CLOB,
    EVENT_ID                    NUMBER           not null
        references EVENT,
    TEAM_ID                     NUMBER
        references TEAM,
    STAFF_ID                    NUMBER
        references STAFF,
    SOFT_DELETED                NUMBER           not null
        constraint TRUE_OR_FALSE26
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID           NUMBER           not null
        references PARTITION_AREA,
    COURT_ID                    NUMBER           not null
        references COURT,
    ROW_VERSION                 NUMBER default 0 not null,
    APPEARANCE_TYPE_ID          NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    PLEA_ID                     NUMBER
        references R_STANDARD_REFERENCE_LIST,
    OUTCOME_ID                  NUMBER
        references R_STANDARD_REFERENCE_LIST,
    REMAND_STATUS_ID            NUMBER
        references R_STANDARD_REFERENCE_LIST,
    CREATED_BY_USER_ID          NUMBER           not null,
    CREATED_DATETIME            DATE             not null,
    LAST_UPDATED_USER_ID        NUMBER           not null,
    LAST_UPDATED_DATETIME       DATE             not null,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID                 NUMBER           not null
        references OFFENDER,
    ORGANISATIONS               ARRAY
)
    ;

create table COHORT
(
    COHORT_ID                 NUMBER(22)           not null
        constraint XPKCOHORT
            primary key,
    EVENT_ID                  NUMBER(22)           not null
        constraint R_918
            references EVENT,
    OFFENDER_ID               NUMBER(22)           not null
        constraint R_919
            references OFFENDER,
    COHORT_PROVIDER_ID        NUMBER(22)           not null
        constraint R_920
            references PROBATION_AREA,
    COHORT_CODE               VARCHAR2(11)         not null,
    SENTENCE_RELEASE_DATE     DATE,
    START_DATE                DATE                 not null,
    END_DATE                  DATE,
    ALLOCATION_REASON_ID      NUMBER(22)
        constraint R_921
            references R_STANDARD_REFERENCE_LIST,
    ACTIVE_FLAG               NUMBER(22)           not null
        constraint TRUE_OR_FALSE_252545138
            check (ACTIVE_FLAG IN (0, 1)),
    AUTHORISATION_PROVIDER_ID NUMBER(22)
        constraint R_922
            references PROBATION_AREA,
    AUTHORISATION_TEAM_ID     NUMBER(22)
        constraint R_923
            references TEAM,
    AUTHORISATION_STAFF_ID    NUMBER(22)
        constraint R_924
            references STAFF,
    COHORT_CHANGE_REASON_ID   NUMBER(22)
        constraint R_925
            references R_STANDARD_REFERENCE_LIST,
    NOTES                     CLOB,
    SOFT_DELETED              NUMBER(22)           not null
        constraint TRUE_OR_FALSE_442138751
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION               NUMBER(22) default 0 not null,
    CREATED_BY_USER_ID        NUMBER(22)           not null,
    CREATED_DATETIME          DATE                 not null,
    LAST_UPDATED_USER_ID      NUMBER(22)           not null,
    LAST_UPDATED_DATETIME     DATE                 not null,
    ORGANISATIONS             ARRAY,
    RECORDED_COHORT_FLAG      CHAR
        constraint RECORDED_COHORT_FLA_2066116776
            check (RECORDED_COHORT_FLAG IN ('S', 'R', 'T')),
    constraint XAK1COHORT
        unique (EVENT_ID, OFFENDER_ID)
)
    ;

create table UPW_DETAILS
(
    UPW_DETAILS_ID        NUMBER           not null
        constraint XPKUPW_DETAILS
            primary key,
    DISPOSAL_ID           NUMBER           not null
        references DISPOSAL,
    UPW_LENGTH_MINUTES    NUMBER(10, 2)    not null,
    AGREED_TRAVEL_FARE    NUMBER(10, 2),
    NOTES                 CLOB,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE23
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    UPW_STATUS_ID         NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    WORKED_INTENSIVELY    CHAR
        constraint YES_OR_NO_404
            check (WORKED_INTENSIVELY IN ('Y', 'N')),
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    TEAM_ID               NUMBER
        references TEAM,
    PROVIDER_TEAM_ID      NUMBER
        references PROVIDER_TEAM,
    STAFF_ID              NUMBER
        references STAFF,
    UPW_STATUS_DATE       DATE             not null,
    PROVIDER_EMPLOYEE_ID  NUMBER
        references PROVIDER_EMPLOYEE,
    ALLOCATION_DATE       DATE             not null,
    ORGANISATIONS         ARRAY,
    MINUTES_YEAR1         NUMBER(10, 2),
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    constraint OFFENDER_MANAGER_TEAM_XOR3
        check ( (
                (TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint PROVIDER_EMPLOYEE_OR_STAFF3
        check ( (
                (PROVIDER_EMPLOYEE_ID IS NOT NULL AND STAFF_ID IS NULL)
                OR
                (PROVIDER_EMPLOYEE_ID IS NULL AND STAFF_ID IS NOT NULL)
            ) )
)
    ;

create table UPW_ALLOCATION
(
    UPW_ALLOCATION_ID        NUMBER           not null
        constraint XPKUPW_ALLOCATION
            primary key,
    UPW_PROJECT_ID           NUMBER           not null
        references UPW_PROJECT,
    UPW_DETAILS_ID           NUMBER           not null
        references UPW_DETAILS,
    ALLOCATION_START_DATE    DATE             not null,
    ALLOCATION_END_DATE      DATE,
    ALLOCATION_DAY_ID        NUMBER
        references UPW_DAY,
    START_TIME               DATE,
    END_TIME                 DATE,
    FUTURE_OUTCOMES_RECORDED CHAR             not null
        constraint YES_OR_NO_ONLY40
            check (FUTURE_OUTCOMES_RECORDED IN ('Y', 'N')),
    SOFT_DELETED             NUMBER           not null
        constraint TRUE_OR_FALSE78
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID        NUMBER           not null
        references PARTITION_AREA,
    CREATED_BY_USER_ID       NUMBER           not null,
    CREATED_DATETIME         DATE             not null,
    LAST_UPDATED_USER_ID     NUMBER           not null,
    LAST_UPDATED_DATETIME    DATE             not null,
    ROW_VERSION              NUMBER default 0 not null,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION
)
    ;

create table COHORT_HISTORY
(
    COHORT_HISTORY_ID         NUMBER(22)           not null
        constraint XPKCOHORT_HISTORY
            primary key,
    EVENT_ID                  NUMBER(22)           not null
        constraint R_926
            references EVENT,
    OFFENDER_ID               NUMBER(22)           not null
        constraint R_927
            references OFFENDER,
    COHORT_PROVIDER_ID        NUMBER(22)           not null
        constraint R_934
            references PROBATION_AREA,
    COHORT_CODE               VARCHAR2(11)         not null,
    SENTENCE_RELEASE_DATE     DATE,
    START_DATE                DATE                 not null,
    END_DATE                  DATE,
    ALLOCATION_REASON_ID      NUMBER(22)
        constraint R_929
            references R_STANDARD_REFERENCE_LIST,
    ACTIVE_FLAG               NUMBER(22)           not null
        constraint TRUE_OR_FALSE_1029364706
            check (ACTIVE_FLAG IN (0, 1)),
    AUTHORISATION_PROVIDER_ID NUMBER(22)
        constraint R_928
            references PROBATION_AREA,
    AUTHORISATION_TEAM_ID     NUMBER(22)
        constraint R_931
            references TEAM,
    AUTHORISATION_STAFF_ID    NUMBER(22)
        constraint R_932
            references STAFF,
    COHORT_CHANGE_REASON_ID   NUMBER(22)
        constraint R_933
            references R_STANDARD_REFERENCE_LIST,
    NOTES                     CLOB,
    SOFT_DELETED              NUMBER(22)           not null
        constraint TRUE_OR_FALSE_1309266638
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION               NUMBER(22) default 0 not null,
    CREATED_BY_USER_ID        NUMBER(22)           not null,
    CREATED_DATETIME          DATE                 not null,
    LAST_UPDATED_USER_ID      NUMBER(22)           not null,
    LAST_UPDATED_DATETIME     DATE                 not null,
    ORGANISATIONS             ARRAY,
    RECORDED_COHORT_FLAG      CHAR
        constraint RECORDED_COHORT_FLAG_784206933
            check (RECORDED_COHORT_FLAG IN ('S', 'R', 'T'))
)
    ;

create table DRUG_TEST_PROFILE
(
    DRUG_TEST_PROFILE_ID  NUMBER           not null
        constraint XPKDRUG_TEST_PROFILE
            primary key,
    ASSESSMENT_DATE       DATE             not null,
    NOTES                 CLOB,
    WEEKLY_COST           NUMBER,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    TEAM_ID               NUMBER
        references TEAM,
    STAFF_ID              NUMBER
        references STAFF,
    PROVIDER_EMPLOYEE_ID  NUMBER
        references PROVIDER_EMPLOYEE,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE21
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION           NUMBER default 0 not null,
    PROVIDER_TEAM_ID      NUMBER
        references PROVIDER_TEAM,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    EVENT_ID              NUMBER           not null
        references EVENT,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    ORGANISATIONS         ARRAY,
    constraint OFFENDER_MANAGER_TEAM_XOR1
        check ( (
                (TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint PROVIDER_EMPLOYEE_OR_STAFF1
        check ( (
                (PROVIDER_EMPLOYEE_ID IS NOT NULL AND STAFF_ID IS NULL)
                OR
                (PROVIDER_EMPLOYEE_ID IS NULL AND STAFF_ID IS NOT NULL)
            ) )
)
    ;

create table DRUG_USAGE
(
    DRUG_USAGE_ID        NUMBER           not null
        constraint XPKDRUG_USAGE
            primary key,
    DRUG_TEST_PROFILE_ID NUMBER           not null
        references DRUG_TEST_PROFILE,
    USAGE                CHAR             not null
        constraint YES_OR_NO_ONLY26
            check (USAGE IN ('Y', 'N')),
    DAYS_PER_WEEK        NUMBER,
    QUANTITY_USED        NUMBER,
    INJECTED             CHAR
        constraint YES_OR_NO_OR_UNKNOWN7
            check (INJECTED IN ('N', 'Y', 'U')),
    AGE_FIRST_USED       NUMBER
        constraint GREATER_THAN_03
            check (AGE_FIRST_USED > 0),
    SOFT_DELETED         NUMBER           not null
        constraint TRUE_OR_FALSE32
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID    NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION          NUMBER default 0 not null,
    DRUG_TYPE_ID         NUMBER           not null
        references R_DRUG_TYPE,
    TRAINING_SESSION_ID  NUMBER
        references TRAINING_SESSION,
    constraint XAK1DRUG_USAGE
        unique (DRUG_TEST_PROFILE_ID, DRUG_TYPE_ID, DRUG_USAGE_ID)
)
    ;

create table DRUGS_TEST_PROFILE_DRUG_TYPE
(
    DRUG_TEST_PROFILE_ID  NUMBER           not null
        references DRUG_TEST_PROFILE,
    DRUG_TYPE_ID          NUMBER           not null
        references R_DRUG_TYPE,
    ROW_VERSION           NUMBER default 0 not null,
    MAIN_DRUG             CHAR
        constraint YES_OR_NO_419
            check (MAIN_DRUG IN ('Y', 'N')),
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE50
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID     NUMBER
        references PARTITION_AREA,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XPKDRUGS_TEST_PROFILE_DRUG_TYP
        primary key (DRUG_TEST_PROFILE_ID, DRUG_TYPE_ID)
)
    ;

create table ADDRESS_ASSESSMENT
(
    ADDRESS_ASSESSMENT_ID NUMBER           not null
        constraint XPKADDRESS_ASSESSMENT
            primary key,
    ASSESSMENT_DATE       DATE             not null,
    DETAILS               CLOB,
    STAFF_ID              NUMBER
        references STAFF,
    TEAM_ID               NUMBER
        references TEAM,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE13
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION           NUMBER default 0 not null,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    PROVIDER_EMPLOYEE_ID  NUMBER
        references PROVIDER_EMPLOYEE,
    PROVIDER_TEAM_ID      NUMBER
        references PROVIDER_TEAM,
    OFFENDER_ADDRESS_ID   NUMBER           not null
        references OFFENDER_ADDRESS,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    ORGANISATIONS         ARRAY,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    DOCUMENT_LINKED       CHAR
        constraint YES_OR_NO_ONLY_1686425284
            check (DOCUMENT_LINKED IN ('Y', 'N')),
    constraint ADDRESS_ASSESSMENT_STAFF_XOR
        check ( (
                (STAFF_ID IS NOT NULL AND PROVIDER_EMPLOYEE_ID IS NULL)
                OR
                (STAFF_ID IS NULL AND PROVIDER_EMPLOYEE_ID IS NOT NULL)
            ) ),
    constraint ADDRESS_ASSESSMENT_TEAM_XOR
        check ( (
                (TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) )
)
    ;

create table APPROVED_PREMISES_REFERRAL
(
    APPROVED_PREMISES_REFERRAL_ID NUMBER           not null
        constraint XPKAPPROVED_PREMISES_REFERRAL
            primary key,
    REFERRAL_DATE                 DATE             not null,
    EXPECTED_ARRIVAL_DATE         DATE,
    EXPECTED_DEPARTURE_DATE       DATE,
    DECISION_DATE                 DATE,
    REFERRAL_NOTES                CLOB,
    NON_ARRIVAL_DATE              DATE,
    ORIGINAL_AP_ADMIT_DATE        DATE,
    SELF_HARM_ISSUES              VARCHAR2(4000),
    NON_ARRIVAL_NOTES             CLOB,
    REFERRING_TEAM_ID             NUMBER
        references TEAM,
    DECISION_BY_TEAM_ID           NUMBER
        references TEAM,
    REFERRING_STAFF_ID            NUMBER
        references STAFF,
    DECISION_BY_STAFF_ID          NUMBER
        references STAFF,
    DECISION_NOTES                CLOB,
    SOFT_DELETED                  NUMBER           not null
        constraint TRUE_OR_FALSE14
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID             NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION                   NUMBER default 0 not null,
    REFERRAL_CATEGORY_ID          NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    REFERRAL_DECISION_ID          NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    PENDING_STATUS_ID             NUMBER
        references R_STANDARD_REFERENCE_LIST,
    REJECT_REASON_ID              NUMBER
        references R_STANDARD_REFERENCE_LIST,
    REFERRAL_OUTCOME_ID           NUMBER
        references R_STANDARD_REFERENCE_LIST,
    REFERRAL_GROUP_ID             NUMBER
        references R_STANDARD_REFERENCE_LIST,
    NON_ARRIVAL_REASON_ID         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    INSTITUTION_ID                NUMBER,
    APPROVED_PREMISES_ID          NUMBER
        references R_APPROVED_PREMISES,
    TRANSFER_REASON_ID            NUMBER
        references R_TRANSFER_REASON,
    REFERRAL_SOURCE_ID            NUMBER           not null
        references R_REFERRAL_SOURCE,
    SOURCE_TYPE_ID                NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    EXTERNAL_REFERRAL_REASON_ID   NUMBER
        references R_STANDARD_REFERENCE_LIST,
    CREATED_DATETIME              DATE             not null,
    LAST_UPDATED_DATETIME         DATE             not null,
    EVENT_ID                      NUMBER           not null
        references EVENT,
    ESTABLISHMENT                 CHAR
        constraint YES_OR_NO_ONLY7
            check (ESTABLISHMENT IN ('Y', 'N')),
    REFERRING_PROBATION_AREA_ID   NUMBER
        references PROBATION_AREA,
    REFERRED_TO_PROBATION_AREA_ID NUMBER
        references PROBATION_AREA,
    CREATED_BY_USER_ID            NUMBER           not null,
    LAST_UPDATED_USER_ID          NUMBER           not null,
    TRAINING_SESSION_ID           NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID                   NUMBER           not null
        references OFFENDER,
    ORIGINAL_APPROVED_PREMISES_ID NUMBER
        references R_APPROVED_PREMISES,
    ORGANISATIONS                 ARRAY,
    RESERVATION_START_DATE        DATE,
    RESERVATION_LENGTH            NUMBER,
    REASON_FOR_REFERRAL           VARCHAR2(400),
    ACTIVE_ARSON_RISK_ID          NUMBER           not null
        constraint R_1262
            references R_STANDARD_REFERENCE_LIST,
    ARSON_RISK_DETAILS            VARCHAR2(400),
    DISABILITY_ISSUES_ID          NUMBER           not null
        constraint R_1263
            references R_STANDARD_REFERENCE_LIST,
    DISABILITY_DETAILS            VARCHAR2(400),
    SINGLE_ROOM_ID                NUMBER           not null
        constraint R_1264
            references R_STANDARD_REFERENCE_LIST,
    SINGLE_ROOM_DETAILS           VARCHAR2(400),
    SEX_OFFENDER                  CHAR             not null
        constraint YES_OR_NO_ONLY_31189800
            check (SEX_OFFENDER IN ('Y', 'N')),
    GANG_AFFILIATED               CHAR             not null
        constraint YES_OR_NO_ONLY_818527117
            check (GANG_AFFILIATED IN ('Y', 'N')),
    MAPPA_LEVEL_ID                NUMBER
        constraint R_1266
            references R_STANDARD_REFERENCE_LIST,
    ROH_PUBLIC_ID                 NUMBER           not null
        constraint R_1267
            references R_STANDARD_REFERENCE_LIST,
    ROH_STAFF_ID                  NUMBER           not null
        constraint R_1268
            references R_STANDARD_REFERENCE_LIST,
    ROH_KNOWN_PERSON_ID           NUMBER           not null
        constraint R_1269
            references R_STANDARD_REFERENCE_LIST,
    ROH_CHILDREN_ID               NUMBER           not null
        constraint R_1270
            references R_STANDARD_REFERENCE_LIST,
    ROH_RESIDENTS_ID              NUMBER           not null
        constraint R_1271
            references R_STANDARD_REFERENCE_LIST,
    ROH_SELF_ID                   NUMBER           not null
        constraint R_1272
            references R_STANDARD_REFERENCE_LIST,
    ROH_OTHERS_ID                 NUMBER           not null
        constraint R_1273
            references R_STANDARD_REFERENCE_LIST,
    RISK_INFORMATION              CLOB,
    REFERRAL_DATE_TYPE_ID         NUMBER
        constraint R_1274
            references R_STANDARD_REFERENCE_LIST,
    foreign key (INSTITUTION_ID, ESTABLISHMENT) references R_INSTITUTION,
    constraint APPROVED_PREMISES_REFERRAL_TYP
        check ( (REFERRAL_GROUP_ID IS NULL AND APPROVED_PREMISES_ID IS NOT NULL)
            OR
                (REFERRAL_GROUP_ID IS NOT NULL AND APPROVED_PREMISES_ID IS NULL)
            OR
                (REFERRAL_GROUP_ID IS NOT NULL AND APPROVED_PREMISES_ID IS NOT NULL) ),
    constraint AP_REF_CUS_INSTITUTION
        check ( (
                (INSTITUTION_ID IS NOT NULL AND ESTABLISHMENT = 'Y') OR
                (INSTITUTION_ID IS NULL AND ESTABLISHMENT IS NULL)
            ) )
)
    ;

create table APPROVED_PREMISES_RESIDENCE
(
    APPROVED_PREMISES_RESIDENCE_ID NUMBER           not null
        constraint XPKAPPROVED_PREMISES_RESIDENCE
            primary key,
    APPROVED_PREMISES_REFERRAL_ID  NUMBER           not null
        references APPROVED_PREMISES_REFERRAL,
    ARRIVAL_DATE                   DATE             not null,
    EXPECTED_DEPARTURE_DATE        DATE,
    ROOM_NUMBER                    VARCHAR2(30),
    ARRIVAL_NOTES                  CLOB,
    DEPARTURE_DATE                 DATE,
    SOFT_DELETED                   NUMBER           not null
        constraint TRUE_OR_FALSE41
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID              NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION                    NUMBER default 0 not null,
    DEPARTURE_REASON_ID            NUMBER
        references R_STANDARD_REFERENCE_LIST,
    APPROVED_PREMISES_ID           NUMBER
        references R_APPROVED_PREMISES,
    DEST_APPROVED_PREMISES_ID      NUMBER
        references R_APPROVED_PREMISES,
    MOVE_ON_CATEGORY_ID            NUMBER
        references R_MOVE_ON_CATEGORY,
    APPROVED_PREMISES_STAFF_ID     NUMBER
        references STAFF,
    KEY_WORKER_STAFF_ID            NUMBER
        references STAFF,
    CREATED_DATETIME               DATE             not null,
    CREATED_BY_USER_ID             NUMBER           not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    APPROVED_PREMISES_TEAM_ID      NUMBER
        references TEAM,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID                    NUMBER           not null
        references OFFENDER,
    ORGANISATIONS                  ARRAY
)
    ;

create table PERSONAL_CONTACT
(
    PERSONAL_CONTACT_ID   NUMBER           not null
        constraint XPKPERSONAL_CONTACT
            primary key,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    RELATIONSHIP          VARCHAR2(500)    not null,
    START_DATE            DATE,
    END_DATE              DATE,
    ADDRESS_ID            NUMBER
        references ADDRESS,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    FIRST_NAME            VARCHAR2(35)     not null,
    OTHER_NAMES           VARCHAR2(35),
    SURNAME               VARCHAR2(35)     not null,
    PREVIOUS_SURNAME      VARCHAR2(35),
    MOBILE_NUMBER         VARCHAR2(35),
    EMAIL_ADDRESS         VARCHAR2(255),
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE72
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION           NUMBER default 0 not null,
    GENDER_ID             NUMBER
        references R_STANDARD_REFERENCE_LIST,
    NOTES                 CLOB,
    TITLE_ID              NUMBER
        references R_STANDARD_REFERENCE_LIST,
    RELATIONSHIP_TYPE_ID  NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    ORGANISATIONS         ARRAY
)
    ;

create table CUSTODY
(
    CUSTODY_ID            NUMBER           not null
        constraint XPKCUSTODY
            primary key,
    DISPOSAL_ID           NUMBER           not null
        references DISPOSAL,
    STATUS_CHANGE_DATE    DATE             not null,
    PRISONER_NUMBER       VARCHAR2(10),
    PAROLE_NUMBER         VARCHAR2(10),
    LOCATION_CHANGE_DATE  DATE,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE19
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    CUSTODIAL_STATUS_ID   NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    PC_TELEPHONE_NUMBER   VARCHAR2(35),
    PRISON_OFFICER        VARCHAR2(200),
    PROBATION_CONTACT     VARCHAR2(200),
    PO_TELEPHONE_NUMBER   VARCHAR2(35),
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    INSTITUTION_ID        NUMBER,
    CREATED_BY_USER_ID    NUMBER           not null,
    ESTABLISHMENT         CHAR
,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    ORGANISATIONS         ARRAY,
    PSS_START_DATE        DATE,
    foreign key (INSTITUTION_ID, ESTABLISHMENT) references R_INSTITUTION
)
    ;

create table CUSTODY_HISTORY
(
    CUSTODY_HISTORY_ID    NUMBER           not null
        constraint XPKCUSTODY_HISTORY
            primary key,
    CUSTODY_EVENT_TYPE_ID NUMBER           not null
        constraint R_788
            references R_STANDARD_REFERENCE_LIST,
    DETAIL                VARCHAR2(4000),
    CUSTODY_ID            NUMBER           not null
        constraint R_789
            references CUSTODY,
    OFFENDER_ID           NUMBER           not null
        constraint R_790
            references OFFENDER,
    HISTORICAL_DATE       DATE             not null,
    ROW_VERSION           NUMBER default 0 not null,
    PARTITION_AREA_ID     NUMBER           not null
        constraint R_801
            references PARTITION_AREA,
    TRAINING_SESSION_ID   NUMBER
        constraint R_794
            references TRAINING_SESSION
)
    ;

create table KEY_DATE
(
    CUSTODY_ID            NUMBER           not null
        references CUSTODY,
    KEY_DATE_TYPE_ID      NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    KEY_DATE              DATE             not null,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE56
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION           NUMBER default 0 not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    KEY_DATE_ID           NUMBER           not null
        constraint XPKKEY_DATE
            primary key,
    constraint XAK1KEY_DATE
        unique (CUSTODY_ID, KEY_DATE_TYPE_ID, KEY_DATE)
)
    ;

create table INSTITUTIONAL_REPORT
(
    INSTITUTIONAL_REPORT_ID    NUMBER           not null
        constraint XPKINSTITUTIONAL_REPORT
            primary key,
    CUSTODY_ID                 NUMBER           not null
        references CUSTODY,
    DATE_REQUESTED             DATE             not null,
    DATE_REQUIRED              DATE             not null,
    DATE_ALLOCATION            DATE,
    DATE_COMPLETED             DATE,
    VIDEO_LINK                 CHAR,
    NOTES                      CLOB,
    SENT_TO_PRISON_DATE        DATE,
    SOFT_DELETED               NUMBER           not null
        constraint TRUE_OR_FALSE55
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID          NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION                NUMBER default 0 not null,
    INSTITUTION_REPORT_TYPE_ID NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    CREATED_DATETIME           DATE             not null,
    LAST_UPDATED_DATETIME      DATE             not null,
    INSTITUTION_ID             NUMBER           not null,
    CREATED_BY_USER_ID         NUMBER           not null,
    ESTABLISHMENT              CHAR             not null
        constraint YES_OR_NO_ONLY31
            check (ESTABLISHMENT IN ('Y', 'N')),
    LAST_UPDATED_USER_ID       NUMBER           not null,
    TRAINING_SESSION_ID        NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID                NUMBER           not null
        references OFFENDER,
    ORGANISATIONS              ARRAY,
    DATE_ABANDONED             DATE,
    DATE_SENT                  DATE,
    PENDING_TRANSFER           NUMBER(22)       not null
        constraint TRUE_OR_FALSE_1347698696
            check (PENDING_TRANSFER IN (0, 1)),
    foreign key (INSTITUTION_ID, ESTABLISHMENT) references R_INSTITUTION
)
    ;

create table RELEASE
(
    RELEASE_ID            NUMBER           not null
        constraint XPKRELEASE
            primary key,
    ACTUAL_RELEASE_DATE   DATE             not null,
    NOTES                 CLOB,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE76
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION           NUMBER default 0 not null,
    RELEASE_TYPE_ID       NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    CUSTODY_ID            NUMBER           not null
        references CUSTODY,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    ORGANISATIONS         ARRAY,
    LENGTH                NUMBER,
    INSTITUTION_ID        NUMBER,
    ESTABLISHMENT         CHAR,
    PROBATION_AREA_ID     NUMBER
)
    ;

create table RECALL
(
    RECALL_ID             NUMBER           not null
        constraint XPKRECALL
            primary key,
    RECALL_DATE           DATE             not null,
    NOTES                 CLOB,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE74
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    RECALL_REASON_ID      NUMBER           not null
        references R_RECALL_REASON,
    RELEASE_ID            NUMBER           not null
        references RELEASE,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    ORGANISATIONS         ARRAY
)
    ;

create table PROVISION
(
    PROVISION_ID          NUMBER           not null
        constraint XPKPROVISION
            primary key,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED          NUMBER           not null,
    START_DATE            DATE             not null,
    FINISH_DATE           DATE,
    NOTES                 CLOB,
    ROW_VERSION           NUMBER default 0 not null,
    DISABILITY_ID         NUMBER           not null
        references DISABILITY,
    PROVISION_TYPE_ID     NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    ORGANISATIONS         ARRAY,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    PROBATION_AREA_ID     NUMBER
)
    ;

create table PSS_RQMNT
(
    PSS_RQMNT_ID               NUMBER(22)           not null
        constraint XPKPSS_RQMNT
            primary key,
    CUSTODY_ID                 NUMBER(22)           not null
        constraint R_938
            references CUSTODY,
    IMPOSED_DATE               DATE                 not null,
    LENGTH                     NUMBER(22),
    PSS_RQMNT_NOTES            CLOB,
    COMMENCEMENT_DATE          DATE,
    COMMENCEMENT_NOTES         CLOB,
    TERMINATION_DATE           DATE,
    TERMINATION_NOTES          CLOB,
    SOFT_DELETED               NUMBER(22)           not null
        constraint TRUE_OR_FALSE_1802687451
            check (SOFT_DELETED IN (0, 1)),
    EXPECTED_START_DATE        DATE,
    EXPECTED_END_DATE          DATE,
    ROW_VERSION                NUMBER(22) default 0 not null,
    PSS_RQMNT_TYPE_MAIN_CAT_ID NUMBER(22)
        constraint R_939
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY,
    PSS_RQMNT_TYPE_SUB_CAT_ID  NUMBER(22)
        constraint R_940
            references R_PSS_RQMNT_TYPE_SUB_CATEGORY,
    PSS_RQMNT_TERM_REASON_ID   NUMBER(22)
        constraint R_941
            references R_STANDARD_REFERENCE_LIST,
    OFFENDER_ID                NUMBER(22)           not null
        constraint R_942
            references OFFENDER,
    ORGANISATIONS              ARRAY,
    ACTIVE_FLAG                NUMBER(22)           not null
        constraint TRUE_OR_FALSE_1801363653
            check (ACTIVE_FLAG IN (0, 1)),
    PENDING_TRANSFER           NUMBER(22)           not null
        constraint TRUE_OR_FALSE_1346489564
            check (PENDING_TRANSFER IN (0, 1)),
    CREATED_BY_USER_ID         NUMBER(22)           not null,
    CREATED_DATETIME           DATE                 not null,
    LAST_UPDATED_USER_ID       NUMBER(22)           not null,
    LAST_UPDATED_DATETIME      DATE                 not null,
    ATTENDANCE_COUNT           NUMBER(22),
    constraint ACTIVE_FLAG_TERMINA_1282482389
        check ( (ACTIVE_FLAG = 0 AND TERMINATION_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND TERMINATION_DATE IS NULL)
            )
)
    ;

create table CONTACT
(
    CONTACT_ID                   NUMBER           not null
        constraint XPKCONTACT
            primary key,
    LINKED_CONTACT_ID            NUMBER
        references CONTACT,
    CONTACT_DATE                 DATE             not null,
    OFFENDER_ID                  NUMBER           not null
        references OFFENDER,
    CONTACT_START_TIME           DATE,
    CONTACT_END_TIME             DATE,
    RQMNT_ID                     NUMBER
        references RQMNT,
    LIC_CONDITION_ID             NUMBER
        references LIC_CONDITION,
    PROVIDER_LOCATION_ID         NUMBER
        references PROVIDER_LOCATION,
    PROVIDER_EMPLOYEE_ID         NUMBER
        references PROVIDER_EMPLOYEE,
    HOURS_CREDITED               NUMBER(10, 2)
        constraint GREATER_THAN_0
            check (HOURS_CREDITED > 0),
    NOTES                        CLOB,
    VISOR_CONTACT                CHAR,
    STAFF_ID                     NUMBER
        references STAFF,
    TEAM_ID                      NUMBER
        references TEAM,
    SOFT_DELETED                 NUMBER           not null
        constraint TRUE_OR_FALSE16
            check (SOFT_DELETED IN (0, 1)),
    VISOR_EXPORTED               CHAR
        constraint YES_OR_NO_400
            check (VISOR_EXPORTED IN ('Y', 'N')),
    PARTITION_AREA_ID            NUMBER           not null
        references PARTITION_AREA,
    OFFICE_LOCATION_ID           NUMBER
        references OFFICE_LOCATION,
    ROW_VERSION                  NUMBER default 0 not null,
    ALERT_ACTIVE                 CHAR,
    ATTENDED                     CHAR
        constraint YES_OR_NO_401
            check (ATTENDED IN ('Y', 'N')),
    CREATED_DATETIME             DATE             not null,
    COMPLIED                     CHAR
        constraint YES_OR_NO_402
            check (COMPLIED IN ('Y', 'N')),
    SENSITIVE                    CHAR
        constraint YES_OR_NO_403
            check (SENSITIVE IN ('Y', 'N')),
    LAST_UPDATED_DATETIME        DATE             not null,
    EVENT_ID                     NUMBER
        references EVENT,
    CONTACT_TYPE_ID              NUMBER           not null
        references R_CONTACT_TYPE,
    PROVIDER_TEAM_ID             NUMBER
        references PROVIDER_TEAM,
    CONTACT_OUTCOME_TYPE_ID      NUMBER
        references R_CONTACT_OUTCOME_TYPE,
    CREATED_BY_USER_ID           NUMBER           not null,
    EXPLANATION_ID               NUMBER
        references R_EXPLANATION,
    LAST_UPDATED_USER_ID         NUMBER           not null,
    TRAINING_SESSION_ID          NUMBER
        references TRAINING_SESSION,
    TRUST_PROVIDER_FLAG          NUMBER           not null
        constraint TRUE_OR_FALSE18
            check (TRUST_PROVIDER_FLAG IN (0, 1)),
    STAFF_EMPLOYEE_ID            NUMBER           not null,
    PROBATION_AREA_ID            NUMBER           not null
        references PROBATION_AREA,
    TRUST_PROVIDER_TEAM_ID       NUMBER           not null,
    ENFORCEMENT                  NUMBER
        constraint ENFORCEMENT_ONE_OR_N_470810165
            check (ENFORCEMENT = 1 OR ENFORCEMENT IS NULL),
    DOCUMENT_LINKED              CHAR,
    UPLOAD_LINKED                CHAR,
    LATEST_ENFORCEMENT_ACTION_ID NUMBER
        constraint R_786
            references R_ENFORCEMENT_ACTION,
    NSI_ID                       NUMBER
        constraint R_895
            references NSI,
    TABLE_NAME                   VARCHAR2(30)
        constraint CONTACT_TABLE_69233217
            check (TABLE_NAME IN ('APPROVED_PREMISES_REFERRAL', 'APPROVED_PREMISES_RESIDENCE', 'COURT_REPORT',
                                  'INSTITUTIONAL_REPORT')),
    PRIMARY_KEY_ID               NUMBER(22),
    PSS_RQMNT_ID                 NUMBER(22)
        constraint R_981
            references PSS_RQMNT,
    RAR_ACTIVITY                 CHAR
        constraint YES_OR_NO_ONLY_1885306206
            check (RAR_ACTIVITY IN ('Y', 'N')),
    NOMIS_CASE_NOTE_ID           NUMBER
        constraint XAK1CONTACT
            unique,
    LINKED_DOCUMENT_CONTACT_ID   NUMBER
        constraint R_1225
            references CONTACT,
    constraint R_1718
        foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID) references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID) references ALL_TEAM,
    constraint CONTACT_TYPE
        check ( (
                (EVENT_ID IS NOT NULL AND RQMNT_ID IS NULL AND LIC_CONDITION_ID IS NULL AND NSI_ID IS NULL AND
                 PSS_RQMNT_ID IS NULL)
                OR
                (EVENT_ID IS NOT NULL AND RQMNT_ID IS NOT NULL AND LIC_CONDITION_ID IS NULL AND NSI_ID IS NULL AND
                 PSS_RQMNT_ID IS NULL)
                OR
                (EVENT_ID IS NOT NULL AND RQMNT_ID IS NULL AND LIC_CONDITION_ID IS NOT NULL AND NSI_ID IS NULL AND
                 PSS_RQMNT_ID IS NULL)
                OR
                (EVENT_ID IS NOT NULL AND RQMNT_ID IS NULL AND LIC_CONDITION_ID IS NULL AND NSI_ID IS NOT NULL AND
                 PSS_RQMNT_ID IS NULL)
                OR
                (EVENT_ID IS NOT NULL AND RQMNT_ID IS NULL AND LIC_CONDITION_ID IS NULL AND NSI_ID IS NULL AND
                 PSS_RQMNT_ID IS NOT NULL)
                OR
                (EVENT_ID IS NULL AND RQMNT_ID IS NULL AND LIC_CONDITION_ID IS NULL AND NSI_ID IS NOT NULL AND
                 PSS_RQMNT_ID IS NULL)
                OR
                (EVENT_ID IS NULL AND RQMNT_ID IS NULL AND LIC_CONDITION_ID IS NULL AND NSI_ID IS NULL AND
                 PSS_RQMNT_ID IS NULL)
            ) ),
    constraint OFFENDER_MANAGER_TEAM_XOR
        check ( (
                (TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint PROVIDER_EMPLOYEE_OR_STAFF
        check ( (
                (PROVIDER_EMPLOYEE_ID IS NOT NULL AND STAFF_ID IS NULL)
                OR
                (PROVIDER_EMPLOYEE_ID IS NULL AND STAFF_ID IS NOT NULL)
            ) ),
    constraint STAFF_OR_TEAM1
        check ( (
                    STAFF_EMPLOYEE_ID = STAFF_ID
                OR
                    STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            ) ),
    constraint TRUST_OR_PROVIDER1
        check ( (
                    TRUST_PROVIDER_TEAM_ID = TEAM_ID
                OR
                    TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ) )
)
    ;

create table SUBJECT_ACCESS_REPORT_CONTACT
(
    SAR_CONTACT_ID              NUMBER           not null
        constraint XPKSUBJECT_ACCESS_REPORT_CONTA
            primary key,
    SUBJECT_ACCESS_REPORT_ID    NUMBER           not null
        references SUBJECT_ACCESS_REPORT,
    CONTACT_ID                  NUMBER           not null
        references CONTACT,
    DPA_SAR_EXCLUSION_REASON_ID NUMBER
        references R_STANDARD_REFERENCE_LIST,
    PARTITION_AREA_ID           NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION                 NUMBER default 0 not null,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION
)
    ;

create table OASYS_ASSESSMENT
(
    OASYS_ASSESSMENT_ID          NUMBER           not null
        constraint XPKOASYS_ASSESSMENT
            primary key,
    OFFENDER_ID                  NUMBER           not null
        references OFFENDER,
    OASYS_ID                     VARCHAR2(50)     not null,
    ASSESSMENT_DATE              DATE             not null,
    OASYS_TOTAL_SCORE            NUMBER,
    RISK_FLAGS                   VARCHAR2(50),
    CONCERN_FLAGS                VARCHAR2(50),
    DATE_CREATED                 DATE             not null,
    INITIAL_SENTENCE_PLAN_DATE   DATE,
    ASSESSED_BY                  VARCHAR2(35)     not null,
    SENTENCE_PLAN_REVIEW_DATE    DATE,
    REVIEW_TERMINATED            CHAR
        constraint YES_OR_NO_420
            check (REVIEW_TERMINATED IN ('Y', 'N')),
    REVIEW_NUMBER                VARCHAR2(20),
    LAYER_TYPE                   VARCHAR2(20),
    PARTITION_AREA_ID            NUMBER           not null
        references PARTITION_AREA,
    OGRS_SCORE_1                 NUMBER
        constraint GREATER_THAN_08
            check (OGRS_SCORE_1 > 0),
    OGRS_SCORE_2                 NUMBER
        constraint GREATER_THAN_09
            check (OGRS_SCORE_2 > 0),
    OGP_SCORE_1                  NUMBER,
    SOFT_DELETED                 NUMBER           not null
        constraint TRUE_OR_FALSE59
            check (SOFT_DELETED IN (0, 1)),
    OGP_SCORE_2                  NUMBER,
    ROW_VERSION                  NUMBER default 0 not null,
    OVP_SCORE_1                  NUMBER,
    OFFENCE_ID                   NUMBER
        references R_OFFENCE,
    ASSESSMENT_RECEIVED_DATE     DATE,
    EVENT_NUMBER                 VARCHAR2(50),
    COURT_ID                     NUMBER
        references COURT,
    OASYS_ASSESSMENT_DESCRIPTION VARCHAR2(4000),
    OVP_SCORE_2                  NUMBER,
    OBJECTIVE_STATUS             VARCHAR2(50),
    CONTACT_ID                   NUMBER
        references CONTACT,
    LAYER_1_OBJECTIVE            VARCHAR2(4000),
    TRAINING_SESSION_ID          NUMBER
        references TRAINING_SESSION,
    TIER_CODE_ID                 NUMBER
        references R_STANDARD_REFERENCE_LIST,
    ORGANISATIONS                ARRAY,
    CREATED_BY_USER_ID           NUMBER(22)       not null,
    CREATED_DATETIME             DATE             not null,
    LAST_UPDATED_USER_ID         NUMBER(22)       not null,
    LAST_UPDATED_DATETIME        DATE             not null,
    constraint XAK1OASYS_ASSESSMENT
        unique (OASYS_ID, OASYS_ASSESSMENT_ID)
)
    ;

create table OASYS_ASSMNT_SECTION_SCORE
(
    OASYS_ASSESSMENT_ID NUMBER           not null
        references OASYS_ASSESSMENT,
    LEVEL_              NUMBER           not null,
    SECTION_SCORE       NUMBER,
    SOFT_DELETED        NUMBER           not null
        constraint TRUE_OR_FALSE60
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID   NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    constraint XPKOASYS_ASSMNT_SECTION_SCORE
        primary key (OASYS_ASSESSMENT_ID, LEVEL_)
)
    ;

create table OASYS_SENTENCE_PLAN
(
    OASYS_SENTENCE_PLAN_ID NUMBER           not null
        constraint XPKOASYS_SENTENCE_PLAN
            primary key,
    OASYS_ASSESSMENT_ID    NUMBER           not null
        references OASYS_ASSESSMENT,
    OBJECTIVE_NUMBER       NUMBER,
    OBJECTIVE              VARCHAR2(4000),
    SOFT_DELETED           NUMBER           not null
        constraint TRUE_OR_FALSE61
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID      NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION            NUMBER default 0 not null,
    TRAINING_SESSION_ID    NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID            NUMBER           not null
        references OFFENDER,
    ORGANISATIONS          ARRAY
)
    ;

create table OASYS_SP_WORK_SUMMARY
(
    OASYS_SENTENCE_PLAN_ID NUMBER           not null
        references OASYS_SENTENCE_PLAN,
    LEVEL_                 NUMBER           not null,
    WORK_SUMMARY           VARCHAR2(4000)   not null,
    PARTITION_AREA_ID      NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED           NUMBER           not null
        constraint TRUE_OR_FALSE64
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION            NUMBER default 0 not null,
    TRAINING_SESSION_ID    NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID            NUMBER           not null
        references OFFENDER,
    ORGANISATIONS          ARRAY,
    constraint XPKOASYS_SP_WORK_SUMMARY
        primary key (OASYS_SENTENCE_PLAN_ID, LEVEL_)
)
    ;

create table OASYS_SP_TEXT
(
    OASYS_SENTENCE_PLAN_ID NUMBER           not null
        references OASYS_SENTENCE_PLAN,
    LEVEL_                 NUMBER           not null,
    TEXT                   VARCHAR2(4000)   not null,
    SOFT_DELETED           NUMBER           not null
        constraint TRUE_OR_FALSE63
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID      NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION            NUMBER default 0 not null,
    TRAINING_SESSION_ID    NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID            NUMBER           not null
        references OFFENDER,
    ORGANISATIONS          ARRAY,
    constraint XPKOASYS_SP_TEXT
        primary key (OASYS_SENTENCE_PLAN_ID, LEVEL_)
)
    ;

create table OASYS_SP_NEED
(
    OASYS_SENTENCE_PLAN_ID NUMBER           not null
        references OASYS_SENTENCE_PLAN,
    LEVEL_                 NUMBER           not null,
    NEED                   VARCHAR2(4000)   not null,
    PARTITION_AREA_ID      NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED           NUMBER           not null
        constraint TRUE_OR_FALSE62
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION            NUMBER default 0 not null,
    TRAINING_SESSION_ID    NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID            NUMBER           not null
        references OFFENDER,
    ORGANISATIONS          ARRAY,
    constraint XPKOASYS_SP_NEED
        primary key (OASYS_SENTENCE_PLAN_ID, LEVEL_)
)
    ;

create table UPW_APPOINTMENT
(
    UPW_APPOINTMENT_ID      NUMBER           not null
        constraint XPKUPW_APPOINTMENT
            primary key,
    UPW_DETAILS_ID          NUMBER           not null
        references UPW_DETAILS,
    UPW_PROJECT_ID          NUMBER           not null
        references UPW_PROJECT,
    APPOINTMENT_DATE        DATE             not null,
    START_TIME              DATE,
    END_TIME                DATE,
    MINUTES_OFFERED         NUMBER(10, 2),
    MINUTES_CREDITED        NUMBER(10, 2),
    TRAVEL_TIME             NUMBER(10, 2),
    ATTENDED                CHAR
        constraint YES_OR_NO_OR_UNKNOWN1
            check (ATTENDED IN ('N', 'Y', 'U')),
    COMPLIED                CHAR
        constraint YES_OR_NO_OR_UNKNOWN2
            check (COMPLIED IN ('N', 'Y', 'U')),
    HIGH_VISIBILITY_VEST    CHAR
        constraint YES_OR_NO_OR_UNKNOWN3
            check (HIGH_VISIBILITY_VEST IN ('N', 'Y', 'U')),
    NOTES                   CLOB,
    TEAM_ID                 NUMBER
        references TEAM,
    STAFF_ID                NUMBER
        references STAFF,
    SOFT_DELETED            NUMBER           not null
        constraint TRUE_OR_FALSE22
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID       NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION             NUMBER default 0 not null,
    WORK_QUALITY_ID         NUMBER
        references R_STANDARD_REFERENCE_LIST,
    BEHAVIOUR_ID            NUMBER
        references R_STANDARD_REFERENCE_LIST,
    PENALTY_TIME            NUMBER,
    CREATED_DATETIME        DATE             not null,
    LAST_UPDATED_DATETIME   DATE             not null,
    UPW_OUTCOME_ID          NUMBER
        references R_STANDARD_REFERENCE_LIST,
    CONTACT_OUTCOME_TYPE_ID NUMBER
        references R_CONTACT_OUTCOME_TYPE,
    CONTACT_ID              NUMBER           not null
        references CONTACT,
    PROVIDER_TEAM_ID        NUMBER
        references PROVIDER_TEAM,
    CREATED_BY_USER_ID      NUMBER           not null,
    PROVIDER_EMPLOYEE_ID    NUMBER
        references PROVIDER_EMPLOYEE,
    LAST_UPDATED_USER_ID    NUMBER           not null,
    TRAINING_SESSION_ID     NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID             NUMBER           not null
        references OFFENDER,
    ORGANISATIONS           ARRAY,
    PROJECT_NAME            VARCHAR2(60),
    PROJECT_TYPE_ID         NUMBER
        constraint R_1051
            references R_STANDARD_REFERENCE_LIST,
    INTENSIVE               CHAR
        constraint YES_OR_NO_ONLY_304805078
            check (INTENSIVE IN ('Y', 'N')),
    DOCUMENT_LINKED         CHAR
        constraint YES_OR_NO_ONLY_1297648776
            check (DOCUMENT_LINKED IN ('Y', 'N')),
    constraint OFFENDER_MANAGER_TEAM_XOR2
        check ( (
                (TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint PROVIDER_EMPLOYEE_OR_STAFF2
        check ( (
                (PROVIDER_EMPLOYEE_ID IS NOT NULL AND STAFF_ID IS NULL)
                OR
                (PROVIDER_EMPLOYEE_ID IS NULL AND STAFF_ID IS NOT NULL)
            ) )
)
    ;

create table ENFORCEMENT
(
    ENFORCEMENT_ID        NUMBER           not null
        constraint XPKENFORCEMENT
            primary key,
    UPW_APPOINTMENT_ID    NUMBER
        references UPW_APPOINTMENT,
    CONTACT_ID            NUMBER           not null
        references CONTACT,
    ACTION_TAKEN_DATE     DATE,
    ACTION_TAKEN_TIME     DATE,
    RESPONSE_DATE         DATE,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE51
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_DATETIME      DATE             not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    ENFORCEMENT_ACTION_ID NUMBER
        references R_ENFORCEMENT_ACTION,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION
)
    ;

create table REGISTRATION
(
    REGISTRATION_ID       NUMBER           not null
        constraint XPKREGISTRATION
            primary key,
    REGISTER_TYPE_ID      NUMBER           not null
        references R_REGISTER_TYPE,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    REGISTRATION_DATE     DATE             not null,
    NEXT_REVIEW_DATE      DATE,
    REGISTRATION_NOTES    CLOB,
    REGISTERING_TEAM_ID   NUMBER           not null
        references TEAM,
    REGISTERING_STAFF_ID  NUMBER           not null
        references STAFF,
    REGISTRATION_LEVEL    NUMBER,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE34
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    REGISTRATION_CATEGORY NUMBER,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRIGGER_OFFENCE_ID    NUMBER
        references TRIGGER_OFFENCE,
    REGISTER_LEVEL_ID     NUMBER
        references R_STANDARD_REFERENCE_LIST,
    CREATED_BY_USER_ID    NUMBER           not null,
    REGISTER_CATEGORY_ID  NUMBER
        references R_STANDARD_REFERENCE_LIST,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CONTACT_ID            NUMBER           not null
        references CONTACT,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    DEREGISTERED          NUMBER           not null
        constraint TRUE_OR_FALSE35
            check (DEREGISTERED IN (0, 1)),
    ORGANISATIONS         ARRAY,
    constraint REGISTRATION
        check ( (
                (REGISTRATION_DATE <= NEXT_REVIEW_DATE) OR (NEXT_REVIEW_DATE IS NULL)
            ) )
)
    ;

create table DEREGISTRATION
(
    DEREGISTRATION_ID      NUMBER           not null
        constraint XPKDEREGISTRATION
            primary key,
    DEREGISTRATION_DATE    DATE             not null,
    DEREGISTERING_TEAM_ID  NUMBER           not null
        references TEAM,
    DEREGISTERING_STAFF_ID NUMBER           not null
        references STAFF,
    DEREGISTERING_NOTES    CLOB,
    SOFT_DELETED           NUMBER           not null
        constraint TRUE_OR_FALSE28
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID      NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION            NUMBER default 0 not null,
    REGISTRATION_ID        NUMBER           not null
        references REGISTRATION,
    CREATED_BY_USER_ID     NUMBER           not null,
    CREATED_DATETIME       DATE             not null,
    LAST_UPDATED_USER_ID   NUMBER           not null,
    LAST_UPDATED_DATETIME  DATE             not null,
    CONTACT_ID             NUMBER           not null
        references CONTACT,
    TRAINING_SESSION_ID    NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID            NUMBER           not null
        references OFFENDER,
    ORGANISATIONS          ARRAY
)
    ;

create table REGISTRATION_REVIEW
(
    REGISTRATION_REVIEW_ID NUMBER           not null
        constraint XPKREGISTRATION_REVIEW
            primary key,
    REGISTRATION_ID        NUMBER           not null
        references REGISTRATION,
    REVIEW_DATE            DATE             not null,
    REVIEW_DATE_DUE        DATE,
    NOTES                  CLOB,
    REVIEWING_TEAM_ID      NUMBER           not null
        references TEAM,
    REVIEWING_STAFF_ID     NUMBER           not null
        references STAFF,
    COMPLETED              CHAR
        constraint YES_OR_NO_422
            check (COMPLETED IN ('Y', 'N')),
    SOFT_DELETED           NUMBER           not null
        constraint TRUE_OR_FALSE75
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID      NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION            NUMBER default 0 not null,
    CREATED_BY_USER_ID     NUMBER           not null,
    CREATED_DATETIME       DATE             not null,
    LAST_UPDATED_USER_ID   NUMBER           not null,
    LAST_UPDATED_DATETIME  DATE             not null,
    CONTACT_ID             NUMBER           not null
        references CONTACT,
    TRAINING_SESSION_ID    NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID            NUMBER           not null
        references OFFENDER,
    ORGANISATIONS          ARRAY
)
    ;

create table DOCUMENT_TEMPLATE
(
    DOCUMENT_TEMPLATE_ID NUMBER           not null
        constraint XPKDOCUMENT_TEMPLATE
            primary key,
    TEMPLATE_NAME        VARCHAR2(200)    not null,
    DESCRIPTION          VARCHAR2(4000),
    TEMPLATE             BLOB             not null,
    DATE_CREATED_DATE    DATE             not null,
    ROW_VERSION          NUMBER default 0 not null,
    TRAINING_SESSION_ID  NUMBER
        references TRAINING_SESSION,
    SECTOR               VARCHAR2(7)
        constraint DOCUMENT_TEMPLATE_S_1489212050
            check (SECTOR IN ('PUBLIC', 'PRIVATE', 'BOTH', 'LOCAL')),
    constraint XAK1DOCUMENT_TEMPLATE
        unique (TEMPLATE_NAME, TRAINING_SESSION_ID, DOCUMENT_TEMPLATE_ID)
)
    ;

create table DOCUMENT_TEMPLATE_AREA
(
    DOCUMENT_TEMPLATE_ID NUMBER           not null
        references DOCUMENT_TEMPLATE,
    PROBATION_AREA_ID    NUMBER           not null
        references PROBATION_AREA,
    ROW_VERSION          NUMBER default 0 not null,
    TRAINING_SESSION_ID  NUMBER
        references TRAINING_SESSION,
    constraint XPKDOCUMENT_TEMPLATE_AREA
        primary key (DOCUMENT_TEMPLATE_ID, PROBATION_AREA_ID)
)
    ;

create table OBJECT_TYPE_DOCUMENT_TEMPLATE
(
    OBJECT_TYPE_DOC_TEMPLATE_ID NUMBER           not null
        constraint XPKOBJECT_TYPE_DOCUMENT_TEMPLA
            primary key,
    OBJECT_NAME                 VARCHAR2(32)     not null,
    OBJECT_PRIMARY_KEY_ID       NUMBER           not null,
    DOCUMENT_TEMPLATE_ID        NUMBER           not null
        references DOCUMENT_TEMPLATE,
    ROW_VERSION                 NUMBER default 0 not null,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION
)
    ;

create table TRAINING_TABLE_ROWS
(
    TRAINING_TABLE_ROWS_ID NUMBER not null
        constraint XPKTRAINING_TABLE_ROWS
            primary key,
    PARENT_TABLE           VARCHAR2(30),
    TABLE_NAME             VARCHAR2(30),
    HIERARCHY_LEVEL        NUMBER,
    NEW_PROBATION_AREA_ID  NUMBER,
    OLD_OFFENDER_ID        NUMBER,
    NEW_OFFENDER_ID        NUMBER,
    OLD_PK_VALUE           VARCHAR2(4000),
    NEW_PK_VALUE           VARCHAR2(4000),
    OLD_FK_KEY             VARCHAR2(4000),
    NEW_FK_KEY             VARCHAR2(4000),
    NEW_FIELD_LIST         CLOB
)
    ;

create table REFERRAL
(
    REFERRAL_ID                 NUMBER           not null
        constraint XPKREFERRAL
            primary key,
    REFERRAL_DATE               DATE             not null,
    ATTENDED                    CHAR
        constraint YES_OR_NO_ONLY27
            check (ATTENDED IN ('Y', 'N')),
    SOURCE_NOTES                CLOB,
    NOTES                       CLOB,
    EVENT_ID                    NUMBER           not null
        references EVENT,
    REF_TO_TEAM_ID              NUMBER
        references TEAM,
    REF_TO_STAFF_ID             NUMBER
        references STAFF,
    PARTITION_AREA_ID           NUMBER           not null
        references PARTITION_AREA,
    REF_TO_PROVIDER_EMPLOYEE_ID NUMBER
        references PROVIDER_EMPLOYEE,
    SOFT_DELETED                NUMBER           not null
        constraint TRUE_OR_FALSE33
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION                 NUMBER default 0 not null,
    TREATMENT_AIM_ID            NUMBER
        references R_STANDARD_REFERENCE_LIST,
    REF_TO_PROVIDER_TEAM_ID     NUMBER
        references PROVIDER_TEAM,
    REFERRAL_TYPE_ID            NUMBER           not null
        references R_REFERRAL_TYPE,
    REFERRAL_SOURCE_ID          NUMBER           not null
        references R_REFERRAL_SOURCE,
    CREATED_BY_USER_ID          NUMBER           not null,
    CREATED_DATETIME            DATE             not null,
    LAST_UPDATED_USER_ID        NUMBER           not null,
    LAST_UPDATED_DATETIME       DATE             not null,
    GENERIC_REFERRAL_OUTCOME_ID NUMBER
        references R_STANDARD_REFERENCE_LIST,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID                 NUMBER           not null
        references OFFENDER,
    ORGANISATIONS               ARRAY,
    DOCUMENT_LINKED             CHAR
        constraint YES_OR_NO_ONLY_1079849424
            check (DOCUMENT_LINKED IN ('Y', 'N')),
    constraint REFERRAL_STAFF_XOR_PROVIDER_EM
        check ( (
                (REF_TO_PROVIDER_EMPLOYEE_ID IS NOT NULL AND REF_TO_STAFF_ID IS NULL)
                OR
                (REF_TO_PROVIDER_EMPLOYEE_ID IS NULL AND REF_TO_STAFF_ID IS NOT NULL)
            ) ),
    constraint REFERRAL_TEAM_XOR_PROVIDER_TEA
        check ( (
                (REF_TO_TEAM_ID IS NOT NULL AND REF_TO_PROVIDER_TEAM_ID IS NULL)
                OR
                (REF_TO_TEAM_ID IS NULL AND REF_TO_PROVIDER_TEAM_ID IS NOT NULL)
            ) )
)
    ;

create table ASSESSMENT
(
    ASSESSMENT_ID               NUMBER           not null
        constraint XPKASSESSMENT
            primary key,
    REFERRAL_ID                 NUMBER           not null
        references REFERRAL,
    ASSESSMENT_DATE             DATE             not null,
    OFFENDERS_AGREEMENT         CHAR
        constraint YES_OR_NO_OR_UNKNOWN
            check (OFFENDERS_AGREEMENT IN ('N', 'Y', 'U')),
    NOTES                       CLOB,
    TEAM_ID                     NUMBER
        references TEAM,
    STAFF_ID                    NUMBER
        references STAFF,
    PROVIDER_EMPLOYEE_ID        NUMBER
        references PROVIDER_EMPLOYEE,
    SOFT_DELETED                NUMBER           not null
        constraint TRUE_OR_FALSE15
            check (SOFT_DELETED IN (0, 1)),
    OFFENDER_REQUIRED_TO_ATTEND CHAR             not null,
    OFFENDER_ATTENDED           CHAR,
    PARTITION_AREA_ID           NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION                 NUMBER default 0 not null,
    ASSESSMENT_TYPE_ID          NUMBER           not null
        references R_ASSESSMENT_TYPE,
    PROVIDER_TEAM_ID            NUMBER
        references PROVIDER_TEAM,
    SCORE                       VARCHAR2(20),
    DURATION_MINUTES            NUMBER,
    CREATED_BY_USER_ID          NUMBER           not null,
    CREATED_DATETIME            DATE             not null,
    LAST_UPDATED_USER_ID        NUMBER           not null,
    LAST_UPDATED_DATETIME       DATE             not null,
    ASSESSMENT_OUTCOME_ID       NUMBER
        references R_ASSESSMENT_OUTCOME,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID                 NUMBER           not null
        references OFFENDER,
    ORGANISATIONS               ARRAY,
    DOCUMENT_LINKED             CHAR
        constraint YES_OR_NO_ONLY_1291962580
            check (DOCUMENT_LINKED IN ('Y', 'N')),
    constraint ASSESSMENT_TEAM_XOR
        check ( (
                (TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint ASSESSMENT_XOR
        check ( (
                (STAFF_ID IS NOT NULL AND PROVIDER_EMPLOYEE_ID IS NULL)
                OR
                (STAFF_ID IS NULL AND PROVIDER_EMPLOYEE_ID IS NOT NULL)
            ) )
)
    ;

create table DRUGS_TEST
(
    DRUGS_TEST_ID         NUMBER           not null
        constraint XPKDRUGS_TEST
            primary key,
    DATE_OF_TEST          DATE             not null,
    TESTED_BY             VARCHAR2(107),
    OFFENDER_COMPLIANCE   CHAR,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE30
            check (SOFT_DELETED IN (0, 1)),
    NOTES                 CLOB,
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    CREATED_BY_USER_ID    NUMBER           not null,
    ROW_VERSION           NUMBER default 0 not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    EVENT_ID              NUMBER           not null
        references EVENT,
    ORGANISATIONS         ARRAY
)
    ;

create table DRUG_TEST_RESULT
(
    DRUG_TEST_RESULT_ID   NUMBER           not null
        constraint XPKDRUG_TEST_RESULT
            primary key,
    DRUGS_TEST_ID         NUMBER           not null
        references DRUGS_TEST,
    TESTED                CHAR             not null
        constraint YES_OR_NO_ONLY24
            check (TESTED IN ('Y', 'N')),
    ADMITTED_USE          CHAR
        constraint YES_OR_NO_ONLY25
            check (ADMITTED_USE IN ('Y', 'N')),
    TEST_RESULT           VARCHAR2(50)
        constraint DRUG_RESULT
            check (TEST_RESULT IN ('Positive', 'Negative', 'Not Tested')),
    QUANTITY_USED         NUMBER,
    INJECTED              CHAR
        constraint YES_OR_NO_OR_UNKNOWN5
            check (INJECTED IN ('N', 'Y', 'U')),
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE31
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    DRUG_TYPE_ID          NUMBER           not null
        references R_DRUG_TYPE,
    AGREED                CHAR
        constraint YES_OR_NO_407
            check (AGREED IN ('Y', 'N')),
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_DATETIME DATE             not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID           NUMBER           not null
        references OFFENDER,
    ORGANISATIONS         ARRAY
)
    ;

create table USER_
(
    USER_ID                        NUMBER           not null
        constraint XPKUSER_
            primary key,
    STAFF_ID                       NUMBER
        references STAFF,
    PROVIDER_EMPLOYEE_ID           NUMBER
        references PROVIDER_EMPLOYEE,
    SURNAME                        VARCHAR2(35)     not null,
    FORENAME                       VARCHAR2(35)     not null,
    FORENAME2                      VARCHAR2(35),
    END_DATE                       DATE,
    NOTES                          CLOB,
    ROW_VERSION                    NUMBER default 0 not null,
    DISTINGUISHED_NAME             VARCHAR2(500)    not null,
    EXTERNAL_PROVIDER_EMPLOYEEFLAG CHAR
        constraint YES_OR_NO_435
            check (EXTERNAL_PROVIDER_EMPLOYEEFLAG IN ('Y', 'N')),
    EXTERNAL_PROVIDER_ID           NUMBER
        references EXTERNAL_PROVIDER,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    PRIVATE                        NUMBER           not null
        constraint TRUE_OR_FALSE_941631159
            check (PRIVATE IN (0, 1)),
    ORGANISATION_ID                NUMBER           not null
        constraint R_891
            references ORGANISATION,
    SC_PROVIDER_ID                 NUMBER
        constraint R_892
            references SC_PROVIDER,
    CREATED_BY_USER_ID             NUMBER,
    CREATED_DATETIME               DATE,
    LAST_UPDATED_USER_ID           NUMBER,
    LAST_UPDATED_DATETIME          DATE,
    constraint XAK1USER_
        unique (USER_ID, DISTINGUISHED_NAME, TRAINING_SESSION_ID)
)
    ;

create table RESTRICTION
(
    RESTRICTION_ID             NUMBER           not null
        constraint XPKRESTRICTION
            primary key,
    OFFENDER_ID                NUMBER           not null
        references OFFENDER,
    USER_ID                    NUMBER           not null
        references USER_,
    RESTRICTION_DATE           DATE             not null,
    RESTRICTION_TIME           DATE             not null,
    RESTRICTION_START_STAFF_ID NUMBER           not null
        references STAFF,
    RESTRICTION_END_DATE       DATE,
    RESTRICTION_END_TIME       DATE,
    ROW_VERSION                NUMBER default 0 not null,
    RESTRICTION_REASON_ID      NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    RESTRICTION_END_STAFF_ID   NUMBER
        references STAFF,
    CREATED_DATETIME           DATE             not null,
    LAST_UPDATED_DATETIME      DATE             not null,
    PARTITION_AREA_ID          NUMBER           not null
        references PARTITION_AREA,
    RESTRICTION_START_TEAM_ID  NUMBER           not null
        references TEAM,
    CREATED_BY_USER_ID         NUMBER           not null,
    RESTRICTION_END_TEAM_ID    NUMBER
        references TEAM,
    LAST_UPDATED_USER_ID       NUMBER           not null,
    TRAINING_SESSION_ID        NUMBER
        references TRAINING_SESSION
)
    ;

create table USER_TRAINING_SESSION
(
    USER_ID             NUMBER           not null
            primary key
        references USER_,
    ROW_VERSION         NUMBER default 0 not null,
    TRAINING_SESSION_ID NUMBER           not null
        references TRAINING_SESSION
)
    ;

create table AP_AUDIT_REGISTER
(
    AP_AUDIT_REGISTER_ID          NUMBER           not null
        constraint XPKAP_AUDIT_REGISTER
            primary key,
    APPROVED_PREMISES_ID          NUMBER           not null
        references R_APPROVED_PREMISES,
    RESIDENTS                     NUMBER           not null,
    LAST_RESIDENCY_AUDIT_DATETIME DATE             not null,
    PARTITION_AREA_ID             NUMBER           not null
        references PARTITION_AREA,
    CREATED_BY_USER_ID            NUMBER           not null,
    CREATED_DATETIME              DATE             not null,
    LAST_UPDATED_USER_ID          NUMBER           not null,
    LAST_UPDATED_DATETIME         DATE             not null,
    ROW_VERSION                   NUMBER default 0 not null,
    TRAINING_SESSION_ID           NUMBER
        references TRAINING_SESSION,
    USER_ID                       NUMBER           not null
        references USER_
)
    ;

create table MOST_RECENTLY_VIEWED_OFFENDERS
(
    USER_ID             NUMBER not null
        references USER_,
    OFFENDER_ID         NUMBER not null
        references OFFENDER,
    TIME_AND_DATE       DATE   not null,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION,
    constraint XPKMOST_RECENTLY_VIEWED_OFFEND
        primary key (USER_ID, OFFENDER_ID)
)
    ;

create table PROBATION_AREA_USER
(
    USER_ID               NUMBER           not null
        references USER_,
    PROBATION_AREA_ID     NUMBER           not null
        references PROBATION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_DATETIME      DATE             not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    constraint XPKPROBATION_AREA_USER
        primary key (USER_ID, PROBATION_AREA_ID)
)
    ;

create table EXCLUSION
(
    EXCLUSION_ID             NUMBER           not null
        constraint XPKEXCLUSION
            primary key,
    OFFENDER_ID              NUMBER           not null
        references OFFENDER,
    USER_ID                  NUMBER           not null
        references USER_,
    EXCLUSION_DATE           DATE             not null,
    EXCLUSION_END_DATE       DATE,
    EXCLUSION_END_TIME       DATE,
    EXCLUSION_START_STAFF_ID NUMBER           not null
        references STAFF,
    ROW_VERSION              NUMBER default 0 not null,
    EXCLUSION_REASON_ID      NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    EXCLUSION_END_STAFF_ID   NUMBER
        references STAFF,
    CREATED_DATETIME         DATE             not null,
    LAST_UPDATED_DATETIME    DATE             not null,
    PARTITION_AREA_ID        NUMBER           not null
        references PARTITION_AREA,
    EXCLUSION_START_TEAM_ID  NUMBER           not null
        references TEAM,
    CREATED_BY_USER_ID       NUMBER           not null,
    EXCLUSION_END_TEAM_ID    NUMBER
        references TEAM,
    LAST_UPDATED_USER_ID     NUMBER           not null,
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION
)
    ;

create table UPW_ADJUSTMENT
(
    UPW_ADJUSTMENT_ID     NUMBER           not null
        constraint XPKUPW_ADJUSTMENT
            primary key,
    UPW_DETAILS_ID        NUMBER           not null
        references UPW_DETAILS,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE36
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID     NUMBER           not null
        references PARTITION_AREA,
    ADJUSTMENT_AMOUNT     NUMBER           not null
        constraint GREATER_THAN_04
            check (ADJUSTMENT_AMOUNT > 0),
    ADJUSTMENT_DATE       DATE,
    ADJUSTMENT_TYPE       VARCHAR2(20)     not null
        constraint POSITIVE_NEGATIVE
            check (ADJUSTMENT_TYPE IN ('POSITIVE', 'NEGATIVE')),
    ROW_VERSION           NUMBER default 0 not null,
    ADJUSTMENT_REASON_ID  NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ADJUSTED_BY_USER_ID   NUMBER           not null
        references USER_,
    TRAINING_SESSION_ID   NUMBER
        references TRAINING_SESSION,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null
)
    ;

create table DOCUMENT
(
    DOCUMENT_ID                 NUMBER           not null
        constraint XPKDOCUMENT
            primary key,
    OFFENDER_ID                 NUMBER           not null
        references OFFENDER,
    TABLE_NAME                  VARCHAR2(30)
        constraint DOCUMENT_TABLE
            check ( TABLE_NAME IN (
                                   'ADDRESSASSESSMENT', 'ASSESSMENT',
                                   'APPROVED_PREMISES_REFERRAL', 'REFERRAL',
                                   'CASE_ALLOCATION',
                                   'COURT_REPORT', 'INSTITUTIONAL_REPORT',
                                   'CONTACT', 'PERSONALCONTACT',
                                   'OFFENDER', 'EVENT', 'NSI',
                                   'PERSONAL_CIRCUMSTANCE',
                                   'UPW_APPOINTMENT')
                ),
    DOCUMENT                    BLOB,
    PRIMARY_KEY_ID              NUMBER,
    LAST_SAVED                  TIMESTAMP(6)     not null,
    SOFT_DELETED                NUMBER           not null
        constraint TRUE_OR_FALSE29
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION                 NUMBER default 0 not null,
    STATUS                      CHAR             not null
        constraint YES_OR_NO_ONLY23
            check (STATUS IN ('Y', 'N')),
    WORK_IN_PROGRESS            CHAR
        constraint YES_OR_NO_406
            check (WORK_IN_PROGRESS IN ('Y', 'N')),
    PARTITION_AREA_ID           NUMBER           not null
        references PARTITION_AREA,
    LAST_UPDATED_USER_ID        NUMBER
        references USER_,
    TRAINING_SESSION_ID         NUMBER
        references TRAINING_SESSION,
    ORGANISATIONS               ARRAY,
    TEMPLATE_NAME               VARCHAR2(200),
    DOCUMENT_NAME               VARCHAR2(200),
    LAST_UPD_AUTHOR_PROVIDER_ID NUMBER
        constraint R_1091
            references PROBATION_AREA,
    CREATED_PROVIDER_ID         NUMBER
        constraint R_1092
            references PROBATION_AREA,
    CREATED_BY_USER_ID          NUMBER,
    CREATED_DATETIME            DATE,
    ALFRESCO_DOCUMENT_ID        VARCHAR2(36)
        constraint XAK1DOCUMENT
            unique,
    PUBLISHED                   CHAR
        constraint YES_OR_NO_ONLY_1030455660
            check (PUBLISHED IN ('Y', 'N'))
)
    ;

create table COURT_REPORT
(
    COURT_REPORT_ID                NUMBER           not null
        constraint XPKCOURT_REPORT
            primary key,
    COURT_APPEARANCE_ID            NUMBER           not null
        references COURT_APPEARANCE,
    DATE_REQUESTED                 DATE             not null,
    DATE_REQUIRED                  DATE             not null,
    ALLOCATION_DATE                DATE,
    COMPLETED_DATE                 DATE,
    SENT_TO_COURT_DATE             DATE,
    RECEIVED_BY_COURT_DATE         DATE,
    VIDEO_LINK                     VARCHAR2(20),
    NOTES                          CLOB,
    PUNISHMENT                     CHAR
        constraint YES_OR_NO_ONLY11
            check (PUNISHMENT IN ('Y', 'N')),
    REDUCTION_OF_CRIME             CHAR
        constraint YES_OR_NO_ONLY12
            check (REDUCTION_OF_CRIME IN ('Y', 'N')),
    REFORM_AND_REHABILITATION      CHAR
        constraint YES_OR_NO_ONLY13
            check (REFORM_AND_REHABILITATION IN ('Y', 'N')),
    PUBLIC_PROTECTION              CHAR
        constraint YES_OR_NO_ONLY14
            check (PUBLIC_PROTECTION IN ('Y', 'N')),
    REPARATION                     CHAR
        constraint YES_OR_NO_ONLY15
            check (REPARATION IN ('Y', 'N')),
    RECOMMENDATIONS_NOT_STATED     CHAR
        constraint YES_OR_NO_ONLY16
            check (RECOMMENDATIONS_NOT_STATED IN ('Y', 'N')),
    SOFT_DELETED                   NUMBER           not null
        constraint TRUE_OR_FALSE27
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID              NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION                    NUMBER default 0 not null,
    LEVEL_OF_SERIOUSNESS_ID        NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    DELIVERED_REPORT_REASON_ID     NUMBER
        references R_STANDARD_REFERENCE_LIST,
    SECTION_178                    CHAR
        constraint YES_OR_NO_405
            check (SECTION_178 IN ('Y', 'N')),
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    COURT_REPORT_TYPE_ID           NUMBER
        references R_COURT_REPORT_TYPE,
    CREATED_BY_USER_ID             NUMBER           not null,
    DELIVERED_COURT_REPORT_TYPE_ID NUMBER
        references R_COURT_REPORT_TYPE,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    OFFENDER_ID                    NUMBER           not null
        references OFFENDER,
    ORGANISATIONS                  ARRAY,
    REQUIRED_BY_COURT_ID           NUMBER
        constraint R_787
            references COURT,
    PENDING_TRANSFER               NUMBER           not null
        constraint TRUE_OR_FALSE_218769512
            check (PENDING_TRANSFER IN (0, 1))
)
    ;

create table PROPOSAL
(
    PROPOSAL_ID             NUMBER not null
        constraint XPKPROPOSAL
            primary key,
    LENGTH                  NUMBER,
    AMOUNT                  NUMBER(16, 2),
    COURT_REPORT_ID         NUMBER not null
        references COURT_REPORT,
    SOFT_DELETED            NUMBER not null
        constraint TRUE_OR_FALSE73
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID       NUMBER not null
        references PARTITION_AREA,
    ROW_VERSION             NUMBER not null,
    LEVEL_OF_SERIOUSNESS_ID NUMBER not null
        references R_STANDARD_REFERENCE_LIST,
    PROPOSAL_TYPE_ID        NUMBER not null
        references R_STANDARD_REFERENCE_LIST,
    PROPOSED_TIER_ID        NUMBER
        references R_STANDARD_REFERENCE_LIST,
    TRAINING_SESSION_ID     NUMBER
        references TRAINING_SESSION
)
    ;

create table PROPOSED_RQMNT
(
    PROPOSED_RQMNT_ID              NUMBER           not null
        constraint XPKPROPOSED_RQMNT
            primary key,
    PROPOSAL_ID                    NUMBER           not null
        references PROPOSAL,
    LENGTH                         NUMBER,
    PARTITION_AREA_ID              NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED                   NUMBER           not null
        constraint TRUE_OR_FALSE25
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION                    NUMBER default 0 not null,
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    RQMNT_TYPE_MAIN_CATEGORY_ID    NUMBER
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    RQMNT_TYPE_SUB_CATEGORY_ID     NUMBER
        references R_STANDARD_REFERENCE_LIST,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER
        references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    CREATED_BY_USER_ID             NUMBER           not null,
    AD_RQMNT_TYPE_SUB_CATEGORY_ID  NUMBER
        references R_STANDARD_REFERENCE_LIST,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    constraint PROPOSED_RQMNT_TYPE
        check ( (
                (
                        RQMNT_TYPE_MAIN_CATEGORY_ID IS NOT NULL
                        AND
                        AD_RQMNT_TYPE_MAIN_CATEGORY_ID IS NULL
                        AND
                        AD_RQMNT_TYPE_SUB_CATEGORY_ID IS NULL
                    )
                OR
                (
                        AD_RQMNT_TYPE_MAIN_CATEGORY_ID IS NOT NULL
                        AND
                        RQMNT_TYPE_MAIN_CATEGORY_ID IS NULL
                        AND
                        RQMNT_TYPE_SUB_CATEGORY_ID IS NULL
                    )
            ) )
)
    ;

create table OFFLOC
(
    OFFLOC_ID                NUMBER not null
        constraint XPKOFFLOC
            primary key,
    PRISON_CODE              VARCHAR2(20),
    OFFENDER_MANAGER         VARCHAR2(500),
    SURNAME                  VARCHAR2(35),
    FORENAME_1               VARCHAR2(35),
    FORENAME_2               VARCHAR2(35),
    DOB                      DATE,
    GENDER                   VARCHAR2(40),
    ETHNICITY                VARCHAR2(40),
    NATIONALITY              VARCHAR2(50),
    CRO                      VARCHAR2(4000),
    PRISON_NUMBER            VARCHAR2(20),
    NOMIS_NUMBER             VARCHAR2(20),
    STATUS                   VARCHAR2(10)
        constraint OFFLOC_STATUS
            check (STATUS IN ('Active', 'Inactive', 'Unknown')),
    NOMIS_STATUS             VARCHAR2(20),
    SENTENCING_COURT         VARCHAR2(50),
    SENTENCE_DATE            DATE,
    SENTENCE_YEARS           NUMBER,
    SENTENCE_MONTH           NUMBER,
    SENTENCE_DAYS            NUMBER,
    CONDITIONAL_RELEASE_DATE DATE,
    PAROLE_ELIGIBILITY_DATE  DATE,
    LICENSE_EXPIRY_DATE      DATE,
    SENTENCE_EXPIRY_DATE     DATE,
    HDC_ELIGIBILITY_DATE     DATE,
    ACTUAL_RELEASE_DATE      DATE,
    DSS_UPDATED_DATE         DATE   not null,
    SOURCE_CODE              CHAR
        constraint LIDS_OR_NOMIS
            check (SOURCE_CODE IN ('L', 'N')),
    TRAINING_SESSION_ID      NUMBER
        references TRAINING_SESSION,
    PSS_END_DATE             DATE,
    ALERTS                   CLOB
)
    ;

create table PNC_NUMBER
(
    PNC_NUMBER_ID       NUMBER       not null
        constraint XPKPNC_NUMBER
            primary key,
    PNC_NUMBER          VARCHAR2(20) not null,
    OFFLOC_ID           NUMBER       not null
        references OFFLOC,
    TRAINING_SESSION_ID NUMBER
        references TRAINING_SESSION
)
    ;

create table BUSINESS_INT_XML_MAP
(
    BUSINESS_INT_XML_MAP_ID  NUMBER           not null
        constraint XPKBUSINESS_INT_XML_MAP
            primary key,
    BUSINESS_INTERACTION_ID  NUMBER           not null,
    ROOT_XML_MESSAGE_ID      NUMBER           not null,
    XML_MESSAGE_NAME         VARCHAR2(100)    not null,
    DATA_UPDATE_MODE         CHAR,
    INCLUDE_XML_MESSAGE_LIST VARCHAR2(1000),
    EXCLUDE_XML_MESSAGE_LIST VARCHAR2(1000),
    XSD_NUMBER               NUMBER default 1 not null,
    constraint XAK1BUSINESS_INT_XML_MAP
        unique (BUSINESS_INTERACTION_ID, ROOT_XML_MESSAGE_ID, XSD_NUMBER)
)
    ;

create table SPG_CONTROL
(
    SPG_CONTROL_ID NUMBER       not null
        constraint XPKSPG_CONTROL
            primary key,
    CONTROL_CODE   VARCHAR2(10) not null
        constraint XAK1SPG_CONTROL
            unique,
    CONTROL_NAME   VARCHAR2(200),
    CONTROL_TYPE   CHAR         not null
        constraint CONTROL_TYPE_2015836973
            check (CONTROL_TYPE IN ('C', 'N', 'D', 'R')),
    VALUE_STRING   VARCHAR2(4000),
    VALUE_NUMBER   NUMBER,
    VALUE_DATE     DATE
)
    ;

create table SPG_ERROR_LOG
(
    SPG_ERROR_LOG_ID NUMBER           not null
        constraint XPKSPG_ERROR_LOG
            primary key,
    ERROR_CODE       NUMBER           not null,
    ERROR_MESSAGE    VARCHAR2(4000)   not null,
    BACKTRACE        CLOB             not null,
    CALLSTACK        CLOB             not null,
    DATE_CREATED     DATE             not null,
    CREATED_BY       VARCHAR2(30)     not null,
    PACKAGE_NAME     VARCHAR2(30)     not null,
    PROCEDURE_NAME   VARCHAR2(30)     not null,
    LABEL            VARCHAR2(10)     not null,
    INSTANCE_ID      NUMBER default 0 not null
)
    ;

create table SPG_INBOUND_INDEX
(
    SPG_INBOUND_INDEX_ID NUMBER       not null
        constraint XPKSPG_INBOUND_INDEX
            primary key,
    CONTROL_REFERENCE    NUMBER       not null,
    SOURCE_PROVIDER_ID   NUMBER       not null
        constraint R_1049
            references PROBATION_AREA,
    RECEIVED_TIMESTAMP   TIMESTAMP(6) not null,
    constraint XAK1SPG_INBOUND_INDEX
        unique (SOURCE_PROVIDER_ID, CONTROL_REFERENCE)
)
    ;

create table SPG_MESSAGE_LOG
(
    SPG_MESSAGE_LOG_ID NUMBER           not null
        constraint XPKSPG_MESSAGE_LOG
            primary key,
    MESSAGE_TIMESTAMP  TIMESTAMP(6)     not null,
    MESSAGE_TYPE_ID    NUMBER           not null,
    COMPONENT_CODE     VARCHAR2(30)     not null,
    PACKAGE_NAME       VARCHAR2(30)     not null,
    PROCEDURE_NAME     VARCHAR2(30)     not null,
    LABEL              VARCHAR2(10)     not null,
    MESSAGE_TEXT       VARCHAR2(4000)   not null,
    SPG_ERROR_LOG_ID   NUMBER,
    INSTANCE_ID        NUMBER default 0 not null
)
    ;

create table CASE_ALLOCATION
(
    CASE_ALLOCATION_ID            NUMBER           not null
        constraint XPKCASE_ALLOCATION
            primary key,
    OFFENDER_ID                   NUMBER           not null
        constraint R_1067
            references OFFENDER,
    EVENT_ID                      NUMBER           not null
        constraint R_1068
            references EVENT,
    RSR_SCORE                     NUMBER(5, 2),
    RSR_ASSESSOR_PROVIDER_ID      NUMBER
        constraint R_1069
            references PROBATION_AREA,
    RSR_ASSESSOR_TEAM_ID          NUMBER
        constraint R_1070
            references TEAM,
    RSR_ASSESSOR_STAFF_ID         NUMBER
        constraint R_1072
            references STAFF,
    RSR_ASSESSOR_DATE             DATE,
    ALLOCATION_DECISION_ID        NUMBER
        constraint R_1073
            references R_STANDARD_REFERENCE_LIST,
    ALLOCATION_DECISION_DATE      DATE,
    TARGET_PROVIDER_ID            NUMBER
        constraint R_1074
            references PROBATION_AREA,
    DECISION_PROVIDER_ID          NUMBER
        constraint R_1075
            references PROBATION_AREA,
    DECISION_TEAM_ID              NUMBER
        constraint R_1076
            references TEAM,
    DECISION_STAFF_ID             NUMBER
        constraint R_1077
            references STAFF,
    ALLOCATION_DECISION_NOTES     CLOB,
    ROW_VERSION                   NUMBER default 0 not null,
    CREATED_BY_USER_ID            NUMBER           not null,
    CREATED_DATETIME              DATE             not null,
    LAST_UPDATED_USER_ID          NUMBER           not null,
    LAST_UPDATED_DATETIME         DATE             not null,
    ALLOCATION_OVERRIDE_REASON_ID NUMBER
        constraint R_1119
            references R_STANDARD_REFERENCE_LIST,
    ALLOCATION_OVERRIDE           NUMBER
        constraint TRUE_OR_FALSE_1016374440
            check (ALLOCATION_OVERRIDE IN (0, 1)),
    OSP_SCORE                     NUMBER(16, 2)
)
    ;

create table CASE_ALLOCATION_QUESTION
(
    CASE_ALLOCATION_QUESTION_ID NUMBER           not null
        constraint XPKCASE_ALLOCATION_QUESTION
            primary key,
    CASE_ALLOCATION_ID          NUMBER           not null
        constraint R_1078
            references CASE_ALLOCATION,
    QUESTION_ID                 NUMBER           not null
        constraint R_1079
            references R_STANDARD_REFERENCE_LIST,
    QUESTION_ANSWER             CHAR
        constraint YES_OR_NO_ONLY_621469556
            check (QUESTION_ANSWER IN ('Y', 'N')),
    ROW_VERSION                 NUMBER default 0 not null
)
    ;

create table MASTER_TRANSFER
(
    MASTER_TRANSFER_ID    NUMBER           not null
        constraint XPKMASTER_TRANSFER
            primary key,
    OFFENDER_ID           NUMBER           not null
        constraint R_1063
            references OFFENDER,
    TRANSFER_DATE         DATE             not null,
    TRANSFER_USER_ID      NUMBER           not null,
    TRANSFER_STATUS_ID    NUMBER           not null
        constraint R_1064
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_STATUS_DATE  DATE             not null,
    TARGET_PROVIDER_ID    NUMBER           not null
        constraint R_1066
            references PROBATION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null
)
    ;

create table COURT_REPORT_TRANSFER
(
    COURT_REPORT_TRANSFER_ID NUMBER           not null
        constraint XPKCOURT_REPORT_TRANSFER
            primary key,
    OFFENDER_ID              NUMBER           not null
        constraint R_1021
            references OFFENDER,
    COURT_REPORT_ID          NUMBER           not null
        constraint R_1022
            references COURT_REPORT,
    TRANSFER_STATUS_ID       NUMBER           not null
        constraint R_1023
            references R_STANDARD_REFERENCE_LIST,
    REQUEST_DATE             DATE,
    ACCEPTED_DECISION_ID     NUMBER
        constraint R_1024
            references R_STANDARD_REFERENCE_LIST,
    REJECTED_REASON_ID       NUMBER
        constraint R_1025
            references R_STANDARD_REFERENCE_LIST,
    ORIGIN_TEAM_ID           NUMBER
        constraint R_1026
            references TEAM,
    ORIGIN_STAFF_ID          NUMBER
        constraint R_1027
            references STAFF,
    RECEIVING_TEAM_ID        NUMBER
        constraint R_1028
            references TEAM,
    RECEIVING_STAFF_ID       NUMBER
        constraint R_1029
            references STAFF,
    NOTES                    CLOB,
    ALLOCATION_REASON_ID     NUMBER
        constraint R_1030
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_REASON_ID       NUMBER           not null
        constraint R_1031
            references R_TRANSFER_REASON,
    SOFT_DELETED             NUMBER           not null
        constraint TRUE_OR_FALSE_1563935964
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION              NUMBER default 0 not null,
    CREATED_BY_USER_ID       NUMBER           not null,
    CREATED_DATETIME         DATE             not null,
    LAST_UPDATED_USER_ID     NUMBER           not null,
    LAST_UPDATED_DATETIME    DATE             not null,
    ORGANISATIONS            ARRAY,
    WITHDRAWAL_REASON_ID     NUMBER
        constraint R_1059
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_STATUS_DATE     DATE,
    MASTER_TRANSFER_ID       NUMBER
        constraint R_1085
            references MASTER_TRANSFER
)
    ;

create table PSS_RQMNT_TRANSFER
(
    PSS_RQMNT_TRANSFER_ID NUMBER(22)           not null
        constraint XPKPSS_RQMNT_TRANSFER
            primary key,
    OFFENDER_ID           NUMBER(22)           not null
        constraint R_952
            references OFFENDER,
    PSS_RQMNT_ID          NUMBER(22)           not null
        constraint R_951
            references PSS_RQMNT,
    TRANSFER_STATUS_ID    NUMBER(22)           not null
        constraint R_953
            references R_STANDARD_REFERENCE_LIST,
    REQUEST_DATE          DATE,
    ACCEPTED_DECISION_ID  NUMBER(22)
        constraint R_954
            references R_STANDARD_REFERENCE_LIST,
    REJECTION_REASON_ID   NUMBER(22)
        constraint R_955
            references R_STANDARD_REFERENCE_LIST,
    ORIGIN_TEAM_ID        NUMBER(22)
        constraint R_956
            references TEAM,
    ORIGIN_STAFF_ID       NUMBER(22)
        constraint R_957
            references STAFF,
    RECEIVING_TEAM_ID     NUMBER(22)
        constraint R_958
            references TEAM,
    RECEIVING_STAFF_ID    NUMBER(22)
        constraint R_959
            references STAFF,
    NOTES                 CLOB,
    ALLOCATION_REASON_ID  NUMBER(22)
        constraint R_960
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_REASON_ID    NUMBER(22)           not null
        constraint R_961
            references R_TRANSFER_REASON,
    SOFT_DELETED          NUMBER(22)           not null
        constraint TRUE_OR_FALSE_289571199
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION           NUMBER(22) default 0 not null,
    CREATED_BY_USER_ID    NUMBER(22)           not null,
    CREATED_DATETIME      DATE                 not null,
    LAST_UPDATED_USER_ID  NUMBER(22)           not null,
    LAST_UPDATED_DATETIME DATE                 not null,
    ORGANISATIONS         ARRAY,
    WITHDRAWAL_REASON_ID  NUMBER
        constraint R_1058
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_STATUS_DATE  DATE,
    MASTER_TRANSFER_ID    NUMBER
        constraint R_1084
            references MASTER_TRANSFER
)
    ;

create table PSS_RQMNT_MANAGER
(
    PSS_RQMNT_MANAGER_ID   NUMBER(22)           not null
        constraint XPKPSS_RQMNT_MANAGER
            primary key,
    PSS_RQMNT_ID           NUMBER(22)           not null
        constraint R_943
            references PSS_RQMNT,
    ALLOCATION_DATE        DATE                 not null,
    TEAM_ID                NUMBER(22)
        constraint R_944
            references TEAM,
    STAFF_ID               NUMBER(22)
        constraint R_945
            references STAFF,
    SOFT_DELETED           NUMBER(22)           not null
        constraint TRUE_OR_FALSE_428933
            check (SOFT_DELETED IN (0, 1)),
    END_DATE               DATE,
    ROW_VERSION            NUMBER(22) default 0 not null,
    CREATED_BY_USER_ID     NUMBER(22)           not null,
    CREATED_DATETIME       DATE                 not null,
    LAST_UPDATED_USER_ID   NUMBER(22)           not null,
    LAST_UPDATED_DATETIME  DATE                 not null,
    TRANSFER_REASON_ID     NUMBER(22)           not null
        constraint R_946
            references R_TRANSFER_REASON,
    TRUST_PROVIDER_FLAG    NUMBER(22)           not null,
    TRUST_PROVIDER_TEAM_ID NUMBER(22)           not null,
    STAFF_EMPLOYEE_ID      NUMBER(22),
    ACTIVE_FLAG            NUMBER(22)           not null
        constraint TRUE_OR_FALSE_200484710
            check (ACTIVE_FLAG IN (0, 1)),
    PSS_RQMNT_TRANSFER_ID  NUMBER(22)
        constraint R_962
            references PSS_RQMNT_TRANSFER,
    ALLOCATION_REASON_ID   NUMBER(22)
        constraint R_1001
            references R_STANDARD_REFERENCE_LIST,
    PROBATION_AREA_ID      NUMBER(22)           not null
        constraint R_1005
            references PROBATION_AREA,
    constraint R_948
        foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID) references ALL_TEAM,
    constraint R_950
        foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID) references OFFICER,
    constraint ACTIVE_FLAG_END_DAT_1299265494
        check ( (ACTIVE_FLAG = 0 AND END_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND END_DATE IS NULL)
            ),
    constraint MANAGEMENT_VALID_DA_1173549581
        check ( (
            (ALLOCATION_DATE <= NVL(END_DATE, ALLOCATION_DATE))
            ) )
)
    ;

create table INSTITUTIONAL_REPORT_TRANSFER
(
    INSTITUTIONAL_REP_TRANSFER_ID NUMBER(22)           not null
        constraint XPKINSTUTUTIONAL_REPORT_TRANSF
            primary key,
    OFFENDER_ID                   NUMBER(22)           not null
        constraint R_970
            references OFFENDER,
    INSTITUTIONAL_REPORT_ID       NUMBER(22)           not null
        constraint R_971
            references INSTITUTIONAL_REPORT,
    TRANSFER_STATUS_ID            NUMBER(22)           not null
        constraint R_972
            references R_STANDARD_REFERENCE_LIST,
    REQUEST_DATE                  DATE,
    ACCEPTED_DECISION_ID          NUMBER(22)
        constraint R_973
            references R_STANDARD_REFERENCE_LIST,
    REJECTION_REASON_ID           NUMBER(22)
        constraint R_974
            references R_STANDARD_REFERENCE_LIST,
    ORIGIN_TEAM_ID                NUMBER(22)
        constraint R_975
            references TEAM,
    ORIGIN_STAFF_ID               NUMBER(22)
        constraint R_976
            references STAFF,
    RECEIVING_TEAM_ID             NUMBER(22)
        constraint R_977
            references TEAM,
    RECEIVING_STAFF_ID            NUMBER(22)
        constraint R_978
            references STAFF,
    NOTES                         CLOB,
    ALLOCATION_REASON_ID          NUMBER(22)
        constraint R_979
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_REASON_ID            NUMBER(22)           not null
        constraint R_980
            references R_TRANSFER_REASON,
    SOFT_DELETED                  NUMBER(22)           not null
        constraint TRUE_OR_FALSE_19966594
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION                   NUMBER(22) default 0 not null,
    CREATED_BY_USER_ID            NUMBER(22)           not null,
    CREATED_DATETIME              DATE                 not null,
    LAST_UPDATED_USER_ID          NUMBER(22)           not null,
    LAST_UPDATED_DATETIME         DATE                 not null,
    ORGANISATIONS                 ARRAY,
    WITHDRAWAL_REASON_ID          NUMBER
        constraint R_1060
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_STATUS_DATE          DATE,
    MASTER_TRANSFER_ID            NUMBER
        constraint R_1086
            references MASTER_TRANSFER
)
    ;

create table REPORT_MANAGER
(
    REPORT_MANAGER_ID              NUMBER           not null
        constraint XPKREPORT_MANAGER
            primary key,
    PARTITION_AREA_ID              NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED                   NUMBER           not null
        constraint TRUE_OR_FALSE3
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION                    NUMBER default 0 not null,
    EVENT_ID                       NUMBER           not null
        references EVENT,
    COURT_REPORT_ID                NUMBER
        references COURT_REPORT,
    INSTITUTIONAL_REPORT_ID        NUMBER
        references INSTITUTIONAL_REPORT,
    TEAM_ID                        NUMBER
        references TEAM,
    STAFF_ID                       NUMBER
        references STAFF,
    PROVIDER_EMPLOYEE_ID           NUMBER
        references PROVIDER_EMPLOYEE,
    ALLOCATION_DATE                DATE             not null,
    END_DATE                       DATE,
    CREATED_DATETIME               DATE             not null,
    CREATED_BY_USER_ID             NUMBER           not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    PROVIDER_TEAM_ID               NUMBER
        references PROVIDER_TEAM,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    TRANSFER_REASON_ID             NUMBER           not null
        references R_TRANSFER_REASON,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    TRUST_PROVIDER_FLAG            NUMBER           not null
        constraint TRUE_OR_FALSE5
            check (TRUST_PROVIDER_FLAG IN (0, 1)),
    STAFF_EMPLOYEE_ID              NUMBER           not null,
    TRUST_PROVIDER_TEAM_ID         NUMBER           not null,
    PROBATION_AREA_ID              NUMBER           not null
        references PROBATION_AREA,
    ACTIVE_FLAG                    NUMBER           not null,
    INSTITUTIONAL_REP_TRANSFER_ID  NUMBER(22)
        constraint R_1006
            references INSTITUTIONAL_REPORT_TRANSFER,
    COURT_REPORT_TRANSFER_ID       NUMBER
        constraint R_1032
            references COURT_REPORT_TRANSFER,
    INST_REP_ALLOCATION_REASON_ID  NUMBER
        constraint R_1033
            references R_STANDARD_REFERENCE_LIST,
    COURT_REP_ALLOCATION_REASON_ID NUMBER
        constraint R_1034
            references R_STANDARD_REFERENCE_LIST,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID) references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID) references ALL_TEAM,
    constraint ACTIVE_FLAG_END_DATE1
        check ( (ACTIVE_FLAG = 0 AND END_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND END_DATE IS NULL)
            ),
    constraint MANAGEMENT_VALID_DATES1
        check ( (
            (ALLOCATION_DATE <= NVL(END_DATE, ALLOCATION_DATE))
            ) ),
    constraint REPORT_MANAGER_REPORT_TYPE
        check ( (
                (COURT_REPORT_ID IS NOT NULL AND INSTITUTIONAL_REPORT_ID IS NULL)
                OR
                (COURT_REPORT_ID IS NULL AND INSTITUTIONAL_REPORT_ID IS NOT NULL)
            ) ),
    constraint REPORT_MANAGER_TEAM_XOR
        check ( (
                (TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint REPORT_MANAGER_XOR
        check ( (
                (PROVIDER_EMPLOYEE_ID IS NOT NULL AND STAFF_ID IS NULL)
                OR
                (PROVIDER_EMPLOYEE_ID IS NULL AND STAFF_ID IS NOT NULL)
            ) ),
    constraint STAFF_OR_TEAM
        check ( (
                    STAFF_EMPLOYEE_ID = STAFF_ID
                OR
                    STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            ) ),
    constraint TRUST_OR_PROVIDER
        check ( (
                    TRUST_PROVIDER_TEAM_ID = TEAM_ID
                OR
                    TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ) )
)
    ;

create table RQMNT_TRANSFER
(
    RQMNT_TRANSFER_ID              NUMBER           not null
        constraint XPKRQMNT_TRANSFER
            primary key,
    OFFENDER_ID                    NUMBER           not null
        constraint R_903
            references OFFENDER,
    RQMNT_ID                       NUMBER           not null
        constraint R_871
            references RQMNT,
    TRANSFER_STATUS_ID             NUMBER           not null
        constraint R_872
            references R_STANDARD_REFERENCE_LIST,
    REQUEST_DATE                   DATE,
    ACCEPTED_DECISION_ID           NUMBER
        constraint R_873
            references R_STANDARD_REFERENCE_LIST,
    REJECTION_REASON_ID            NUMBER
        constraint R_874
            references R_STANDARD_REFERENCE_LIST,
    ORIGIN_TEAM_ID                 NUMBER
        constraint R_875
            references TEAM,
    ORIGIN_STAFF_ID                NUMBER
        constraint R_876
            references STAFF,
    RECEIVING_TEAM_ID              NUMBER
        constraint R_877
            references TEAM,
    RECEIVING_STAFF_ID             NUMBER
        constraint R_878
            references STAFF,
    ORIGIN_PROVIDER_TEAM_ID        NUMBER
        constraint R_912
            references PROVIDER_TEAM,
    ORIGIN_PROVIDER_EMPLOYEE_ID    NUMBER
        constraint R_913
            references PROVIDER_EMPLOYEE,
    RECEIVING_PROVIDER_TEAM_ID     NUMBER
        constraint R_914
            references PROVIDER_TEAM,
    RECEIVING_PROVIDER_EMPLOYEE_ID NUMBER
        constraint R_915
            references PROVIDER_EMPLOYEE,
    NOTES                          CLOB,
    ALLOCATION_REASON_ID           NUMBER
        constraint R_879
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_REASON_ID             NUMBER           not null
        constraint R_880
            references R_TRANSFER_REASON,
    SOFT_DELETED                   NUMBER           not null
        constraint TRUE_OR_FALSE_1309528533
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID              NUMBER           not null
        constraint R_881
            references PARTITION_AREA,
    ROW_VERSION                    NUMBER default 0 not null,
    CREATED_BY_USER_ID             NUMBER           not null,
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    ORGANISATIONS                  ARRAY,
    TRAINING_SESSION_ID            NUMBER
        constraint R_882
            references TRAINING_SESSION,
    WITHDRAWAL_REASON_ID           NUMBER
        constraint R_1056
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_STATUS_DATE           DATE,
    MASTER_TRANSFER_ID             NUMBER
        constraint R_1082
            references MASTER_TRANSFER,
    constraint RQMNT_TRANS_ORGIN_STAFF_XOR
        check ( (
                (ORIGIN_STAFF_ID IS NOT NULL AND ORIGIN_PROVIDER_EMPLOYEE_ID IS NULL)
                OR
                (ORIGIN_STAFF_ID IS NULL AND ORIGIN_PROVIDER_EMPLOYEE_ID IS NOT NULL)
            ) ),
    constraint RQMNT_TRANS_ORGIN_TEAM_XOR
        check ( (
                (ORIGIN_TEAM_ID IS NOT NULL AND ORIGIN_PROVIDER_TEAM_ID IS NULL)
                OR
                (ORIGIN_TEAM_ID IS NULL AND ORIGIN_PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint RQMNT_TRANS_REC_STAFF_XOR
        check ( (
                (RECEIVING_STAFF_ID IS NOT NULL AND RECEIVING_PROVIDER_EMPLOYEE_ID IS NULL)
                OR
                (RECEIVING_STAFF_ID IS NULL AND RECEIVING_PROVIDER_EMPLOYEE_ID IS NOT NULL)
            ) ),
    constraint RQMNT_TRANS_REC_TEAM_XOR
        check ( (
                (RECEIVING_TEAM_ID IS NOT NULL AND RECEIVING_PROVIDER_TEAM_ID IS NULL)
                OR
                (RECEIVING_TEAM_ID IS NULL AND RECEIVING_PROVIDER_TEAM_ID IS NOT NULL)
            ) )
)
    ;

create table RQMNT_MANAGER
(
    RQMNT_MANAGER_ID       NUMBER           not null
        constraint XPKRQMNT_MANAGER
            primary key,
    RQMNT_ID               NUMBER           not null
        references RQMNT,
    ALLOCATION_DATE        DATE             not null,
    ALLOCATED_TEAM_ID      NUMBER
        references TEAM,
    ALLOCATED_STAFF_ID     NUMBER
        references STAFF,
    PROVIDER_EMPLOYEE_ID   NUMBER
        references PROVIDER_EMPLOYEE,
    SOFT_DELETED           NUMBER           not null
        constraint TRUE_OR_FALSE6
            check (SOFT_DELETED IN (0, 1)),
    END_DATE               DATE,
    PARTITION_AREA_ID      NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION            NUMBER default 0 not null,
    PROVIDER_TEAM_ID       NUMBER
        references PROVIDER_TEAM,
    CREATED_BY_USER_ID     NUMBER           not null,
    CREATED_DATETIME       DATE             not null,
    LAST_UPDATED_USER_ID   NUMBER           not null,
    LAST_UPDATED_DATETIME  DATE             not null,
    TRANSFER_REASON_ID     NUMBER           not null
        references R_TRANSFER_REASON,
    TRAINING_SESSION_ID    NUMBER
        references TRAINING_SESSION,
    TRUST_PROVIDER_FLAG    NUMBER           not null
        constraint TRUE_OR_FALSE8
            check (TRUST_PROVIDER_FLAG IN (0, 1)),
    STAFF_EMPLOYEE_ID      NUMBER           not null,
    TRUST_PROVIDER_TEAM_ID NUMBER           not null,
    PROBATION_AREA_ID      NUMBER           not null
        references PROBATION_AREA,
    ACTIVE_FLAG            NUMBER           not null,
    RQMNT_TRANSFER_ID      NUMBER
        constraint R_885
            references RQMNT_TRANSFER,
    ALLOCATION_REASON_ID   NUMBER(22)
        constraint R_984
            references R_STANDARD_REFERENCE_LIST,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID) references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID) references ALL_TEAM,
    constraint ACTIVE_FLAG_END_DATE2
        check ( (ACTIVE_FLAG = 0 AND END_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND END_DATE IS NULL)
            ),
    constraint ALLOCATED_MANAGER_STAFF_XOR_PR
        check ( (
                (PROVIDER_EMPLOYEE_ID IS NOT NULL AND ALLOCATED_STAFF_ID IS NULL)
                OR
                (PROVIDER_EMPLOYEE_ID IS NULL AND ALLOCATED_STAFF_ID IS NOT NULL)
            ) ),
    constraint ALLOCATED_MANAGER_TEAM_XOR_PRO
        check ( (
                (ALLOCATED_TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (ALLOCATED_TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint MANAGEMENT_VALID_DATES2
        check ( (
            (ALLOCATION_DATE <= NVL(END_DATE, ALLOCATION_DATE))
            ) ),
    constraint STAFF_OR_TEAM3
        check ( (
                    STAFF_EMPLOYEE_ID = ALLOCATED_STAFF_ID
                OR
                    STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            ) ),
    constraint TRUST_OR_PROVIDER3
        check ( (
                    TRUST_PROVIDER_TEAM_ID = ALLOCATED_TEAM_ID
                OR
                    TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ) )
)
    ;

create table NSI_TRANSFER
(
    NSI_TRANSFER_ID       NUMBER           not null
        constraint XPKNSI_TRANSFER
            primary key,
    OFFENDER_ID           NUMBER           not null
        constraint R_901
            references OFFENDER,
    NSI_ID                NUMBER           not null
        constraint R_825
            references NSI,
    TRANSFER_STATUS_ID    NUMBER           not null
        constraint R_826
            references R_STANDARD_REFERENCE_LIST,
    REQUEST_DATE          DATE,
    ACCEPTED_DECISION_ID  NUMBER
        constraint R_827
            references R_STANDARD_REFERENCE_LIST,
    REJECTION_REASON_ID   NUMBER
        constraint R_828
            references R_STANDARD_REFERENCE_LIST,
    ORIGIN_TEAM_ID        NUMBER           not null
        constraint R_829
            references TEAM,
    ORIGIN_STAFF_ID       NUMBER           not null
        constraint R_830
            references STAFF,
    TARGET_TEAM_ID        NUMBER           not null
        constraint R_831
            references TEAM,
    TARGET_STAFF_ID       NUMBER           not null
        constraint R_832
            references STAFF,
    NOTES                 CLOB,
    ALLOCATION_REASON_ID  NUMBER
        constraint R_833
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_REASON_ID    NUMBER           not null
        constraint R_846
            references R_TRANSFER_REASON,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE_1231758036
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID     NUMBER           not null
        constraint R_835
            references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    ORGANISATIONS         ARRAY,
    TRAINING_SESSION_ID   NUMBER
        constraint R_836
            references TRAINING_SESSION,
    WITHDRAWAL_REASON_ID  NUMBER
        constraint R_1061
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_STATUS_DATE  DATE,
    MASTER_TRANSFER_ID    NUMBER
        constraint R_1087
            references MASTER_TRANSFER
)
    ;

create table NSI_MANAGER
(
    NSI_MANAGER_ID        NUMBER           not null
        constraint XPKNSI_MANAGER
            primary key,
    NSI_ID                NUMBER           not null
        constraint R_837
            references NSI,
    START_DATE            DATE             not null,
    END_DATE              DATE,
    PROBATION_AREA_ID     NUMBER           not null
        constraint R_838
            references PROBATION_AREA,
    TEAM_ID               NUMBER           not null
        constraint R_839
            references TEAM,
    STAFF_ID              NUMBER           not null
        constraint R_840
            references STAFF,
    NSI_TRANSFER_ID       NUMBER
        constraint R_841
            references NSI_TRANSFER,
    SOFT_DELETED          NUMBER           not null
        constraint TRUE_OR_FALSE_1382103337
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID     NUMBER           not null
        constraint R_842
            references PARTITION_AREA,
    ROW_VERSION           NUMBER default 0 not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    ACTIVE_FLAG           NUMBER           not null,
    TRANSFER_REASON_ID    NUMBER
        constraint R_845
            references R_TRANSFER_REASON,
    TRAINING_SESSION_ID   NUMBER
        constraint R_844
            references TRAINING_SESSION,
    ALLOCATION_REASON_ID  NUMBER(22)
        constraint R_983
            references R_STANDARD_REFERENCE_LIST,
    constraint ACTIVE_FLAG_END_DATE_238841213
        check ( (ACTIVE_FLAG = 0 AND END_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND END_DATE IS NULL)
            )
)
    ;

create table OFFENDER_TRANSFER
(
    OFFENDER_TRANSFER_ID           NUMBER           not null
        constraint XPKOFFENDER_TRANSFER
            primary key,
    PARTITION_AREA_ID              NUMBER           not null
        references PARTITION_AREA,
    SOFT_DELETED                   NUMBER           not null
        constraint TRUE_OR_FALSE24
            check (SOFT_DELETED IN (0, 1)),
    REQUEST_DATE                   DATE,
    ROW_VERSION                    NUMBER default 0 not null,
    OFFENDER_ID                    NUMBER           not null
        references OFFENDER,
    TRANSFER_STATUS_ID             NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    ACCEPTED_DECISION_ID           NUMBER
        references R_STANDARD_REFERENCE_LIST,
    REJECTION_REASON_ID            NUMBER
        references R_STANDARD_REFERENCE_LIST,
    NOTES                          CLOB,
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    TRANSFER_REASON_ID             NUMBER           not null
        references R_TRANSFER_REASON,
    ALLOCATION_REASON_ID           NUMBER
        references R_STANDARD_REFERENCE_LIST,
    ORIGIN_TEAM_ID                 NUMBER
        references TEAM,
    ORIGIN_STAFF_ID                NUMBER
        references STAFF,
    ORIGIN_PROVIDER_EMPLOYEE_ID    NUMBER
        references PROVIDER_EMPLOYEE,
    ORIGIN_PROVIDER_TEAM_ID        NUMBER
        references PROVIDER_TEAM,
    RECEIVING_TEAM_ID              NUMBER
        references TEAM,
    RECEIVING_STAFF_ID             NUMBER
        references STAFF,
    RECEIVING_PROVIDER_EMPLOYEE_ID NUMBER
        references PROVIDER_EMPLOYEE,
    CREATED_BY_USER_ID             NUMBER           not null,
    RECEIVING_PROVIDER_TEAM_ID     NUMBER
        references PROVIDER_TEAM,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    ORGANISATIONS                  ARRAY,
    WITHDRAWAL_REASON_ID           NUMBER
        constraint R_1054
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_STATUS_DATE           DATE,
    MASTER_TRANSFER_ID             NUMBER
        constraint R_1080
            references MASTER_TRANSFER,
    constraint OFFENDER_TRANS_ORGIN_STAFF_XO
        check ( (
                (ORIGIN_STAFF_ID IS NOT NULL AND ORIGIN_PROVIDER_EMPLOYEE_ID IS NULL)
                OR
                (ORIGIN_STAFF_ID IS NULL AND ORIGIN_PROVIDER_EMPLOYEE_ID IS NOT NULL)
            ) ),
    constraint OFFENDER_TRANS_ORGIN_TEAM_XOR
        check ( (
                (ORIGIN_TEAM_ID IS NOT NULL AND ORIGIN_PROVIDER_TEAM_ID IS NULL)
                OR
                (ORIGIN_TEAM_ID IS NULL AND ORIGIN_PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint OFFENDER_TRANS_REC_STAFF_XOR
        check ( (
                (RECEIVING_STAFF_ID IS NOT NULL AND RECEIVING_PROVIDER_EMPLOYEE_ID IS NULL)
                OR
                (RECEIVING_STAFF_ID IS NULL AND RECEIVING_PROVIDER_EMPLOYEE_ID IS NOT NULL)
            ) ),
    constraint OFFENDER_TRANS_REC_TEAM_XOR
        check ( (
                (RECEIVING_TEAM_ID IS NOT NULL AND RECEIVING_PROVIDER_TEAM_ID IS NULL)
                OR
                (RECEIVING_TEAM_ID IS NULL AND RECEIVING_PROVIDER_TEAM_ID IS NOT NULL)
            ) )
)
    ;

create table OFFENDER_MANAGER
(
    OFFENDER_MANAGER_ID    NUMBER           not null
        constraint XPKOFFENDER_MANAGER
            primary key,
    ALLOCATION_DATE        DATE             not null,
    END_DATE               DATE,
    TEAM_ID                NUMBER
        references TEAM,
    ALLOCATION_STAFF_ID    NUMBER
        references STAFF,
    PARTITION_AREA_ID      NUMBER           not null
        references PARTITION_AREA,
    OFFENDER_ID            NUMBER           not null
        references OFFENDER,
    SOFT_DELETED           NUMBER           not null
        constraint TRUE_OR_FALSE47
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION            NUMBER default 0 not null,
    ALLOCATION_REASON_ID   NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    PROVIDER_EMPLOYEE_ID   NUMBER
        references PROVIDER_EMPLOYEE,
    OFFENDER_TRANSFER_ID   NUMBER
        references OFFENDER_TRANSFER,
    PROVIDER_TEAM_ID       NUMBER
        references PROVIDER_TEAM,
    TRAINING_SESSION_ID    NUMBER
        references TRAINING_SESSION,
    TRUST_PROVIDER_FLAG    NUMBER           not null
        constraint TRUE_OR_FALSE49
            check (TRUST_PROVIDER_FLAG IN (0, 1)),
    STAFF_EMPLOYEE_ID      NUMBER           not null,
    PROBATION_AREA_ID      NUMBER           not null
        references PROBATION_AREA,
    TRUST_PROVIDER_TEAM_ID NUMBER           not null,
    ACTIVE_FLAG            NUMBER           not null,
    CREATED_BY_USER_ID     NUMBER           not null,
    CREATED_DATETIME       DATE             not null,
    LAST_UPDATED_USER_ID   NUMBER           not null,
    LAST_UPDATED_DATETIME  DATE             not null,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID) references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID) references ALL_TEAM,
    constraint ACTIVE_FLAG_END_DATE4
        check ( (ACTIVE_FLAG = 0 AND END_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND END_DATE IS NULL)
            ),
    constraint OFFENDER_MANAGER_TEAM_XOR5
        check ( (
                (TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint OFFENDER_MANAGER_XOR
        check ( (
                (PROVIDER_EMPLOYEE_ID IS NOT NULL AND ALLOCATION_STAFF_ID IS NULL)
                OR
                (PROVIDER_EMPLOYEE_ID IS NULL AND ALLOCATION_STAFF_ID IS NOT NULL)
            ) ),
    constraint STAFF_OR_TEAM21
        check ( (
                    STAFF_EMPLOYEE_ID = ALLOCATION_STAFF_ID
                OR
                    STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            ) ),
    constraint TRUST_OR_PROVIDER5
        check ( (
                    TRUST_PROVIDER_TEAM_ID = TEAM_ID
                OR
                    TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ) )
)
    ;

create table COHORT_DIARY
(
    COHORT_DIARY_ID        NUMBER      not null
        constraint XPKCOHORT_DIARY
            primary key,
    OFFENDER_ID            NUMBER      not null
        constraint R_1012
            references OFFENDER,
    OFFENDER_MANAGER_ID    NUMBER      not null
        constraint R_1013
            references OFFENDER_MANAGER,
    EVENT_ID               NUMBER      not null
        constraint R_1014
            references EVENT,
    MAIN_OFFENCE_ID        NUMBER
        constraint R_1015
            references MAIN_OFFENCE,
    DISPOSAL_ID            NUMBER      not null
        constraint R_1016
            references DISPOSAL,
    DISPOSAL_TYPE_ID       NUMBER      not null
        constraint R_1017
            references R_DISPOSAL_TYPE,
    TRUST_PROVIDER_FLAG    NUMBER      not null,
    TRUST_PROVIDER_TEAM_ID NUMBER      not null,
    STAFF_EMPLOYEE_ID      NUMBER      not null,
    COHORT                 VARCHAR2(1) not null
        constraint COHORT_1126705185
            check (COHORT IN ('S', 'R', 'T')),
    PROBATION_AREA_ID      NUMBER      not null
        constraint R_1020
            references PROBATION_AREA,
    FIRST_RELEASE_DATE     DATE,
    DISPOSAL_DATE          DATE,
    UPW                    NUMBER
        constraint TRUE_OR_FALSE_388581676
            check (UPW IN (0, 1)),
    OFFENCE_DATE           DATE,
    ROW_VERSION            NUMBER default 0,
    constraint R_1018
        foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID) references ALL_TEAM,
    constraint R_1019
        foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID) references OFFICER
)
    ;

create table CONTACT_ALERT
(
    CONTACT_ALERT_ID        NUMBER           not null
        constraint XPKCONTACT_ALERT
            primary key,
    OFFENDER_ID             NUMBER
        constraint R_770
            references OFFENDER,
    OFFENDER_MANAGER_ID     NUMBER
        constraint R_771
            references OFFENDER_MANAGER,
    CONTACT_ID              NUMBER
        constraint R_772
            references CONTACT,
    CONTACT_TYPE_ID         NUMBER
        constraint R_773
            references R_CONTACT_TYPE,
    CONTACT_OUTCOME_TYPE_ID NUMBER
        constraint R_774
            references R_CONTACT_OUTCOME_TYPE,
    TRUST_PROVIDER_FLAG     NUMBER,
    TRUST_PROVIDER_TEAM_ID  NUMBER,
    STAFF_EMPLOYEE_ID       NUMBER,
    ROW_VERSION             NUMBER default 0 not null,
    TRAINING_SESSION_ID     NUMBER,
    constraint R_775
        foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID) references ALL_TEAM,
    constraint R_776
        foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID) references OFFICER
)
    ;

create table LIC_CONDITION_TRANSFER
(
    LIC_CONDITION_TRANSFER_ID      NUMBER           not null
        constraint XPKLIC_CONDITION_TRANSFER
            primary key,
    OFFENDER_ID                    NUMBER           not null
        constraint R_902
            references OFFENDER,
    LIC_CONDITION_ID               NUMBER           not null
        constraint R_859
            references LIC_CONDITION,
    TRANSFER_STATUS_ID             NUMBER           not null
        constraint R_860
            references R_STANDARD_REFERENCE_LIST,
    REQUEST_DATE                   DATE,
    ACCEPTED_DECISION_ID           NUMBER
        constraint R_861
            references R_STANDARD_REFERENCE_LIST,
    REJECTION_REASON_ID            NUMBER
        constraint R_862
            references R_STANDARD_REFERENCE_LIST,
    ORIGIN_TEAM_ID                 NUMBER
        constraint R_863
            references TEAM,
    ORIGIN_STAFF_ID                NUMBER
        constraint R_864
            references STAFF,
    RECEIVING_TEAM_ID              NUMBER
        constraint R_865
            references TEAM,
    RECEIVING_STAFF_ID             NUMBER
        constraint R_866
            references STAFF,
    ORIGIN_PROVIDER_TEAM_ID        NUMBER
        constraint R_904
            references PROVIDER_TEAM,
    ORIGIN_PROVIDER_EMPLOYEE_ID    NUMBER
        constraint R_905
            references PROVIDER_EMPLOYEE,
    RECEIVING_PROVIDER_TEAM_ID     NUMBER
        constraint R_906
            references PROVIDER_TEAM,
    RECEIVING_PROVIDER_EMPLOYEE_ID NUMBER
        constraint R_907
            references PROVIDER_EMPLOYEE,
    NOTES                          CLOB,
    ALLOCATION_REASON_ID           NUMBER
        constraint R_867
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_REASON_ID             NUMBER           not null
        constraint R_868
            references R_TRANSFER_REASON,
    SOFT_DELETED                   NUMBER           not null
        constraint TRUE_OR_FALSE_1450363321
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID              NUMBER           not null
        constraint R_869
            references PARTITION_AREA,
    ROW_VERSION                    NUMBER default 0 not null,
    CREATED_BY_USER_ID             NUMBER           not null,
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    ORGANISATIONS                  ARRAY,
    TRAINING_SESSION_ID            NUMBER
        constraint R_870
            references TRAINING_SESSION,
    WITHDRAWAL_REASON_ID           NUMBER
        constraint R_1057
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_STATUS_DATE           DATE,
    MASTER_TRANSFER_ID             NUMBER
        constraint R_1083
            references MASTER_TRANSFER,
    constraint LIC_COND_TRANS_ORGIN_STAFF_XOR
        check ( (
                (ORIGIN_STAFF_ID IS NOT NULL AND ORIGIN_PROVIDER_EMPLOYEE_ID IS NULL)
                OR
                (ORIGIN_STAFF_ID IS NULL AND ORIGIN_PROVIDER_EMPLOYEE_ID IS NOT NULL)
            ) ),
    constraint LIC_COND_TRANS_ORGIN_TEAM_XOR
        check ( (
                (ORIGIN_TEAM_ID IS NOT NULL AND ORIGIN_PROVIDER_TEAM_ID IS NULL)
                OR
                (ORIGIN_TEAM_ID IS NULL AND ORIGIN_PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint LIC_COND_TRANS_REC_STAFF_XOR
        check ( (
                (RECEIVING_STAFF_ID IS NOT NULL AND RECEIVING_PROVIDER_EMPLOYEE_ID IS NULL)
                OR
                (RECEIVING_STAFF_ID IS NULL AND RECEIVING_PROVIDER_EMPLOYEE_ID IS NOT NULL)
            ) ),
    constraint LIC_COND_TRANS_REC_TEAM_XOR
        check ( (
                (RECEIVING_TEAM_ID IS NOT NULL AND RECEIVING_PROVIDER_TEAM_ID IS NULL)
                OR
                (RECEIVING_TEAM_ID IS NULL AND RECEIVING_PROVIDER_TEAM_ID IS NOT NULL)
            ) )
)
    ;

create table LIC_CONDITION_MANAGER
(
    LIC_CONDITION_MANAGER_ID  NUMBER           not null
        constraint XPKLIC_CONDITION_MANAGER
            primary key,
    LIC_CONDITION_ID          NUMBER           not null
        references LIC_CONDITION,
    ALLOCATION_DATE           DATE             not null,
    TEAM_ID                   NUMBER
        references TEAM,
    STAFF_ID                  NUMBER
        references STAFF,
    EXTERNAL_PROVIDER_ID      NUMBER
        references EXTERNAL_PROVIDER,
    PROVIDER_EMPLOYEE_ID      NUMBER
        references PROVIDER_EMPLOYEE,
    SOFT_DELETED              NUMBER           not null
        constraint TRUE_OR_FALSE44
            check (SOFT_DELETED IN (0, 1)),
    END_DATE                  DATE,
    PARTITION_AREA_ID         NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION               NUMBER default 0 not null,
    PROVIDER_TEAM_ID          NUMBER
        references PROVIDER_TEAM,
    CREATED_BY_USER_ID        NUMBER           not null,
    LAST_UPDATED_USER_ID      NUMBER           not null,
    CREATED_DATETIME          DATE             not null,
    LAST_UPDATED_DATETIME     DATE             not null,
    TRANSFER_REASON_ID        NUMBER           not null
        references R_TRANSFER_REASON,
    TRAINING_SESSION_ID       NUMBER
        references TRAINING_SESSION,
    TRUST_PROVIDER_FLAG       NUMBER           not null
        constraint TRUE_OR_FALSE46
            check (TRUST_PROVIDER_FLAG IN (0, 1)),
    STAFF_EMPLOYEE_ID         NUMBER           not null,
    TRUST_PROVIDER_TEAM_ID    NUMBER           not null,
    PROBATION_AREA_ID         NUMBER           not null
        references PROBATION_AREA,
    ACTIVE_FLAG               NUMBER           not null,
    LIC_CONDITION_TRANSFER_ID NUMBER
        constraint R_884
            references LIC_CONDITION_TRANSFER,
    ALLOCATION_REASON_ID      NUMBER(22)
        constraint R_982
            references R_STANDARD_REFERENCE_LIST,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID) references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID) references ALL_TEAM,
    constraint ACTIVE_FLAG_END_DATE3
        check ( (ACTIVE_FLAG = 0 AND END_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND END_DATE IS NULL)
            ),
    constraint MANAGEMENT_VALID_DATES3
        check ( (
            (ALLOCATION_DATE <= NVL(END_DATE, ALLOCATION_DATE))
            ) ),
    constraint OFFENDER_MANAGER_TEAM_XOR4
        check ( (
                (TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint PROVIDER_EMPLOYEE_OR_STAFF4
        check ( (
                (PROVIDER_EMPLOYEE_ID IS NOT NULL AND STAFF_ID IS NULL)
                OR
                (PROVIDER_EMPLOYEE_ID IS NULL AND STAFF_ID IS NOT NULL)
            ) ),
    constraint STAFF_OR_TEAM4
        check ( (
                    STAFF_EMPLOYEE_ID = STAFF_ID
                OR
                    STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            ) ),
    constraint TRUST_OR_PROVIDER4
        check ( (
                    TRUST_PROVIDER_TEAM_ID = TEAM_ID
                OR
                    TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ) )
)
    ;

create table ORDER_TRANSFER
(
    ORDER_TRANSFER_ID              NUMBER           not null
        constraint XPKORDER_TRANSFER
            primary key,
    OFFENDER_ID                    NUMBER           not null
        constraint R_900
            references OFFENDER,
    EVENT_ID                       NUMBER           not null
        constraint R_847
            references EVENT,
    TRANSFER_STATUS_ID             NUMBER           not null
        constraint R_848
            references R_STANDARD_REFERENCE_LIST,
    REQUEST_DATE                   DATE,
    ACCEPTED_DECISION_ID           NUMBER
        constraint R_849
            references R_STANDARD_REFERENCE_LIST,
    REJECTION_REASON_ID            NUMBER
        constraint R_850
            references R_STANDARD_REFERENCE_LIST,
    ORIGIN_TEAM_ID                 NUMBER
        constraint R_851
            references TEAM,
    ORIGIN_STAFF_ID                NUMBER
        constraint R_852
            references STAFF,
    RECEIVING_TEAM_ID              NUMBER
        constraint R_853
            references TEAM,
    RECEIVING_STAFF_ID             NUMBER
        constraint R_854
            references STAFF,
    ORIGIN_PROVIDER_TEAM_ID        NUMBER
        constraint R_908
            references PROVIDER_TEAM,
    ORIGIN_PROVIDER_EMPLOYEE_ID    NUMBER
        constraint R_909
            references PROVIDER_EMPLOYEE,
    RECEIVING_PROVIDER_TEAM_ID     NUMBER
        constraint R_910
            references PROVIDER_TEAM,
    RECEIVING_PROVIDER_EMPLOYEE_ID NUMBER
        constraint R_911
            references PROVIDER_EMPLOYEE,
    ALLOCATION_REASON_ID           NUMBER
        constraint R_855
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_REASON_ID             NUMBER           not null
        constraint R_856
            references R_TRANSFER_REASON,
    NOTES                          CLOB,
    SOFT_DELETED                   NUMBER           not null
        constraint TRUE_OR_FALSE_1460850910
            check (SOFT_DELETED IN (0, 1)),
    PARTITION_AREA_ID              NUMBER           not null
        constraint R_857
            references PARTITION_AREA,
    ROW_VERSION                    NUMBER default 0 not null,
    CREATED_BY_USER_ID             NUMBER           not null,
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    ORGANISATIONS                  ARRAY,
    TRAINING_SESSION_ID            NUMBER
        constraint R_858
            references TRAINING_SESSION,
    WITHDRAWAL_REASON_ID           NUMBER
        constraint R_1055
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_STATUS_DATE           DATE,
    MASTER_TRANSFER_ID             NUMBER
        constraint R_1081
            references MASTER_TRANSFER,
    constraint ORDER_TRANS_ORGIN_STAFF_XOR
        check ( (
                (ORIGIN_STAFF_ID IS NOT NULL AND ORIGIN_PROVIDER_EMPLOYEE_ID IS NULL)
                OR
                (ORIGIN_STAFF_ID IS NULL AND ORIGIN_PROVIDER_EMPLOYEE_ID IS NOT NULL)
            ) ),
    constraint ORDER_TRANS_ORGIN_TEAM_XOR
        check ( (
                (ORIGIN_TEAM_ID IS NOT NULL AND ORIGIN_PROVIDER_TEAM_ID IS NULL)
                OR
                (ORIGIN_TEAM_ID IS NULL AND ORIGIN_PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint ORDER_TRANS_REC_STAFF_XOR
        check ( (
                (RECEIVING_STAFF_ID IS NOT NULL AND RECEIVING_PROVIDER_EMPLOYEE_ID IS NULL)
                OR
                (RECEIVING_STAFF_ID IS NULL AND RECEIVING_PROVIDER_EMPLOYEE_ID IS NOT NULL)
            ) ),
    constraint ORDER_TRANS_REC_TEAM_XOR
        check ( (
                (RECEIVING_TEAM_ID IS NOT NULL AND RECEIVING_PROVIDER_TEAM_ID IS NULL)
                OR
                (RECEIVING_TEAM_ID IS NULL AND RECEIVING_PROVIDER_TEAM_ID IS NOT NULL)
            ) )
)
    ;

create table ORDER_MANAGER
(
    ORDER_MANAGER_ID       NUMBER           not null
        constraint XPKORDER_MANAGER
            primary key,
    ALLOCATION_DATE        DATE             not null,
    ALLOCATION_TEAM_ID     NUMBER
        references TEAM,
    ALLOCATION_STAFF_ID    NUMBER
        references STAFF,
    SOFT_DELETED           NUMBER           not null
        constraint TRUE_OR_FALSE
            check (SOFT_DELETED IN (0, 1)),
    END_DATE               DATE,
    PARTITION_AREA_ID      NUMBER           not null
        references PARTITION_AREA,
    ROW_VERSION            NUMBER default 0 not null,
    EVENT_ID               NUMBER           not null
        references EVENT,
    ALLOCATION_REASON_ID   NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    PROVIDER_EMPLOYEE_ID   NUMBER
        references PROVIDER_EMPLOYEE,
    CREATED_DATETIME       DATE             not null,
    CREATED_BY_USER_ID     NUMBER           not null,
    LAST_UPDATED_DATETIME  DATE             not null,
    PROVIDER_TEAM_ID       NUMBER
        references PROVIDER_TEAM,
    LAST_UPDATED_USER_ID   NUMBER           not null,
    TRANSFER_REASON_ID     NUMBER           not null
        references R_TRANSFER_REASON,
    TRAINING_SESSION_ID    NUMBER
        references TRAINING_SESSION,
    TRUST_PROVIDER_FLAG    NUMBER           not null
        constraint TRUE_OR_FALSE2
            check (TRUST_PROVIDER_FLAG IN (0, 1)),
    STAFF_EMPLOYEE_ID      NUMBER           not null,
    TRUST_PROVIDER_TEAM_ID NUMBER           not null,
    PROBATION_AREA_ID      NUMBER           not null
        references PROBATION_AREA,
    ACTIVE_FLAG            NUMBER           not null,
    ORDER_TRANSFER_ID      NUMBER
        constraint R_897
            references ORDER_TRANSFER,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID) references OFFICER,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID) references ALL_TEAM,
    constraint ACTIVE_FLAG_END_DATE
        check ( (ACTIVE_FLAG = 0 AND END_DATE IS NOT NULL)
            OR
                (ACTIVE_FLAG = 1 AND END_DATE IS NULL)
            ),
    constraint MANAGEMENT_VALID_DATES
        check ( (
            (ALLOCATION_DATE <= NVL(END_DATE, ALLOCATION_DATE))
            ) ),
    constraint ORDER_MANAGER_TEAM_XOR
        check ( (
                (ALLOCATION_TEAM_ID IS NOT NULL AND PROVIDER_TEAM_ID IS NULL)
                OR
                (ALLOCATION_TEAM_ID IS NULL AND PROVIDER_TEAM_ID IS NOT NULL)
            ) ),
    constraint ORDER_MANAGER_XOR
        check ( (
                (PROVIDER_EMPLOYEE_ID IS NOT NULL AND ALLOCATION_STAFF_ID IS NULL)
                OR
                (PROVIDER_EMPLOYEE_ID IS NULL AND ALLOCATION_STAFF_ID IS NOT NULL)
            ) ),
    constraint STAFF_OR_TEAM2
        check ( (
                    STAFF_EMPLOYEE_ID = ALLOCATION_STAFF_ID
                OR
                    STAFF_EMPLOYEE_ID = PROVIDER_EMPLOYEE_ID
            ) ),
    constraint TRUST_OR_PROVIDER2
        check ( (
                    TRUST_PROVIDER_TEAM_ID = ALLOCATION_TEAM_ID
                OR
                    TRUST_PROVIDER_TEAM_ID = PROVIDER_TEAM_ID
            ) )
)
    ;

create table R_REGISTER_TYPE_PROVIDER
(
    REGISTER_TYPE_ID  NUMBER not null
        constraint R_1097
            references R_REGISTER_TYPE,
    PROBATION_AREA_ID NUMBER not null
        constraint R_1098
            references PROBATION_AREA,
    ROW_VERSION       NUMBER default 0,
    constraint XPKR_REGISTER_TYPE_PROVIDER
        primary key (REGISTER_TYPE_ID, PROBATION_AREA_ID)
)
    ;

create table R_REGISTER_TYPE_LEVEL
(
    REGISTER_TYPE_ID  NUMBER           not null
        constraint R_1099
            references R_REGISTER_TYPE,
    REGISTER_LEVEL_ID NUMBER           not null
        constraint R_1100
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION       NUMBER default 0 not null,
    constraint XPKR_REGISTER_TYPE_LEVEL
        primary key (REGISTER_TYPE_ID, REGISTER_LEVEL_ID)
)
    ;

create table R_REGISTER_TYPE_CATEGORY
(
    REGISTER_TYPE_ID     NUMBER           not null
        constraint R_1101
            references R_REGISTER_TYPE,
    REGISTER_CATEGORY_ID NUMBER           not null
        constraint R_1102
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION          NUMBER default 0 not null,
    constraint XPKR_REGISTER_TYPE_CATEGORY
        primary key (REGISTER_TYPE_ID, REGISTER_CATEGORY_ID)
)
    ;

create table R_CIRCUMSTANCE_TYPE_PROVIDER
(
    CIRCUMSTANCE_TYPE_ID NUMBER           not null
        constraint R_1109
            references R_CIRCUMSTANCE_TYPE,
    PROBATION_AREA_ID    NUMBER           not null
        constraint R_1110
            references PROBATION_AREA,
    ROW_VERSION          NUMBER default 0 not null,
    constraint XPKR_CIRCUMSTANCE_PROVIDER
        primary key (CIRCUMSTANCE_TYPE_ID, PROBATION_AREA_ID)
)
    ;

create table PROVIDER_LAO
(
    PROVIDER_LAO_ID              NUMBER           not null
        constraint XPKPROVIDER_LAO
            primary key,
    OFFENDER_ID                  NUMBER           not null
        constraint R_1111
            references OFFENDER,
    PROBATION_AREA_ID            NUMBER           not null
        constraint R_1112
            references PROBATION_AREA,
    RESTRICTION_TEXT             VARCHAR2(4000),
    EXCLUSION_TEXT               VARCHAR2(4000),
    CREATED_BY_USER_ID           NUMBER           not null,
    CREATED_DATETIME             DATE             not null,
    LAST_UPDATED_USER_ID         NUMBER           not null,
    LAST_UPDATED_DATETIME        DATE             not null,
    RESTRICTION_UPDATED_USER_ID  NUMBER,
    RESTRICTION_UPDATED_DATETIME DATE,
    EXCLUSION_UPDATED_USER_ID    NUMBER,
    EXCLUSION_UPDATED_DATETIME   DATE,
    ROW_VERSION                  NUMBER default 0 not null,
    SOFT_DELETED                 NUMBER           not null
        constraint TRUE_OR_FALSE_1382361809
            check (SOFT_DELETED IN (0, 1))
)
    ;

create table SPG_SEARCH_REQUEST
(
    SPG_SEARCH_REQUEST_ID NUMBER not null
        constraint XPKSPG_SEARCH_REQUEST
            primary key,
    CRC_SEARCH_ID         NUMBER not null,
    SURNAME               VARCHAR2(35),
    FIRST_NAME            VARCHAR2(35),
    SECOND_NAME           VARCHAR2(35),
    DATE_OF_BIRTH_DATE    DATE,
    GENDER_ID             NUMBER
        constraint R_1114
            references R_STANDARD_REFERENCE_LIST,
    CRN                   CHAR(7),
    PNC_NUMBER            CHAR(13),
    CRO_NUMBER            VARCHAR2(12),
    NOMS_NUMBER           CHAR(7),
    NI_NUMBER             CHAR(9),
    LAST_UPDATED_USER_ID  NUMBER not null,
    SPG_SEARCH_NIL        CHAR
        constraint YES_OR_NO_ONLY_1919921875
            check (SPG_SEARCH_NIL IN ('Y', 'N')),
    SPG_SEARCH_COUNT      NUMBER,
    SPG_SEARCH_EXCESS     CHAR
        constraint YES_OR_NO_ONLY_808538369
            check (SPG_SEARCH_EXCESS IN ('Y', 'N')),
    SPG_SEARCH_LAO        CHAR
        constraint YES_OR_NO_ONLY_1785900753
            check (SPG_SEARCH_LAO IN ('Y', 'N'))
)
    ;

create table SPG_SEARCH_OFFENDER
(
    SPG_SEARCH_REQUEST_ID NUMBER not null
        constraint R_1115
            references SPG_SEARCH_REQUEST,
    SPG_SEARCH_SEQUENCE   NUMBER not null,
    OFFENDER_ID           NUMBER not null
        constraint R_1116
            references OFFENDER,
    constraint XPKSPG_SEARCH_OFFENDER
        primary key (SPG_SEARCH_REQUEST_ID, SPG_SEARCH_SEQUENCE, OFFENDER_ID)
)
    ;

create table DSS_SEARCH_REQUEST
(
    DSS_SEARCH_REQUEST_ID NUMBER not null
        constraint XPKDSS_SEARCH_REQUEST
            primary key,
    OFFENDER_ID           NUMBER not null
        constraint R_1117
            references OFFENDER,
    CRC_SEARCH_ID         NUMBER,
    CRN                   CHAR(7),
    DSS_SEARCH_NIL        CHAR
        constraint YES_OR_NO_ONLY_1869786070
            check (DSS_SEARCH_NIL IN ('Y', 'N')),
    DSS_SEARCH_COUNT      NUMBER,
    DSS_SEARCH_EXCESS     CHAR
        constraint YES_OR_NO_ONLY_758402564
            check (DSS_SEARCH_EXCESS IN ('Y', 'N')),
    CREATED_BY_USER_ID    NUMBER not null,
    CREATED_DATETIME      DATE   not null,
    LAST_UPDATED_USER_ID  NUMBER not null,
    LAST_UPDATED_DATETIME DATE   not null
)
    ;

create table DSS_SEARCH_OFFENDER
(
    DSS_SEARCH_REQUEST_ID NUMBER not null,
    DSS_SEARCH_SEQUENCE   NUMBER not null,
    OFFLOC_ID             NUMBER not null
        constraint R_1118
            references OFFLOC,
    constraint XPKDSS_SEARCH_OFFENDER
        primary key (DSS_SEARCH_REQUEST_ID, DSS_SEARCH_SEQUENCE, OFFLOC_ID)
)
    ;

create table SPG_EXCEPTION
(
    SPG_EXCEPTION_ID      NUMBER           not null
        constraint XPKSPG_EXCEPTION
            primary key,
    OFFENDER_ID           NUMBER
        constraint R_1122
            references OFFENDER,
    ENTITY_TYPE_ID        NUMBER
        constraint R_1123
            references R_STANDARD_REFERENCE_LIST,
    ENTITY_ID             NUMBER,
    EXCEPTION_TYPE_ID     NUMBER
        constraint R_1124
            references R_STANDARD_REFERENCE_LIST,
    EXCEPTION_TEXT        CLOB,
    IMS_PROVIDER_ID       NUMBER
        constraint R_1125
            references PROBATION_AREA,
    IMS_SENDER_REFERENCE  NUMBER,
    STATUS_ID             NUMBER
        constraint R_1126
            references R_STANDARD_REFERENCE_LIST,
    STATUS_DATE           DATE,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    ROW_VERSION           NUMBER default 0 not null,
    INCIDENT_IDENTIFIER   VARCHAR2(100),
    ASSIGNED_TO_STAFF_ID  NUMBER
        constraint R_1230
            references STAFF
)
    ;

create table R_REGISTER_DUPLICATE_GROUP
(
    REGISTER_GROUP_ID     NUMBER(22)           not null
        constraint XPKR_REGISTER_DUPLICATE_GROUP
            primary key,
    CODE                  VARCHAR2(20)         not null,
    DESCRIPTION           VARCHAR2(200)        not null,
    SELECTABLE            CHAR                 not null,
    ROW_VERSION           NUMBER(22) default 0 not null,
    CREATED_BY_USER_ID    NUMBER(22)           not null,
    CREATED_DATETIME      DATE                 not null,
    LAST_UPDATED_USER_ID  NUMBER(22)           not null,
    LAST_UPDATED_DATETIME DATE                 not null
)
    ;

create table R_REGISTER_TYPE_DUP_GRP
(
    REGISTER_TYPE_DUP_GRP_ID NUMBER           not null
        constraint XPKR_REGISTER_TYPE_DUP_GRP
            primary key,
    REGISTER_TYPE_ID         NUMBER           not null
        constraint R_1141
            references R_REGISTER_TYPE,
    REGISTER_GROUP_ID        NUMBER           not null
        constraint R_1142
            references R_REGISTER_DUPLICATE_GROUP,
    ROW_VERSION              NUMBER default 0 not null,
    TRAINING_SESSION_ID      NUMBER
        constraint R_1143
            references TRAINING_SESSION
)
    ;

create table REJECTED_TRANSFER_DIARY
(
    REJECTED_TRANSFER_DIARY_ID    NUMBER not null
        constraint XPKREJECTED_TRANSFER
            primary key,
    TRANSFER_REQUEST_DATE         DATE   not null,
    TRANSFER_STATUS_DATE          DATE,
    TARGET_PROVIDER_ID            NUMBER not null
        constraint R_1144
            references PROBATION_AREA,
    TARGET_TEAM_ID                NUMBER not null
        constraint R_1145
            references TEAM,
    TARGET_STAFF_ID               NUMBER not null
        constraint R_1146
            references STAFF,
    ORIGIN_PROVIDER_ID            NUMBER not null
        constraint R_1147
            references PROBATION_AREA,
    ORIGIN_TEAM_ID                NUMBER not null
        constraint R_1148
            references TEAM,
    ORIGIN_STAFF_ID               NUMBER not null
        constraint R_1149
            references STAFF,
    REJECTION_REASON_ID           NUMBER not null
        constraint R_1150
            references R_STANDARD_REFERENCE_LIST,
    OFFENDER_ID                   NUMBER not null
        constraint R_1151
            references OFFENDER,
    MASTER_TRANSFER_ID            NUMBER
        constraint R_1152
            references MASTER_TRANSFER,
    OFFENDER_TRANSFER_ID          NUMBER
        constraint R_1153
            references OFFENDER_TRANSFER,
    NSI_TRANSFER_ID               NUMBER
        constraint R_1154
            references NSI_TRANSFER,
    NSI_ID                        NUMBER
        constraint R_1155
            references NSI,
    ORDER_TRANSFER_ID             NUMBER
        constraint R_1168
            references ORDER_TRANSFER,
    EVENT_ID                      NUMBER
        constraint R_1157
            references EVENT,
    RQMNT_TRANSFER_ID             NUMBER
        constraint R_1158
            references RQMNT_TRANSFER,
    RQMNT_ID                      NUMBER
        constraint R_1159
            references RQMNT,
    LIC_CONDITION_TRANSFER_ID     NUMBER
        constraint R_1160
            references LIC_CONDITION_TRANSFER,
    LIC_CONDITION_ID              NUMBER
        constraint R_1161
            references LIC_CONDITION,
    PSS_RQMNT_TRANSFER_ID         NUMBER
        constraint R_1162
            references PSS_RQMNT_TRANSFER,
    PSS_RQMNT_ID                  NUMBER
        constraint R_1163
            references PSS_RQMNT,
    INSTITUTIONAL_REP_TRANSFER_ID NUMBER
        constraint R_1164
            references INSTITUTIONAL_REPORT_TRANSFER,
    INSTITUTIONAL_REPORT_ID       NUMBER
        constraint R_1165
            references INSTITUTIONAL_REPORT,
    COURT_REPORT_TRANSFER_ID      NUMBER
        constraint R_1166
            references COURT_REPORT_TRANSFER,
    COURT_REPORT_ID               NUMBER
        constraint R_1167
            references COURT_REPORT,
    NOTE_FLAG                     CHAR
        constraint YES_OR_NO_ONLY_1313517795
            check (NOTE_FLAG IN ('Y', 'N'))
)
    ;

create table R_HOST
(
    HOST_ID               NUMBER     not null,
    INSTITUTION_ID        NUMBER     not null,
    ESTABLISHMENT         CHAR       not null,
    PROBATION_AREA_ID     NUMBER     not null,
    START_DATE            DATE       not null,
    END_DATE              DATE,
    LEAD_HOST             CHAR,
    CREATED_BY_USER_ID    NUMBER(22) not null,
    CREATED_DATETIME      DATE       not null,
    LAST_UPDATED_USER_ID  NUMBER(22) not null,
    LAST_UPDATED_DATETIME DATE       not null
)
    ;

create table HOST_AT_RELEASE
(
    HOST_AT_RELEASE_ID    NUMBER     not null,
    RELEASE_ID            NUMBER     not null,
    PROBATION_AREA_ID     NUMBER     not null,
    CREATED_BY_USER_ID    NUMBER(22) not null,
    CREATED_DATETIME      DATE       not null,
    LAST_UPDATED_USER_ID  NUMBER(22) not null,
    LAST_UPDATED_DATETIME DATE       not null
)
    ;

create table TIER_ALLOCATION
(
    TIER_ALLOCATION_ID            NUMBER           not null
        constraint XPKTIER_ALLOCATION
            primary key,
    OFFENDER_ID                   NUMBER           not null
        constraint R_1184
            references OFFENDER,
    EVENT_ID                      NUMBER           not null
        constraint R_1185
            references EVENT,
    ALLOCATION_DECISION_ID        NUMBER
        constraint R_1186
            references R_STANDARD_REFERENCE_LIST,
    ALLOCATION_DECISION_DATE      DATE,
    TIER_AT_POINT_OF_DECISION_ID  NUMBER
        constraint R_1187
            references R_STANDARD_REFERENCE_LIST,
    DECISION_PROVIDER_ID          NUMBER
        constraint R_1188
            references PROBATION_AREA,
    DECISION_TEAM_ID              NUMBER
        constraint R_1189
            references TEAM,
    DECISION_STAFF_ID             NUMBER
        constraint R_1190
            references STAFF,
    ALLOCATION_OVERRIDE_REASON_ID NUMBER
        constraint R_1191
            references R_STANDARD_REFERENCE_LIST,
    ALLOCATION_OVERRIDE           NUMBER,
    ALLOCATION_DECISION_NOTES     CLOB,
    ROW_VERSION                   NUMBER default 0 not null,
    NOTES                         CLOB,
    CREATED_BY_USER_ID            NUMBER           not null,
    CREATED_DATETIME              DATE             not null,
    LAST_UPDATED_USER_ID          NUMBER           not null,
    LAST_UPDATED_DATETIME         DATE             not null
)
    ;

create table TIER_ALLOCATION_QUESTION
(
    TIER_ALLOCATION_QUESTION_ID NUMBER           not null
        constraint XPKTIER_ALLOCATION_QUESTION
            primary key,
    TIER_ALLOCATION_ID          NUMBER           not null
        constraint R_1192
            references TIER_ALLOCATION,
    QUESTION_ID                 NUMBER           not null
        constraint R_1193
            references R_STANDARD_REFERENCE_LIST,
    QUESTION_ANSWER             CHAR
        check (QUESTION_ANSWER IN ('Y', 'N')),
    ROW_VERSION                 NUMBER default 0 not null
)
    ;

create table SPG_XSD
(
    SPG_XSD_ID            NUMBER           not null
        constraint XPKSPG_XSD
            primary key,
    XSD_NUMBER            NUMBER,
    XSD_NAME              VARCHAR2(200)    not null,
    XSD_VERSION           VARCHAR2(30)     not null,
    XSD_DATE              DATE             not null,
    ACTIVE_FLAG           NUMBER           not null
        constraint TRUE_OR_FALSE_644453978
            check (ACTIVE_FLAG IN (0, 1)),
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    ROW_ID                NUMBER default 0 not null
)
    ;

create table R_SPG_XSD_PROBATION_AREA
(
    SPG_XSD_ID        NUMBER           not null
        constraint R_1195
            references SPG_XSD,
    PROBATION_AREA_ID NUMBER           not null
        constraint R_1196
            references PROBATION_AREA,
    ROW_VERSION       NUMBER default 0 not null,
    constraint XPKR_SPG_XSD_PROBATION_AREA
        primary key (SPG_XSD_ID, PROBATION_AREA_ID)
)
    ;

create table PRISON_OFFENDER_MANAGER
(
    PRISON_OFFENDER_MANAGER_ID NUMBER           not null
        constraint XPKPRISON_OFFENDER_MANAGER
            primary key,
    OFFENDER_ID                NUMBER           not null
        constraint R_1197
            references OFFENDER,
    PROBATION_AREA_ID          NUMBER           not null
        constraint R_1198
            references PROBATION_AREA,
    ALLOCATION_TEAM_ID         NUMBER           not null
        constraint R_1199
            references TEAM,
    ALLOCATION_STAFF_ID        NUMBER           not null
        constraint R_1200
            references STAFF,
    ALLOCATION_REASON_ID       NUMBER           not null
        constraint R_1201
            references R_STANDARD_REFERENCE_LIST,
    TRANSFER_REASON_ID         NUMBER
        constraint R_1202
            references R_TRANSFER_REASON,
    ALLOCATION_DATE            DATE             not null,
    END_DATE                   DATE,
    ACTIVE_FLAG                NUMBER           not null
        constraint TRUE_OR_FALSE_1484563887
            check (ACTIVE_FLAG IN (0, 1)),
    SOFT_DELETED               NUMBER           not null
        constraint TRUE_OR_FALSE_1988641336
            check (SOFT_DELETED IN (0, 1)),
    ROW_VERSION                NUMBER default 0 not null,
    CREATED_DATETIME           DATE             not null,
    CREATED_BY_USER_ID         NUMBER           not null,
    LAST_UPDATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID       NUMBER           not null,
    --EMAIL_ADDRESS VARCHAR2(255),
	--TELEPHONE_NUMBER VARCHAR2(35),
    constraint ACTIVE_FLAG_END_DATE_15186317
        check ( (ACTIVE_FLAG = 0 AND END_DATE IS NOT NULL)
            OR (ACTIVE_FLAG = 1 AND END_DATE IS NULL)
            ),
    constraint MANAGEMENT_VALID_DAT_945183357
        check ( ((ALLOCATION_DATE <= NVL(END_DATE, ALLOCATION_DATE))) )
)
    ;

create table CASELOAD
(
    CASELOAD_ID                    NUMBER           not null
        constraint XPKCASELOAD
            primary key,
    OFFENDER_ID                    NUMBER           not null
        references OFFENDER,
    OFFENDER_MANAGER_ID            NUMBER
        references OFFENDER_MANAGER,
    EVENT_ID                       NUMBER
        references EVENT,
    ORDER_MANAGER_ID               NUMBER
        references ORDER_MANAGER,
    DISPOSAL_ID                    NUMBER
        references DISPOSAL,
    LIC_CONDITION_ID               NUMBER
        references LIC_CONDITION,
    LIC_CONDITION_MANAGER_ID       NUMBER
        references LIC_CONDITION_MANAGER,
    RQMNT_ID                       NUMBER
        references RQMNT,
    RQMNT_MANAGER_ID               NUMBER
        references RQMNT_MANAGER,
    TRUST_PROVIDER_FLAG            NUMBER           not null
        constraint TRUE_OR_FALSE43
            check (TRUST_PROVIDER_FLAG IN (0, 1)),
    TRUST_PROVIDER_TEAM_ID         NUMBER           not null,
    STAFF_EMPLOYEE_ID              NUMBER           not null,
    DISPOSAL_TYPE_ID               NUMBER
        references R_DISPOSAL_TYPE,
    LIC_COND_TYPE_MAIN_CAT_ID      NUMBER
        references R_LIC_COND_TYPE_MAIN_CAT,
    CRN                            CHAR(7)          not null,
    RQMNT_TYPE_MAIN_CATEGORY_ID    NUMBER
        references R_RQMNT_TYPE_MAIN_CATEGORY,
    AD_RQMNT_TYPE_MAIN_CATEGORY_ID NUMBER
        constraint R_916
            references R_AD_RQMNT_TYPE_MAIN_CATEGORY,
    FIRST_NAME                     VARCHAR2(35)     not null,
    GENDER_ID                      NUMBER           not null
        references R_STANDARD_REFERENCE_LIST,
    SECOND_NAME                    VARCHAR2(35),
    THIRD_NAME                     VARCHAR2(35),
    DATE_OF_BIRTH                  DATE             not null,
    CURRENT_HIGHEST_RISK_COLOUR    VARCHAR2(10),
    SURNAME                        VARCHAR2(35)     not null,
    CURRENT_EXCLUSION              NUMBER           not null,
    CURRENT_TIER                   NUMBER,
    CURRENT_RESTRICTION            NUMBER           not null,
    LENGTH_VALUE                   NUMBER,
    START_DATE                     DATE,
    ROLE_CODE                      VARCHAR2(3)      not null,
    ROW_VERSION                    NUMBER default 0 not null,
    PARTITION_AREA_ID              NUMBER           not null
        references PARTITION_AREA,
    ORGANISATIONS                  ARRAY,
    TRAINING_SESSION_ID            NUMBER
        references TRAINING_SESSION,
    ALLOCATION_DATE                DATE,
    PSS_RQMNT_ID                   NUMBER(22)
        constraint R_1002
            references PSS_RQMNT,
    PSS_RQMNT_MANAGER_ID           NUMBER(22)
        constraint R_1003
            references PSS_RQMNT_MANAGER,
    PSS_RQMNT_TYPE_MAIN_CAT_ID     NUMBER(22)
        constraint R_1004
            references R_PSS_RQMNT_TYPE_MAIN_CATEGORY,
    LENGTH_IN_DAYS                 NUMBER,
    ENTRY_LENGTH_UNITS_ID          NUMBER
        constraint R_1044
            references R_STANDARD_REFERENCE_LIST,
    NOTIONAL_END_DATE              DATE,
    ENTRY_LENGTH                   NUMBER,
    NSI_ID                         NUMBER
        constraint R_1170
            references NSI,
    NSI_MANAGER_ID                 NUMBER
        constraint R_1171
            references NSI_MANAGER,
    PRISON_OFFENDER_MANAGER_ID     NUMBER
        constraint R_1203
            references PRISON_OFFENDER_MANAGER,
    REPORT_MANAGER_ID              NUMBER
        constraint XFK26CASELOAD
            references REPORT_MANAGER,
    COURT_REPORT_ID                NUMBER
        constraint XFK27CASELOAD
            references COURT_REPORT,
    INSTITUTIONAL_REPORT_ID        NUMBER
        constraint XFK28CASELOAD
            references INSTITUTIONAL_REPORT,
    foreign key (TRUST_PROVIDER_FLAG, TRUST_PROVIDER_TEAM_ID) references ALL_TEAM,
    foreign key (TRUST_PROVIDER_FLAG, STAFF_EMPLOYEE_ID) references OFFICER
)
    ;

create table RESPONSIBLE_OFFICER
(
    RESPONSIBLE_OFFICER_ID     NUMBER           not null
        constraint XPKRESPONSIBLE_OFFICER
            primary key,
    OFFENDER_ID                NUMBER           not null
        constraint R_1204
            references OFFENDER,
    OFFENDER_MANAGER_ID        NUMBER
        constraint R_1205
            references OFFENDER_MANAGER,
    PRISON_OFFENDER_MANAGER_ID NUMBER
        constraint R_1206
            references PRISON_OFFENDER_MANAGER,
    START_DATE                 DATE             not null,
    END_DATE                   DATE,
    CREATED_BY_USER_ID         NUMBER           not null,
    CREATED_DATETIME           DATE             not null,
    LAST_UPDATED_USER_ID       NUMBER           not null,
    LAST_UPDATED_DATETIME      DATE             not null,
    ROW_VERSION                NUMBER default 0 not null
)
    ;

create table R_CONTACT_TYPE_NOMIS_TYPE
(
    NOMIS_CONTACT_TYPE VARCHAR2(32) not null
        constraint XPKR_CONTACT_TYPE_NOMIS_TYPE
            primary key,
    CONTACT_TYPE_ID    NUMBER       not null
        constraint R_1207
            references R_CONTACT_TYPE
)
    ;

create table PRECON_HISTORY
(
    PRECON_HISTORY_ID              NUMBER           not null
        constraint XPKPRECON_HISTORY
            primary key,
    PRECON_TRANSACTION_ID          NUMBER           not null,
    SOURCE_OFFENDER_CRN            CHAR(7),
    TARGET_OFFENDER_CRN            CHAR(7),
    MERGE_DATE                     DATE,
    ALFRESCO_DOCUMENT_ID           VARCHAR2(36),
    IN_TRASHCAN                    NUMBER
        constraint TRUE_OR_FALSE_1163906008
            check (IN_TRASHCAN IN (0, 1)),
    MOVE_TO_SOURCE_BEFORE_UNDEL    NUMBER
        constraint TRUE_OR_FALSE_302875035
            check (MOVE_TO_SOURCE_BEFORE_UNDEL IN (0, 1)),
    MOVE_FROM_TRASH_TO_TARGET      NUMBER
        constraint TRUE_OR_FALSE_169940484
            check (MOVE_FROM_TRASH_TO_TARGET IN (0, 1)),
    MOVE_FROM_TARGET_TO_SOURCE     NUMBER
        constraint TRUE_OR_FALSE_204404833
            check (MOVE_FROM_TARGET_TO_SOURCE IN (0, 1)),
    TRASH_DOC_CREATED_BY_USER_ID   NUMBER,
    TRASH_DOC_CREATED_DATETIME     DATE,
    TRASH_DOC_NAME                 VARCHAR2(200),
    TRASH_DOC_EDIT_DATE            DATE,
    TRASH_DOC_OFFENDER_ID          NUMBER,
    TRASH_DOC_CREATED_PROVIDER_ID  NUMBER
        constraint R_1209
            references PROBATION_AREA,
    TRASH_DOC_LAST_UPDATED_USER_ID NUMBER,
    TRASH_DOC_LAST_UPD_PROVIDER_ID NUMBER
        constraint R_1210
            references PROBATION_AREA,
    TRASH_DOC_PRECON_DATE          DATE,
    ROW_VERSION                    NUMBER default 0 not null
)
    ;

create table R_TIER_ALLOC_QUESTION_TIER
(
    TIER_ALLOC_QUESTION_TIER_ID NUMBER           not null
        constraint XPKR_TIER_ALLOC_QUESTION_TIER
            primary key,
    TIER_ALLOCATION_ID          NUMBER           not null
        constraint R_1211
            references R_STANDARD_REFERENCE_LIST,
    QUESTION_ID                 NUMBER           not null
        constraint R_1212
            references R_STANDARD_REFERENCE_LIST,
    CREATED_BY_USER_ID          NUMBER           not null,
    CREATED_DATETIME            DATE             not null,
    LAST_UPDATED_USER_ID        NUMBER           not null,
    LAST_UPDATED_DATETIME       DATE             not null,
    ROW_VERSION                 NUMBER default 0 not null
)
    ;

create table R_NOMIS_TYPE_NSI_TYPE
(
    NOMIS_TYPE_NSI_TYPE_ID NUMBER       not null
        constraint XPKR_NOMIS_TYPE_NSI_TYPE
            primary key,
    NOMIS_CONTACT_TYPE     VARCHAR2(32) not null,
    NSI_TYPE_ID            NUMBER       not null
        constraint R_1214
            references R_NSI_TYPE,
    NSI_LEVEL              VARCHAR2(20) not null
)
    ;

create table OFFENDER_DELTA
(
    OFFENDER_ID            NUMBER                           not null,
    DATE_CHANGED           TIMESTAMP                        not null,
    ACTION                 VARCHAR2(10)                     not null
        constraint OFFENDER_DELTA_ACTI_1109726585
            check (ACTION IN ('UPSERT', 'DELETE')),
    OFFENDER_DELTA_ID      NUMBER                           not null primary key ,
    SOURCE_TABLE           VARCHAR2(30),
    SOURCE_RECORD_ID       NUMBER,
    STATUS                 VARCHAR2(10) default 'CREATED',
    CREATED_DATETIME       DATE default SYSDATE             not null,
    LAST_UPDATED_DATETIME  DATE default SYSDATE             not null
)
    ;

create table SPG_DOCUMENT_REQUEST
(
    SPG_DOCUMENT_REQUEST_ID NUMBER           not null
        constraint XPKSPG_DOCUMENT_REQUEST
            primary key,
    CRC_SEARCH_ID           NUMBER           not null,
    OFFENDER_ID             NUMBER           not null
        constraint R_1226
            references OFFENDER,
    EVENT_ID                NUMBER
        constraint R_1227
            references EVENT,
    SEARCH_COUNT            NUMBER,
    CREATED_BY_USER_ID      NUMBER           not null,
    CREATED_DATETIME        DATE             not null,
    LAST_UPDATED_USER_ID    NUMBER           not null,
    LAST_UPDATED_DATETIME   DATE             not null,
    TARGET_PROVIDER_ID      NUMBER
        constraint R_1246
            references PROBATION_AREA,
    ROW_VERSION             NUMBER default 0 not null
)
    ;

create table NOMIS_CASE_NOTE_ERROR
(
    NOMIS_CASE_NOTE_ERROR_ID NUMBER                  not null
        constraint XPKNOMIS_CASE_NOTE_ERROR
            primary key,
    NOMIS_NUMBER             VARCHAR2(7)             not null,
    STAFF_ID                 NUMBER
        constraint R_1228
            references STAFF,
    ERROR_DATE               DATE                    not null,
    NOTE_TYPE                VARCHAR2(32),
    CASE_NOTE_ID             NUMBER,
    CASE_NOTE                CLOB,
    RESENT                   CHAR        default 'N' not null
        constraint YES_OR_NO_ONLY_1025318769
            check (RESENT IN ('Y', 'N')),
    CREATED_BY_USER_ID       NUMBER                  not null,
    CREATED_DATETIME         DATE                    not null,
    LAST_UPDATED_USER_ID     NUMBER                  not null,
    LAST_UPDATED_DATETIME    DATE                    not null,
    ROW_VERSION              NUMBER      default 0   not null,
    CONTACT_DATE             DATE,
    RESPONSE_CODE            NUMBER,
    REQUEST_METHOD           VARCHAR2(6) default 'PUT'
)
    ;

create table R_COURT_TEAM
(
    COURT_ID    NUMBER           not null
        constraint R_1238
            references COURT,
    TEAM_ID     NUMBER           not null
        constraint R_1239
            references TEAM,
    ROW_VERSION NUMBER default 0 not null,
    constraint XPKR_COURT_TEAM
        primary key (COURT_ID, TEAM_ID)
)
    ;

create table R_TEAM_SHORT_POSTCODE
(
    SHORT_POSTCODE_ID NUMBER           not null
        constraint R_1240
            references R_STANDARD_REFERENCE_LIST,
    TEAM_ID           NUMBER           not null
        constraint R_1241
            references TEAM,
    ROW_VERSION       NUMBER default 0 not null,
    constraint XPKR_TEAM_SHORT_POSTCODE
        primary key (SHORT_POSTCODE_ID, TEAM_ID)
)
    ;

create table R_TEAM_LONG_POSTCODE
(
    LONG_POSTCODE_ID NUMBER           not null
        constraint R_1242
            references R_STANDARD_REFERENCE_LIST,
    TEAM_ID          NUMBER           not null
        constraint R_1243
            references TEAM,
    ROW_VERSION      NUMBER default 0 not null,
    constraint XPKR_TEAM_LONG_POSTCODE
        primary key (LONG_POSTCODE_ID, TEAM_ID)
)
    ;

create table CRC_INACTIVE_OFFENDER
(
    CRC_INACTIVE_OFFENDER_ID NUMBER                 not null
        constraint XPKCRC_INACTIVE_OFFENDER
            primary key,
    OFFENDER_ID              NUMBER                 not null
        constraint R_1244
            references OFFENDER,
    CRC_PROVIDER_ID          NUMBER                 not null
        constraint R_1245
            references PROBATION_AREA,
    PROCESSED_FLAG           NUMBER default 0       not null
        constraint TRUE_OR_FALSE_1885951589
            check (PROCESSED_FLAG IN (0, 1)),
    PROCESSED_DATETIME       DATE,
    ROW_VERSION              NUMBER default 0       not null,
    CREATED_BY_USER_ID       NUMBER                 not null,
    CREATED_DATETIME         DATE   default SYSDATE not null,
    LAST_UPDATED_USER_ID     NUMBER                 not null,
    LAST_UPDATED_DATETIME    DATE   default SYSDATE not null
)
    ;

create table DATA_SCRIPT_MESSAGE
(
    DATA_SCRIPT_MESSAGE_ID    NUMBER               not null
        constraint XPKDATA_SCRIPT_MESSAGE
            primary key,
    DATA_SCRIPT_NAME          VARCHAR2(100)        not null,
    CREATED_DATETIME          DATE default SYSDATE not null,
    OFFENDER_ID               NUMBER               not null,
    EVENT_ID                  NUMBER
        constraint R_1248
            references EVENT,
    DISPOSAL_TERMINATION_DATE DATE,
    UNIQUE_ID                 NUMBER               not null,
    BUSINESS_INTERACTION_ID   NUMBER               not null
)
    ;

create table SPG_NOTIFICATION
(
    SPG_NOTIFICATION_ID         NUMBER             not null
        constraint XPKSPG_NOTIFICATION
            primary key,
    BUSINESS_INTERACTION_ID     NUMBER
        constraint R_1045
            references BUSINESS_INTERACTION,
    OFFENDER_ID                 NUMBER
        constraint R_1046
            references OFFENDER,
    UNIQUE_ID                   NUMBER,
    DATE_CREATED                DATE,
    PROCESSED_FLAG              NUMBER default 0   not null
        constraint PROCESSED_FLAG_1079194201
            check (PROCESSED_FLAG IN (0, 1, 2, 3, 4, 5)),
    PROCESSED_DATETIME          DATE,
    MESSAGE_ID                  VARCHAR2(200),
    ERROR_FLAG                  NUMBER default 0   not null
        constraint TRUE_OR_FALSE_1224137979
            check (ERROR_FLAG IN (0, 1)),
    ERROR_MESSAGE               CLOB,
    AQ_MESSAGE_ID               RAW(16),
    AQ_DATETIME                 DATE,
    CONTROL_REFERENCE           NUMBER,
    SENDER_IDENTITY_ID          NUMBER
        constraint R_1047
            references PROBATION_AREA,
    RECEIVER_IDENTITY_ID        NUMBER
        constraint R_1048
            references PROBATION_AREA,
    XML_MESSAGE                 CLOB,
    SPG_VERSION                 RAW(32),
    RECEIVER_CONTROL_REFERENCE  NUMBER,
    MESSAGE_DIRECTION           CHAR   default 'O' not null
        constraint MESSAGE_DIRECTION_1934366784
            check (MESSAGE_DIRECTION IN ('I', 'O')),
    PARENT_ENTITY_ID            NUMBER,
    SPG_MESSAGE_CONTEXT_ID      NUMBER
        constraint R_1137
            references R_STANDARD_REFERENCE_LIST,
    SPG_INTERCHANGE_STATUS_ID   NUMBER
        constraint R_1138
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                 NUMBER default 0   not null,
    REGENERATED_NOTIFICATION_ID NUMBER
        constraint R_1231
            references SPG_NOTIFICATION,
    MT_COMPONENT_ID             NUMBER,
    MT_THREAD_ID                NUMBER,
    DATE_SUBMITTED              DATE,
    EXPORT_TO_FILE_FLAG         NUMBER default 0   not null
        constraint TRUE_OR_FALSE_1632058710
            check (EXPORT_TO_FILE_FLAG IN (0, 1)),
    DATA_SCRIPT_MESSAGE_ID      NUMBER
        constraint R_1256
            references DATA_SCRIPT_MESSAGE
)
    ;

create table OFFENDER_CRC_EXPORT
(
    OFFENDER_CRC_EXPORT_ID NUMBER           not null
        constraint XPKOFFENDER_CRC_EXPORT
            primary key,
    OFFENDER_ID            NUMBER           not null
        constraint R_1088
            references OFFENDER,
    CRC_PROVIDER_ID        NUMBER           not null
        constraint R_1089
            references PROBATION_AREA,
    EXPORT_DATE            DATE             not null,
    ROW_VERSION            NUMBER default 0 not null,
    CREATED_BY_USER_ID     NUMBER           not null,
    CREATED_DATETIME       DATE             not null,
    LAST_UPDATED_USER_ID   NUMBER           not null,
    LAST_UPDATED_DATETIME  DATE             not null,
    REQUESTED_EXPORT_LEVEL NUMBER
        constraint REQUESTED_EXPORT_LE_2133375239
            check (REQUESTED_EXPORT_LEVEL IN (1, 3)),
    ERROR_FLAG             NUMBER default 0
        constraint TRUE_OR_FALSE_150510653
            check (ERROR_FLAG IN (0, 1)),
    SUBMITTED_DATETIME     DATE,
    PROCESSED_DATETIME     DATE,
    ERROR_MESSAGE          VARCHAR2(4000),
    SPG_NOTIFICATION_ID    NUMBER
        constraint R_1169
            references SPG_NOTIFICATION,
    CURRENT_RECORD_FLAG    VARCHAR2(1)
        constraint CURRENT_RECORD_FLAG_1028330410
            check (CURRENT_RECORD_FLAG IN ('Y', 'X')),
    BATCH_FLAG             NUMBER default 1 not null
        constraint TRUE_OR_FALSE_51672258
            check (BATCH_FLAG IN (0, 1))
)
    ;

create table SPG_ERROR
(
    SPG_ERROR_ID          NUMBER           not null
        constraint XPKSPG_ERROR
            primary key,
    SPG_NOTIFICATION_ID   NUMBER           not null
        constraint R_1127
            references SPG_NOTIFICATION,
    SPG_MESSAGE_TYPE_ID   NUMBER           not null
        constraint R_1128
            references R_STANDARD_REFERENCE_LIST,
    ERROR_DATE            DATE             not null,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    ROW_VERSION           NUMBER default 0 not null,
    SPG_ERROR_CATEGORY_ID NUMBER           not null
        constraint R_1139
            references R_STANDARD_REFERENCE_LIST,
    MESSAGE_CRN           CHAR(7)          not null,
    NOTES                 CLOB,
    RESOLUTION_STATUS_ID  NUMBER
        constraint R_1140
            references R_STANDARD_REFERENCE_LIST,
    RESOLUTION_DATE       DATE,
    INCIDENT_IDENTIFIER   VARCHAR2(100),
    ASSIGNED_TO_STAFF_ID  NUMBER
        constraint R_1229
            references STAFF
)
    ;

create table SPG_ERROR_ELEMENT
(
    SPG_ERROR_ELEMENT_ID  NUMBER           not null
        constraint XPKSPF_ERROR_ELEMENT
            primary key,
    SPG_ERROR_ID          NUMBER           not null
        constraint R_1130
            references SPG_ERROR,
    SPG_ELEMENT_TYPE_ID   NUMBER           not null
        constraint R_1131
            references R_STANDARD_REFERENCE_LIST,
    UNIQUE_ID             NUMBER,
    CREATED_BY_USER_ID    NUMBER           not null,
    CREATED_DATETIME      DATE             not null,
    LAST_UPDATED_USER_ID  NUMBER           not null,
    LAST_UPDATED_DATETIME DATE             not null,
    ROW_VERSION           NUMBER default 0 not null
)
    ;

create table SPG_ERROR_DETAIL
(
    SPG_ERROR_DETAIL_ID  NUMBER not null
        constraint XPKSPG_ERROR_DETAIL
            primary key,
    SPG_ERROR_ID         NUMBER not null
        constraint R_1132
            references SPG_ERROR,
    SPG_ERROR_ELEMENT_ID NUMBER
        constraint R_1133
            references SPG_ERROR_ELEMENT,
    SPG_ERROR_CODE_ID    NUMBER
        constraint R_1136
            references R_STANDARD_REFERENCE_LIST,
    DATA_ITEM            VARCHAR2(255)
)
    ;

create table CONTACT_ALERT_CLEAR
(
    CONTACT_ALERT_CLEAR_ID NUMBER           not null
        constraint XPKCONTACT_ALERT_CLEAR
            primary key,
    OFFENDER_ID            NUMBER           not null
        constraint R_1215
            references OFFENDER,
    CONTACT_ID             NUMBER           not null
        constraint R_1216
            references CONTACT,
    SPG_NOTIFICATION_ID    NUMBER
        constraint R_1217
            references SPG_NOTIFICATION,
    SUBMITTED_DATETIME     DATE             not null,
    PROCESSED_DATETIME     DATE,
    PROCESSED_FLAG         NUMBER           not null
        constraint TRUE_OR_FALSE_895591335
            check (PROCESSED_FLAG IN (0, 1)),
    ERROR_FLAG             NUMBER           not null
        constraint TRUE_OR_FALSE_65056682
            check (ERROR_FLAG IN (0, 1)),
    ERROR_MESSAGE          VARCHAR2(4000),
    ROW_VERSION            NUMBER default 0 not null,
    CREATED_BY_USER_ID     NUMBER           not null
        constraint R_1218
            references USER_,
    CREATED_DATETIME       DATE             not null,
    LAST_UPDATED_USER_ID   NUMBER           not null
        constraint R_1219
            references USER_,
    LAST_UPDATED_DATETIME  DATE             not null
)
    ;

create table SPG_ERROR_CLEAR_REQUEST
(
    SPG_ERROR_CLEAR_REQUEST_ID NUMBER                 not null
        constraint XPKSPG_ERROR_CLEAR_REQUEST
            primary key,
    SPG_NOTIFICATION_ID        NUMBER                 not null
        constraint R_1233
            references SPG_NOTIFICATION,
    PROCESSED_FLAG             NUMBER default 0       not null
        constraint TRUE_OR_FALSE_1933636605
            check (PROCESSED_FLAG IN (0, 1)),
    PROCESSED_DATETIME         DATE,
    ROW_VERSION                NUMBER default 0       not null,
    CREATED_BY_USER_ID         NUMBER                 not null,
    CREATED_DATETIME           DATE   default SYSDATE not null,
    LAST_UPDATED_USER_ID       NUMBER                 not null,
    LAST_UPDATED_DATETIME      DATE   default SYSDATE not null
)
    ;

create table DYNAMIC_RSR_HISTORY
(
    DYNAMIC_RSR_HISTORY_ID NUMBER not null
        constraint XPKDYNAMIC_RSR_HISTORY
            primary key,
    OFFENDER_ID            NUMBER not null
        constraint R_1260
            references OFFENDER,
    DYNAMIC_RSR_SCORE      NUMBER(5, 2),
    REASON_FOR_CHANGE_ID   NUMBER not null
        constraint R_1261
            references R_STANDARD_REFERENCE_LIST,
    DATE_RECORDED          DATE,
    CREATED_BY_USER_ID     NUMBER not null,
    CREATED_DATETIME       DATE   not null,
    LAST_UPDATED_USER_ID   NUMBER not null,
    LAST_UPDATED_DATETIME  DATE   not null
)
    ;

create table PROCESSING_CRN
(
    PROCESSING_CRN_ID NUMBER  not null
        constraint XPKPROCESSING_CRN
            primary key,
    CRN               CHAR(7) not null
        constraint XAKPROCESSING_CRN
            unique,
    DATE_COMMENCED    DATE    not null
)
    ;

create table APPROVED_PREMISES_PREFERRED
(
    APPROVED_PREMISES_PREFERRED_ID NUMBER           not null
        constraint XPKAPPROVED_PREMISES_PREFERRED
            primary key,
    APPROVED_PREMISES_REFERRAL_ID  NUMBER           not null
        constraint R_1275
            references APPROVED_PREMISES_REFERRAL,
    APPROVED_PREMISES_ID           NUMBER           not null
        constraint R_1276
            references R_APPROVED_PREMISES,
    DISTANCE_FROM_AP_ID            NUMBER           not null
        constraint R_1277
            references R_STANDARD_REFERENCE_LIST,
    DISTANCE_REASON_ID             NUMBER
        constraint R_1278
            references R_STANDARD_REFERENCE_LIST,
    NOTES                          CLOB,
    REFERRAL_DECISION_ID           NUMBER
        constraint R_1279
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                    NUMBER default 0 not null,
    CREATED_BY_USER_ID             NUMBER           not null,
    CREATED_DATETIME               DATE             not null,
    LAST_UPDATED_USER_ID           NUMBER           not null,
    LAST_UPDATED_DATETIME          DATE             not null,
    RANK                           NUMBER
)
    ;

create table AP_REFERRAL_DELTA
(
    AP_REFERRAL_DELTA_ID          NUMBER not null
        constraint XPKAPPROVED_PREMISES_REFERRAL_
            primary key,
    APPROVED_PREMISES_REFERRAL_ID NUMBER,
    CREATED_DATETIME              DATE,
    PROCESSED_DATETIME            DATE
)
    ;

create table AP_REFERRAL_DELTA_ERROR
(
    AP_REFERRAL_DELTA_ERROR_ID    NUMBER           not null
        constraint XPKAP_REFERRAL_DELTA_ERROR
            primary key,
    APPROVED_PREMISES_REFERRAL_ID NUMBER,
    ERROR_DATE                    DATE             not null,
    ERROR_CODE                    VARCHAR2(10)     not null,
    ERROR_MESSAGE                 VARCHAR2(1000),
    RESPONSE_CODE                 NUMBER           not null,
    REQUEST_METHOD                VARCHAR2(18)     not null,
    RESENT                        CHAR   default 'N'
        constraint YES_OR_NO_ONLY_1296458602
            check (RESENT IN ('Y', 'N')),
    NOTES                         CLOB,
    INCIDENT_IDENTIFIER           VARCHAR2(100),
    ASSIGNED_TO_STAFF_ID          NUMBER,
    RESOLUTION_STATUS_ID          NUMBER
        constraint R_1280
            references R_STANDARD_REFERENCE_LIST,
    ROW_VERSION                   NUMBER default 0 not null,
    CREATED_BY_USER_ID            NUMBER           not null,
    CREATED_DATETIME              DATE             not null,
    LAST_UPDATED_USER_ID          NUMBER           not null,
    LAST_UPDATED_DATETIME         DATE             not null,
    RESOLUTION_DATE               DATE
)
    ;

SET REFERENTIAL_INTEGRITY FALSE;